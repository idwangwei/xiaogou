webpackJsonp([48],{0:function(e,n,t){"use strict";t(5615),t(5616),t(5642)},171:function(e,n,t){"use strict";function i(e,n,t){y=e,n&&(k=n),t&&(q=t);var i=angular.element("body").injector(),r=i.get("$rootScope"),o=i.get("$ngRedux");k&&t?o?o.mergeReducer(k,q).then(function(){console.log(e.name+"-storeReady!!!!!!!!!!"),r.$$listeners[e.name+"-storeReady"]?r.$broadcast(e.name+"-storeReady"):r[e.name+"-storeReady"]=!0}):(console.error("$ngRedux not found!"),r[e.name+"-storeReady"]=!0):r[e.name+"-storeReady"]=!0}function r(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){function t(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return z(n,e,i),e.$inject=n,e.instance=new(Function.prototype.bind.apply(e,[null].concat(i))),e.instance}return t.prototype=e.prototype,t.$inject=n,t}}function o(e,n){return function(t){var i=function(e){return e.targetScope.ctrl},r=function(e,n){Object.keys(n).concat(Object.getOwnPropertyNames(n.__proto__)).forEach(function(t){if("constructor"!==t)if(e[t])if(angular.isFunction(e[t])&&angular.isFunction(n[t])){var i=e[t];e[t]=function(){var e=this,r=arguments;i.call(this,arguments).then(function(){n[t].call(e,r)})}}else e[t]=n[t];else e[t]=n[t]})};y.run(["$rootScope","$injector",function(o,c){o.$on("$ionicView.loaded",function(o,a){if(a.stateName===e){var l=i(o),s=new t;n.inject&&n.inject.length&&n.inject.forEach(function(e){s[e]=c.get(e)}),r(l,s)}})}])}}function c(e,n){return function(t){function i(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];n.inject&&n.inject.length&&z(n.inject,t,i);var o=new(Function.prototype.bind.apply(t,[null].concat(i)));o.selectorList=o.selectorList?o.selectorList:[];var c=function(){},a={initFlags:c,initData:c,mapStateToThis:c,mapActionToThis:c,componentWillReceiveProps:c,onBeforeEnterView:c,onAfterEnterView:c,onBeforeLeaveView:c,onLoadedView:c,onUpdate:c,configDataPipe:c,onReceiveProps:c},l={viewEntered:!1,hasPageRefreshManger:!1,dataPipe:new g.default},s=c,u=c;Object.keys(a).forEach(function(e){o[e]||(o[e]=a[e])}),Object.assign(o,l),o.configDataPipe(),o.mapStateObj={selectorList:o.selectorList,mapStateToThis:o.mapStateToThis};var d=o.getScope();if(!d)throw new Error('$scope must be injected with Decorator "@View"');var f=o.$ngRedux;if(!f)throw new Error('$ngRedux must be injected with Decorator "@View"');var p=o.pageRefreshManager;if(!o.getStateService)throw new Error("$state is required with pageRefreshManager");if(o.go=function(e,n,t){if(!o.getStateService||!o.getStateService())return console.error("$state service is not injected!");"string"!=typeof n&&(t=n,n="forward");var i=o.$injector.get("$ionicViewSwitcher");o.viewEntered=!1,"none"!=n?i.nextDirection(n):i.nextDirection("none"),o.getStateService().go(e,t)},p&&p.getListenerName&&(o.hasPageRefreshManger=!0,o.hasPageRefreshManger)){var _=o.getStateService();u=d.$on(p.getListenerName(_.current,_.params),function(e,n){p.shouldUpdate(_,n.url)&&o.onUpdate()})}var h=d.$on("$ionicView.beforeEnter",function(){if(o.onBeforeEnterView(),o.getRootScope&&o.back){o.getRootScope().viewGoBack=o.back.bind(o)}}),b=d.$on("$ionicView.beforeLeave",function(){s(),o.viewEntered=!1,o.onBeforeLeaveView()}),v=d.$on("$ionicView.loaded",function(){o.onLoadedView()}),m=d.$on("$ionicView.afterEnter",function(){d.$evalAsync(function(){o.viewEntered=!0,s=f.connect(o.mapStateObj,o.mapActionToThis(),o)(function(e,n){o.viewEntered&&(Object.assign(o,e,n),o.dataPipe.run(o),d.$evalAsync(function(){o.onReceiveProps(e,n)}))}),o.onAfterEnterView()})});return d.$on("$destroy",function(){s(),u(),m(),h(),b(),v()}),o}return i.prototype=t.prototype,i.$inject=t.$inject,n.inject&&n.inject.length&&(i.$inject=n.inject),i.$inject.push("$injector"),y.config(["$stateProvider",function(t){if(n.views){var r=Object.keys(n.views)[0],o=n.views[r];o.controller=i,o.controllerAs=o.controllerAs||"ctrl"}else n.controller=i,n.controllerAs=n.controllerAs||"ctrl";t.state(e,n)}]),i}}function a(e){return function(n){if(!e.selector)throw new Error("selector must be provided!");e.controller=n,e.controllerAs||(e.controllerAs="ctrl"),y.directive(e.selector,function(){return e})}}function l(e){return function(n){n.controller=n,y.component(e.selector,e)}}function s(e){return function(n,t,i){if(i.writable=!0,n.selectorList||(n.selectorList=[]),e)if("string"==typeof e)n.selectorList.push({type:w,key:t,selector:e});else if(e instanceof Array)n.selectorList.push({type:m,key:t,selector:e});else{if(!(e instanceof Function))throw new Error("unknown selector type!");n.selectorList.push({type:x,key:t,selector:e})}else n.selectorList.push({type:v,key:t})}}function u(e,n,t){var i=t.value,r=void 0;return t.value=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];var c=e.$ngRedux;if(!c)throw new Error("$ngRedux is required by decorator @actionCreator");var a=(0,b.bindActionCreators)(i.bind(e.constructor.instance),c.dispatch);return r=a.apply(e,t)},t}function d(e,n){return function(t){y.constant(e,n)}}function f(e,n){return function(t){n&&n.inject&&n.inject.length&&(t.$inject=n.inject),y.service(e,t)}}function p(e,n,t){var i=t.value;return t.value=function(){var e=this;return new Promise(function(n){i.call(e,n)})},t}Object.defineProperty(n,"__esModule",{value:!0}),n.registerModule=i,n.Inject=r,n.ViewDecorator=o,n.View=c,n.Directive=a,n.Component=l,n.select=s,n.actionCreator=u,n.Constant=d,n.Service=f,n.PromiseFn=p;var _=t(172),h=t(174),g=function(e){return e&&e.__esModule?e:{default:e}}(h),b=t(176),v="EMPTY_SELECTOR_TYPE",m="PATH_SELECTOR_TYPE",x="FUNCTION_SELECTOR_TYPE",w="STR_SELECTOR_TYPE",y=_.ngDecModule,k=void 0,q=void 0,z=function(e,n,t){e.forEach(function(e,i){"$scope"==e?n.prototype.getScope=function(){return t[i]}:"$rootScope"==e?n.prototype.getRootScope=function(){return t[i]}:"$state"==e?n.prototype.getStateService=function(){return t[i]}:"$ngRedux"==e?(n.prototype.getState=function(){return t[i].getState()},n.prototype[e]=t[i]):n.prototype[e]=t[i]})}},172:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ngDecModule=void 0,t(173);var i=angular.module("ngDecModule",[]);n.ngDecModule=i},174:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=t(175),c=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(n,t,r){i(this,e),this.id=(0,c.default)(),this.criteriaList=n||[],this.invokeList=t||[],this.sequence=r||0}return r(e,[{key:"pushCriteria",value:function(e){this.criteriaList.push(e)}},{key:"pushInvoke",value:function(e){this.invokeList.push(e)}}]),e}(),l=function(){function e(){i(this,e),this.configList=[],this.lastConfigId=null,this.lastActionType=u.PUSH_CRITERIA}return r(e,[{key:"getLastConfig",value:function(){var e=this,n=null,t=void 0;switch(this.lastActionType){case u.PUSH_CRITERIA:return this.lastConfigId?this.configList.forEach(function(t){t.id==e.lastConfigId&&(n=t)}):(n=new a,n.sequence=1,this.configList.push(n),this.lastConfigId=n.id),n;case u.PUSH_INVOKE:case u.NEXT:return this.configList.forEach(function(t){t.id==e.lastConfigId&&(n=t)}),t=new a,t.sequence=n.sequence++,this.configList.push(t),this.lastConfigId=t.id,t}}},{key:"when",value:function(e){return"function"!=typeof e?console.error(s.CRITERIA_ERROR):(this.getLastConfig().pushCriteria(e),this.lastActionType=u.PUSH_CRITERIA,this)}},{key:"then",value:function(e){return"function"!=typeof e?console.error(s.INVOKE_ERROR):(this.getLastConfig().pushInvoke(e),this.lastActionType=u.PUSH_INVOKE,this)}},{key:"next",value:function(){return this.lastActionType=u.NEXT,this}},{key:"run",value:function(e){for(var n=!0,t=this.configList.slice(0,this.configList.length);n&&t.length;){for(var i=[t.shift()];t[0]&&i[0].sequence==t[0].sequence;)i.push(t.shift());for(var r=0;r<i.length;r++)!function(t){var r=i[t],o=!0;r.criteriaList.forEach(function(n){o=o&&n.call(e)}),o?r.invokeList.forEach(function(n){n.call(e)}):n=!1}(r)}}}]),e}(),s={CRITERIA_ERROR:"criteria should be function!",INVOKE_ERROR:"invoke should be function"},u={PUSH_CRITERIA:"PUSH_CRITERIA",PUSH_INVOKE:"PUSH_INVOKE",NEXT:"NEXT"};window.dataPipe=new l,n.default=l},175:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(e){return Math.pow(2,e)},i=(t(4),t(6)),r=t(8),o=t(12),c=(t(14),t(16)),a=t(32),l=(t(40),t(48),function(e,n){return Math.floor(Math.random()*(n-e+1))+e}),s=function(){return l(0,i-1)},u=function(){return l(0,r-1)},d=function(){return l(0,o-1)},f=function(){return l(0,c-1)},p=function(){return l(0,a-1)},_=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},h=function(e,n,t){e=String(e),t=t||"0";for(var i=n-e.length;i>0;i>>>=1,t+=t)1&i&&(e=t+e);return e},g=function(e,n,t,i,r,o){return h(e.toString(16),8)+"-"+h(n.toString(16),4)+"-"+h(t.toString(16),4)+"-"+h(i.toString(16),2)+h(r.toString(16),2)+"-"+h(o.toString(16),12)},b=function(){return g(p(),f(),16384|d(),128|s(),u(),_())};n.default=b},235:function(e,n,t){function i(e,n,t){for(var i=-1,r=c(n),o=r.length;++i<o;){var a=r[i],l=e[a],s=t(l,n[a],a,e,n);(s===s?s===l:l!==l)&&(void 0!==l||a in e)||(e[a]=s)}return e}var r=t(236),o=t(242),c=t(246),a=o(function(e,n,t){return t?i(e,n,t):r(e,n)});e.exports=a},236:function(e,n,t){function i(e,n){return null==n?e:r(n,o(n),e)}var r=t(237),o=t(238);e.exports=i},237:function(e,n){function t(e,n,t){t||(t={});for(var i=-1,r=n.length;++i<r;){var o=n[i];t[o]=e[o]}return t}e.exports=t},238:function(e,n,t){function i(e){return null!=e&&o(b(e))}function r(e,n){return e="number"==typeof e||f.test(e)?+e:-1,n=null==n?g:n,e>-1&&e%1==0&&e<n}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function c(e){for(var n=l(e),t=n.length,i=t&&e.length,c=!!i&&o(i)&&(d(e)||u(e)),a=-1,s=[];++a<t;){var f=n[a];(c&&r(f,i)||_.call(e,f))&&s.push(f)}return s}function a(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function l(e){if(null==e)return[];a(e)||(e=Object(e));var n=e.length;n=n&&o(n)&&(d(e)||u(e))&&n||0;for(var t=e.constructor,i=-1,c="function"==typeof t&&t.prototype===e,l=Array(n),s=n>0;++i<n;)l[i]=i+"";for(var f in e)s&&r(f,n)||"constructor"==f&&(c||!_.call(e,f))||l.push(f);return l}var s=t(239),u=t(240),d=t(241),f=/^\d+$/,p=Object.prototype,_=p.hasOwnProperty,h=s(Object,"keys"),g=9007199254740991,b=function(e){return function(n){return null==n?void 0:n[e]}}("length"),v=h?function(e){var n=null==e?void 0:e.constructor;return"function"==typeof n&&n.prototype===e||"function"!=typeof e&&i(e)?c(e):a(e)?h(e):[]}:c;e.exports=v},239:function(e,n){function t(e){return!!e&&"object"==typeof e}function i(e,n){var t=null==e?void 0:e[n];return c(t)?t:void 0}function r(e){return o(e)&&f.call(e)==a}function o(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function c(e){return null!=e&&(r(e)?p.test(u.call(e)):t(e)&&l.test(e))}var a="[object Function]",l=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,d=s.hasOwnProperty,f=s.toString,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},240:function(e,n){function t(e){return r(e)&&_.call(e,"callee")&&(!g.call(e,"callee")||h.call(e)==u)}function i(e){return null!=e&&c(e.length)&&!o(e)}function r(e){return l(e)&&i(e)}function o(e){var n=a(e)?h.call(e):"";return n==d||n==f}function c(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function a(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function l(e){return!!e&&"object"==typeof e}var s=9007199254740991,u="[object Arguments]",d="[object Function]",f="[object GeneratorFunction]",p=Object.prototype,_=p.hasOwnProperty,h=p.toString,g=p.propertyIsEnumerable;e.exports=t},241:function(e,n){function t(e){return!!e&&"object"==typeof e}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function r(e){return o(e)&&f.call(e)==a}function o(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function c(e){return null!=e&&(r(e)?p.test(u.call(e)):t(e)&&l.test(e))}var a="[object Function]",l=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,d=s.hasOwnProperty,f=s.toString,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=function(e,n){var t=null==e?void 0:e[n];return c(t)?t:void 0}(Array,"isArray"),h=9007199254740991,g=_||function(e){return t(e)&&i(e.length)&&"[object Array]"==f.call(e)};e.exports=g},242:function(e,n,t){function i(e){return c(function(n,t){var i=-1,c=null==n?0:t.length,a=c>2?t[c-2]:void 0,l=c>2?t[2]:void 0,s=c>1?t[c-1]:void 0;for("function"==typeof a?(a=r(a,s,5),c-=2):(a="function"==typeof s?s:void 0,c-=a?1:0),l&&o(t[0],t[1],l)&&(a=c<3?void 0:a,c=1);++i<c;){var u=t[i];u&&e(n,u,a)}return n})}var r=t(243),o=t(244),c=t(245);e.exports=i},243:function(e,n){function t(e,n,t){if("function"!=typeof e)return i;if(void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 3:return function(t,i,r){return e.call(n,t,i,r)};case 4:return function(t,i,r,o){return e.call(n,t,i,r,o)};case 5:return function(t,i,r,o,c){return e.call(n,t,i,r,o,c)}}return function(){return e.apply(n,arguments)}}function i(e){return e}e.exports=t},244:function(e,n){function t(e){return null!=e&&o(s(e))}function i(e,n){return e="number"==typeof e||a.test(e)?+e:-1,n=null==n?l:n,e>-1&&e%1==0&&e<n}function r(e,n,r){if(!c(r))return!1;var o=typeof n;if("number"==o?t(r)&&i(n,r.length):"string"==o&&n in r){var a=r[n];return e===e?e===a:a!==a}return!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function c(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}var a=/^\d+$/,l=9007199254740991,s=function(e){return function(n){return null==n?void 0:n[e]}}("length");e.exports=r},245:function(e,n){function t(e,n){if("function"!=typeof e)throw new TypeError(i);return n=r(void 0===n?e.length-1:+n||0,0),function(){for(var t=arguments,i=-1,o=r(t.length-n,0),c=Array(o);++i<o;)c[i]=t[n+i];switch(n){case 0:return e.call(this,c);case 1:return e.call(this,t[0],c);case 2:return e.call(this,t[0],t[1],c)}var a=Array(n+1);for(i=-1;++i<n;)a[i]=t[i];return a[n]=c,e.apply(this,a)}}var i="Expected a function",r=Math.max;e.exports=t},246:function(e,n,t){function i(e){return null!=e&&o(b(e))}function r(e,n){return e="number"==typeof e||f.test(e)?+e:-1,n=null==n?g:n,e>-1&&e%1==0&&e<n}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function c(e){for(var n=l(e),t=n.length,i=t&&e.length,c=!!i&&o(i)&&(d(e)||u(e)),a=-1,s=[];++a<t;){var f=n[a];(c&&r(f,i)||_.call(e,f))&&s.push(f)}return s}function a(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function l(e){if(null==e)return[];a(e)||(e=Object(e));var n=e.length;n=n&&o(n)&&(d(e)||u(e))&&n||0;for(var t=e.constructor,i=-1,c="function"==typeof t&&t.prototype===e,l=Array(n),s=n>0;++i<n;)l[i]=i+"";for(var f in e)s&&r(f,n)||"constructor"==f&&(c||!_.call(e,f))||l.push(f);return l}var s=t(239),u=t(240),d=t(241),f=/^\d+$/,p=Object.prototype,_=p.hasOwnProperty,h=s(Object,"keys"),g=9007199254740991,b=function(e){return function(n){return null==n?void 0:n[e]}}("length"),v=h?function(e){var n=null==e?void 0:e.constructor;return"function"==typeof n&&n.prototype===e||"function"!=typeof e&&i(e)?c(e):a(e)?h(e):[]}:c;e.exports=v},282:function(e,n,t){(function(e,t){function i(e,n){for(var t=-1,i=e?e.length:0;++t<i;)if(n(e[t],t,e))return!0;return!1}function r(e,n,t,i){for(var r=e.length,o=t+(i?1:-1);i?o--:++o<r;)if(n(e[o],o,e))return o;return-1}function o(e){return function(n){return null==n?void 0:n[e]}}function c(e,n){for(var t=-1,i=Array(e);++t<e;)i[t]=n(t);return i}function a(e,n){return null==e?void 0:e[n]}function l(e){var n=!1;if(null!=e&&"function"!=typeof e.toString)try{n=!!(e+"")}catch(e){}return n}function s(e){var n=-1,t=Array(e.size);return e.forEach(function(e,i){t[++n]=[i,e]}),t}function u(e){var n=-1,t=Array(e.size);return e.forEach(function(e){t[++n]=e}),t}function d(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}function f(){this.__data__=Kn?Kn(null):{}}function p(e){return this.has(e)&&delete this.__data__[e]}function _(e){var n=this.__data__;if(Kn){var t=n[e];return t===Me?void 0:t}return En.call(n,e)?n[e]:void 0}function h(e){var n=this.__data__;return Kn?void 0!==n[e]:En.call(n,e)}function g(e,n){return this.__data__[e]=Kn&&void 0===n?Me:n,this}function b(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}function v(){this.__data__=[]}function m(e){var n=this.__data__,t=M(n,e);return!(t<0)&&(t==n.length-1?n.pop():Nn.call(n,t,1),!0)}function x(e){var n=this.__data__,t=M(n,e);return t<0?void 0:n[t][1]}function w(e){return M(this.__data__,e)>-1}function y(e,n){var t=this.__data__,i=M(t,e);return i<0?t.push([e,n]):t[i][1]=n,this}function k(e){var n=-1,t=e?e.length:0;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}function q(){this.__data__={hash:new d,map:new(Un||b),string:new d}}function z(e){return re(this,e).delete(e)}function S(e){return re(this,e).get(e)}function C(e){return re(this,e).has(e)}function j(e,n){return re(this,e).set(e,n),this}function L(e){var n=-1,t=e?e.length:0;for(this.__data__=new k;++n<t;)this.add(e[n])}function P(e){return this.__data__.set(e,Me),this}function T(e){return this.__data__.has(e)}function $(e){this.__data__=new b(e)}function I(){this.__data__=new b}function D(e){return this.__data__.delete(e)}function E(e){return this.__data__.get(e)}function F(e){return this.__data__.has(e)}function O(e,n){var t=this.__data__;if(t instanceof b){var i=t.__data__;if(!Un||i.length<Oe-1)return i.push([e,n]),this;t=this.__data__=new k(i)}return t.set(e,n),this}function R(e,n){var t=at(e)||xe(e)?c(e.length,String):[],i=t.length,r=!!i;for(var o in e)!n&&!En.call(e,o)||r&&("length"==o||le(o,i))||t.push(o);return t}function M(e,n){for(var t=e.length;t--;)if(me(e[t][0],n))return t;return-1}function A(e,n){n=se(n,e)?[n]:ee(n);for(var t=0,i=n.length;null!=e&&t<i;)e=e[he(n[t++])];return t&&t==i?e:void 0}function N(e){return Fn.call(e)}function B(e,n){return null!=e&&n in Object(e)}function Q(e,n,t,i,r){return e===n||(null==e||null==n||!ze(e)&&!Se(n)?e!==e&&n!==n:W(e,n,Q,t,i,r))}function W(e,n,t,i,r,o){var c=at(e),a=at(n),s=He,u=He;c||(s=rt(e),s=s==Ve?nn:s),a||(u=rt(n),u=u==Ve?nn:u);var d=s==nn&&!l(e),f=u==nn&&!l(n),p=s==u;if(p&&!d)return o||(o=new $),c||lt(e)?ne(e,n,t,i,r,o):te(e,n,s,t,i,r,o);if(!(r&Ne)){var _=d&&En.call(e,"__wrapped__"),h=f&&En.call(n,"__wrapped__");if(_||h){var g=_?e.value():e,b=h?n.value():n;return o||(o=new $),t(g,b,i,r,o)}}return!!p&&(o||(o=new $),ie(e,n,t,i,r,o))}function U(e,n,t,i){var r=t.length,o=r,c=!i;if(null==e)return!o;for(e=Object(e);r--;){var a=t[r];if(c&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=t[r];var l=a[0],s=e[l],u=a[1];if(c&&a[2]){if(void 0===s&&!(l in e))return!1}else{var d=new $;if(i)var f=i(s,u,l,e,n,d);if(!(void 0===f?Q(u,s,i,Ae|Ne,d):f))return!1}}return!0}function V(e){return!(!ze(e)||de(e))&&(ke(e)||l(e)?On:hn).test(ge(e))}function H(e){return Se(e)&&qe(e.length)&&!!vn[Fn.call(e)]}function G(e){return"function"==typeof e?e:null==e?Ee:"object"==typeof e?at(e)?Z(e[0],e[1]):Y(e):Fe(e)}function K(e){if(!fe(e))return Bn(e);var n=[];for(var t in Object(e))En.call(e,t)&&"constructor"!=t&&n.push(t);return n}function Y(e){var n=oe(e);return 1==n.length&&n[0][2]?_e(n[0][0],n[0][1]):function(t){return t===e||U(t,e,n)}}function Z(e,n){return se(e)&&pe(n)?_e(he(e),n):function(t){var i=$e(t,e);return void 0===i&&i===n?Ie(t,e):Q(n,i,void 0,Ae|Ne)}}function J(e){return function(n){return A(n,e)}}function X(e){if("string"==typeof e)return e;if(Ce(e))return it?it.call(e):"";var n=e+"";return"0"==n&&1/e==-Be?"-0":n}function ee(e){return at(e)?e:ot(e)}function ne(e,n,t,r,o,c){var a=o&Ne,l=e.length,s=n.length;if(l!=s&&!(a&&s>l))return!1;var u=c.get(e);if(u&&c.get(n))return u==n;var d=-1,f=!0,p=o&Ae?new L:void 0;for(c.set(e,n),c.set(n,e);++d<l;){var _=e[d],h=n[d];if(r)var g=a?r(h,_,d,n,e,c):r(_,h,d,e,n,c);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!i(n,function(e,n){if(!p.has(n)&&(_===e||t(_,e,r,o,c)))return p.add(n)})){f=!1;break}}else if(_!==h&&!t(_,h,r,o,c)){f=!1;break}}return c.delete(e),c.delete(n),f}function te(e,n,t,i,r,o,c){switch(t){case ln:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case an:return!(e.byteLength!=n.byteLength||!i(new Mn(e),new Mn(n)));case Ge:case Ke:case en:return me(+e,+n);case Ye:return e.name==n.name&&e.message==n.message;case tn:case on:return e==n+"";case Xe:var a=s;case rn:var l=o&Ne;if(a||(a=u),e.size!=n.size&&!l)return!1;var d=c.get(e);if(d)return d==n;o|=Ae,c.set(e,n);var f=ne(a(e),a(n),i,r,o,c);return c.delete(e),f;case cn:if(tt)return tt.call(e)==tt.call(n)}return!1}function ie(e,n,t,i,r,o){var c=r&Ne,a=De(e),l=a.length;if(l!=De(n).length&&!c)return!1;for(var s=l;s--;){var u=a[s];if(!(c?u in n:En.call(n,u)))return!1}var d=o.get(e);if(d&&o.get(n))return d==n;var f=!0;o.set(e,n),o.set(n,e);for(var p=c;++s<l;){u=a[s];var _=e[u],h=n[u];if(i)var g=c?i(h,_,u,n,e,o):i(_,h,u,e,n,o);if(!(void 0===g?_===h||t(_,h,i,r,o):g)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var b=e.constructor,v=n.constructor;b!=v&&"constructor"in e&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(f=!1)}return o.delete(e),o.delete(n),f}function re(e,n){var t=e.__data__;return ue(n)?t["string"==typeof n?"string":"hash"]:t.map}function oe(e){for(var n=De(e),t=n.length;t--;){var i=n[t],r=e[i];n[t]=[i,r,pe(r)]}return n}function ce(e,n){var t=a(e,n);return V(t)?t:void 0}function ae(e,n,t){n=se(n,e)?[n]:ee(n);for(var i,r=-1,o=n.length;++r<o;){var c=he(n[r]);if(!(i=null!=e&&t(e,c)))break;e=e[c]}if(i)return i;var o=e?e.length:0;return!!o&&qe(o)&&le(c,o)&&(at(e)||xe(e))}function le(e,n){return!!(n=null==n?Qe:n)&&("number"==typeof e||bn.test(e))&&e>-1&&e%1==0&&e<n}function se(e,n){if(at(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!Ce(e))||(un.test(e)||!sn.test(e)||null!=n&&e in Object(n))}function ue(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}function de(e){return!!In&&In in e}function fe(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||Tn)}function pe(e){return e===e&&!ze(e)}function _e(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}function he(e){if("string"==typeof e||Ce(e))return e;var n=e+"";return"0"==n&&1/e==-Be?"-0":n}function ge(e){if(null!=e){try{return Dn.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,n,t){var i=e?e.length:0;if(!i)return-1;var o=null==t?0:Le(t);return o<0&&(o=Qn(i+o,0)),r(e,G(n,3),o)}function ve(e,n){if("function"!=typeof e||n&&"function"!=typeof n)throw new TypeError(Re);var t=function(){var i=arguments,r=n?n.apply(this,i):i[0],o=t.cache;if(o.has(r))return o.get(r);var c=e.apply(this,i);return t.cache=o.set(r,c),c};return t.cache=new(ve.Cache||k),t}function me(e,n){return e===n||e!==e&&n!==n}function xe(e){return ye(e)&&En.call(e,"callee")&&(!An.call(e,"callee")||Fn.call(e)==Ve)}function we(e){return null!=e&&qe(e.length)&&!ke(e)}function ye(e){return Se(e)&&we(e)}function ke(e){var n=ze(e)?Fn.call(e):"";return n==Ze||n==Je}function qe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Qe}function ze(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function Se(e){return!!e&&"object"==typeof e}function Ce(e){return"symbol"==typeof e||Se(e)&&Fn.call(e)==cn}function je(e){if(!e)return 0===e?e:0;if((e=Pe(e))===Be||e===-Be){return(e<0?-1:1)*We}return e===e?e:0}function Le(e){var n=je(e),t=n%1;return n===n?t?n-t:n:0}function Pe(e){if("number"==typeof e)return e;if(Ce(e))return Ue;if(ze(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=ze(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(fn,"");var t=_n.test(e);return t||gn.test(e)?mn(e.slice(2),t?2:8):pn.test(e)?Ue:+e}function Te(e){return null==e?"":X(e)}function $e(e,n,t){var i=null==e?void 0:A(e,n);return void 0===i?t:i}function Ie(e,n){return null!=e&&ae(e,n,B)}function De(e){return we(e)?R(e):K(e)}function Ee(e){return e}function Fe(e){return se(e)?o(he(e)):J(e)}var Oe=200,Re="Expected a function",Me="__lodash_hash_undefined__",Ae=1,Ne=2,Be=1/0,Qe=9007199254740991,We=1.7976931348623157e308,Ue=NaN,Ve="[object Arguments]",He="[object Array]",Ge="[object Boolean]",Ke="[object Date]",Ye="[object Error]",Ze="[object Function]",Je="[object GeneratorFunction]",Xe="[object Map]",en="[object Number]",nn="[object Object]",tn="[object RegExp]",rn="[object Set]",on="[object String]",cn="[object Symbol]",an="[object ArrayBuffer]",ln="[object DataView]",sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,un=/^\w*$/,dn=/^\./,fn=/^\s+|\s+$/g,pn=/^[-+]0x[0-9a-f]+$/i,_n=/^0b[01]+$/i,hn=/^\[object .+?Constructor\]$/,gn=/^0o[0-7]+$/i,bn=/^(?:0|[1-9]\d*)$/,vn={};vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn[Ve]=vn[He]=vn[an]=vn[Ge]=vn[ln]=vn[Ke]=vn[Ye]=vn[Ze]=vn[Xe]=vn[en]=vn[nn]=vn[tn]=vn[rn]=vn[on]=vn["[object WeakMap]"]=!1;var mn=parseInt,xn="object"==typeof e&&e&&e.Object===Object&&e,wn="object"==typeof self&&self&&self.Object===Object&&self,yn=xn||wn||Function("return this")(),kn="object"==typeof n&&n&&!n.nodeType&&n,qn=kn&&"object"==typeof t&&t&&!t.nodeType&&t,zn=qn&&qn.exports===kn,Sn=zn&&xn.process,Cn=function(){try{return Sn&&Sn.binding("util")}catch(e){}}(),jn=Cn&&Cn.isTypedArray,Ln=Array.prototype,Pn=Function.prototype,Tn=Object.prototype,$n=yn["__core-js_shared__"],In=function(){var e=/[^.]+$/.exec($n&&$n.keys&&$n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Dn=Pn.toString,En=Tn.hasOwnProperty,Fn=Tn.toString,On=RegExp("^"+Dn.call(En).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rn=yn.Symbol,Mn=yn.Uint8Array,An=Tn.propertyIsEnumerable,Nn=Ln.splice,Bn=function(e,n){return function(t){return e(n(t))}}(Object.keys,Object),Qn=Math.max,Wn=ce(yn,"DataView"),Un=ce(yn,"Map"),Vn=ce(yn,"Promise"),Hn=ce(yn,"Set"),Gn=ce(yn,"WeakMap"),Kn=ce(Object,"create"),Yn=ge(Wn),Zn=ge(Un),Jn=ge(Vn),Xn=ge(Hn),et=ge(Gn),nt=Rn?Rn.prototype:void 0,tt=nt?nt.valueOf:void 0,it=nt?nt.toString:void 0;d.prototype.clear=f,d.prototype.delete=p,d.prototype.get=_,d.prototype.has=h,d.prototype.set=g,b.prototype.clear=v,b.prototype.delete=m,b.prototype.get=x,b.prototype.has=w,b.prototype.set=y,k.prototype.clear=q,k.prototype.delete=z,k.prototype.get=S,k.prototype.has=C,k.prototype.set=j,L.prototype.add=L.prototype.push=P,L.prototype.has=T,$.prototype.clear=I,$.prototype.delete=D,$.prototype.get=E,$.prototype.has=F,$.prototype.set=O;var rt=N;(Wn&&rt(new Wn(new ArrayBuffer(1)))!=ln||Un&&rt(new Un)!=Xe||Vn&&"[object Promise]"!=rt(Vn.resolve())||Hn&&rt(new Hn)!=rn||Gn&&"[object WeakMap]"!=rt(new Gn))&&(rt=function(e){var n=Fn.call(e),t=n==nn?e.constructor:void 0,i=t?ge(t):void 0;if(i)switch(i){case Yn:return ln;case Zn:return Xe;case Jn:return"[object Promise]";case Xn:return rn;case et:return"[object WeakMap]"}return n});var ot=ve(function(e){e=Te(e);var n=[];return dn.test(e)&&n.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,t,i,r){n.push(i?r.replace(/\\(\\)?/g,"$1"):t||e)}),n}),ct=function(e){return function(n,t,i){var r=Object(n);if(!we(n)){var o=G(t,3);n=De(n),t=function(e){return o(r[e],e,r)}}var c=e(n,t,i);return c>-1?r[o?n[c]:c]:void 0}}(be);ve.Cache=k;var at=Array.isArray,lt=jn?function(e){return function(n){return e(n)}}(jn):H;t.exports=ct}).call(n,function(){return this}(),t(190)(e))},438:function(e,n){function t(e,n){for(var t=-1,i=e?e.length:0;++t<i&&!1!==n(e[t],t,e););return e}function i(e,n){for(var t=-1,i=Array(e);++t<e;)i[t]=n(t);return i}function r(e,n){var t=T(e)||u(e)?i(e.length,String):[],r=t.length,o=!!r;for(var c in e)!n&&!z.call(e,c)||o&&("length"==c||a(c,r))||t.push(c);return t}function o(e,n){return e&&P(e,n,b)}function c(e){if(!l(e))return j(e);var n=[];for(var t in Object(e))z.call(e,t)&&"constructor"!=t&&n.push(t);return n}function a(e,n){return!!(n=null==n?m:n)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<n}function l(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||q)}function s(e,n){return(T(e)?t:L)(e,"function"==typeof n?n:v)}function u(e){return f(e)&&z.call(e,"callee")&&(!C.call(e,"callee")||S.call(e)==x)}function d(e){return null!=e&&_(e.length)&&!p(e)}function f(e){return g(e)&&d(e)}function p(e){var n=h(e)?S.call(e):"";return n==w||n==y}function _(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=m}function h(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function g(e){return!!e&&"object"==typeof e}function b(e){return d(e)?r(e):c(e)}function v(e){return e}var m=9007199254740991,x="[object Arguments]",w="[object Function]",y="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,q=Object.prototype,z=q.hasOwnProperty,S=q.toString,C=q.propertyIsEnumerable,j=function(e,n){return function(t){return e(n(t))}}(Object.keys,Object),L=function(e,n){return function(t,i){if(null==t)return t;if(!d(t))return e(t,i);for(var r=t.length,o=n?r:-1,c=Object(t);(n?o--:++o<r)&&!1!==i(c[o],o,c););return t}}(o),P=function(e){return function(n,t,i){for(var r=-1,o=Object(n),c=i(n),a=c.length;a--;){var l=c[e?a:++r];if(!1===t(o[l],l,o))break}return n}}(),T=Array.isArray;e.exports=s},4208:function(e,n){function t(e,n,t,i){for(var r=e.length,o=t+(i?1:-1);i?o--:++o<r;)if(n(e[o],o,e))return o;return-1}function i(e,n,i){if(n!==n)return t(e,r,i);for(var o=i-1,c=e.length;++o<c;)if(e[o]===n)return o;return-1}function r(e){return e!==e}function o(e,n,t){var r=e?e.length:0;if(!r)return-1;var o=null==t?0:u(t);return o<0&&(o=k(r+o,0)),i(e,n,o)}function c(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function a(e){return!!e&&"object"==typeof e}function l(e){return"symbol"==typeof e||a(e)&&y.call(e)==h}function s(e){if(!e)return 0===e?e:0;if((e=d(e))===f||e===-f){return(e<0?-1:1)*p}return e===e?e:0}function u(e){var n=s(e),t=n%1;return n===n?t?n-t:n:0}function d(e){if("number"==typeof e)return e;if(l(e))return _;if(c(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=c(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(g,"");var t=v.test(e);return t||m.test(e)?x(e.slice(2),t?2:8):b.test(e)?_:+e}var f=1/0,p=1.7976931348623157e308,_=NaN,h="[object Symbol]",g=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,x=parseInt,w=Object.prototype,y=w.toString,k=Math.max;e.exports=o},4485:function(e,n,t){e.exports=t.p+"images/wechat.ico"},4487:function(e,n,t){e.exports=t.p+"images/qq.ico"},4666:function(e,n,t){e.exports=t.p+"images/back-to-top.png"},5615:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.t_work_publish3=void 0;var i=t(171);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})});var r=angular.module("t_work_publish3",[]);(0,i.registerModule)(r),n.t_work_publish3=r},5616:function(e,n,t){"use strict";t(5617),t(5621),t(5625),t(5629),t(5633),t(5638)},5617:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function o(e,n){
if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,l,s,u,d,f,p,_,h,g=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),b=t(5615),v=t(282),m=i(v),x=t(235),w=i(x),y=(a=(0,b.View)("eqc_detail",{url:"/eqc_detail/:unitId/:chapter",cache:!0,template:t(5618),styles:t(5619),inject:["$scope","$state","$rootScope","$ionicScrollDelegate","$ngRedux","workListService","commonService"]}),l=(0,b.select)(function(e){return e.wl_selected_clazz}),s=(0,b.select)(function(e){return e.eq_selected_chapter[e.wl_selected_clazz.id]}),u=(0,b.select)(function(e){var n=e.eq_selected_chapter[e.wl_selected_clazz.id];return e.eq_redo_creating_paper[e.wl_selected_clazz.id+"/"+(n&&n.id)]}),a((f=function(){function e(){o(this,e),this.lastKey=0,this.pageNum=1,this.quantity=8,this.value="0",this.canLoadMore=!1,r(this,"selectedClazz",p,this),r(this,"selectedChapter",_,this),r(this,"creatingPaperQuestionList",h,this),this.screenWidth=window.innerWidth,this.isIos=2==this.commonService.judgeSYS(),this.currentUnit={},this.serverData={eqcSortL:{},eqcSortM:{},eqcSortR:{}},this.retFlag=!1,this.getDataError=!1,this.sortCondition={currentRule:"eqcSortL"},this.isShowSortRule=!1,this.isFlyBox=!1,this.currentClickErrorQuestionId="",this.isLoadingProcessing=!1}return g(e,[{key:"back",value:function(){this.getStateService().go("error_question_c")}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){return e.initCtrl=!0}).then(function(){var n="eqcSortL"==e.sortCondition.currentRule?"1":"eqcSortM"==e.sortCondition.currentRule?"2":"0",t=e.getStateService().params.chapter;e.currentUnit=t?e.selectedChapter:(0,m.default)(e.selectedChapter.subTags,{id:e.getStateService().params.unitId}),e.isLoadingProcessing=!0,e.workListService.getErrorQuestionDetail({unitId:e.getStateService().params.unitId,classId:e.selectedClazz.id,quantity:e.quantity,keyValue:JSON.stringify({key:n,value:e.value}),pageNum:e.pageNum,type:t||1}).then(function(n){200==n.code?(console.log("res",n),e.serverData[e.sortCondition.currentRule]=n,e.canLoadMore=n.qsTitles.length>=e.quantity):e.getDataError=n.msg,e.isLoadingProcessing=!1,e.retFlag=!0},function(){e.retFlag=!0,e.getDataError=!0,e.canLoadMore=!0,e.isLoadingProcessing=!1})})}},{key:"onBeforeLeaveView",value:function(){this.workListService.eqcDetailRequest&&this.workListService.eqcDetailRequest.resolve()}},{key:"scrollTop",value:function(){this.$ionicScrollDelegate.scrollTop(!0)}},{key:"getScrollPosition",value:function(){this.$ionicScrollDelegate.getScrollPosition().top>=250?$(".scrollToTop").fadeIn():$(".scrollToTop").fadeOut()}},{key:"showKnowledgeAndDifficulty",value:function(e){return e.knowledgeName.replace(/^[a-z]\d+\./i,"")+" - "+(e.difficulty<40?"基础":e.difficulty>70?"拓展":"变式")}},{key:"clickSmallQTitle",value:function(e){var n=this.selectedClazz.id+"/"+this.selectedChapter.id;e.isChecked?(this.workListService.addQuestionToRedoPaper(n,{questionId:e.id,score:10,question:e.question,knowledgeName:e.knowledgeName,difficulty:e.difficulty,inputList:e.inputList}),this.isFlyBox=!0,this.currentClickErrorQuestionId=e.id):this.workListService.removeQuestionOfRedoPaper(n,{questionId:e.id})}},{key:"loadMore",value:function(){var e=this,n="eqcSortL"==this.sortCondition.currentRule?"1":"eqcSortM"==this.sortCondition.currentRule?"2":"0",t=this.getStateService().params.chapter;this.workListService.getErrorQuestionDetail({unitId:this.getStateService().params.unitId,classId:this.selectedClazz.id,quantity:this.quantity,keyValue:JSON.stringify({key:n,value:this.value}),pageNum:++this.pageNum,type:t||1}).then(function(n){e.getScope().$broadcast("scroll.infiniteScrollComplete"),200==n.code?(e.serverData[e.sortCondition.currentRule].qsTitles=e.serverData[e.sortCondition.currentRule].qsTitles.concat(n.qsTitles),e.serverData[e.sortCondition.currentRule].similar=(0,w.default)(e.serverData[e.sortCondition.currentRule].similar,n.similar),e.canLoadMore=n.qsTitles.length>=e.quantity):e.canLoadMore=!1},function(){e.getScope().$broadcast("scroll.infiniteScrollComplete")})}},{key:"showErrorStudentList",value:function(e){this.getStateService().go("eqc_student_list",{questionId:e})}},{key:"showPaperQuestion",value:function(){this.getStateService().go("eqc_redo_paper",{urlFrom:"question"})}},{key:"changeSortRule",value:function(e){var n=this;if(this.sortCondition.currentRule=e,this.$ionicScrollDelegate.scrollTop(!1),this.getDataError=!1,!this.serverData[this.sortCondition.currentRule].qsTitles){this.canLoadMore=!1;var t="eqcSortL"==this.sortCondition.currentRule?"1":"eqcSortM"==this.sortCondition.currentRule?"2":"0",i=this.getStateService().params.chapter;this.retFlag=!1,this.getDataError=null,this.isLoadingProcessing=!0,this.workListService.getErrorQuestionDetail({unitId:this.getStateService().params.unitId,classId:this.selectedClazz.id,quantity:this.quantity,keyValue:JSON.stringify({key:t,value:this.value}),pageNum:1,type:i||1}).then(function(e){200==e.code?(n.serverData[n.sortCondition.currentRule]=e,n.canLoadMore=e.qsTitles.length>=n.quantity):n.getDataError=e.msg,n.retFlag=!0,n.isLoadingProcessing=!1},function(){n.retFlag=!0,n.getDataError=!0,n.canLoadMore=!0,n.isLoadingProcessing=!1})}}}]),e}(),p=c(f.prototype,"selectedClazz",[l],{enumerable:!0,initializer:null}),_=c(f.prototype,"selectedChapter",[s],{enumerable:!0,initializer:null}),h=c(f.prototype,"creatingPaperQuestionList",[u],{enumerable:!0,initializer:null}),d=f))||d);n.default=y},5618:function(e,n){e.exports='<ion-view title="错题详情" hide-nav-bar="true" class="eqc_detail_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding:0 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>\r\n        </div>\r\n        <h1 class="title eqc_detail_header" ng-bind="!ctrl.currentUnit.text?\'\' :ctrl.currentUnit.text+ \'（错题集）\'"></h1>\r\n        <div class="buttons">\r\n            <allere-draft class="draft-location"></allere-draft>\r\n        </div>\r\n    </ion-header-bar>\r\n\r\n\r\n    \x3c!--图标解释--\x3e\r\n    <div class="eqc_detail_icon_exp has-header">\r\n        <div class="icon_exp" ng-click="ctrl.changeSortRule(\'eqcSortL\')">\r\n            <img ng-src="{{$root.loadImg(\'error_q_c/eqc_detail_1.png\')}}">\r\n            <span style="margin: 0 6px 0 3px">出错<br>人数</span>\r\n            <i class="icon ion-arrow-down-c"\r\n               ng-class="{\'current_sort_rule\':ctrl.sortCondition.currentRule == \'eqcSortL\'}"></i>\r\n        </div>\r\n        <div class="icon_exp" ng-click="ctrl.changeSortRule(\'eqcSortM\')">\r\n            <img ng-src="{{$root.loadImg(\'error_q_c/eqc_detail_2.png\')}}">\r\n            <span style="margin: 0 6px 0 3px">出错<br>次数</span>\r\n            <i class="icon ion-arrow-down-c"\r\n               ng-class="{\'current_sort_rule\':ctrl.sortCondition.currentRule == \'eqcSortM\'}"></i>\r\n        </div>\r\n        <div class="icon_exp" ng-click="ctrl.changeSortRule(\'eqcSortR\')">\r\n            <img ng-src="{{$root.loadImg(\'error_q_c/eqc_detail_3.png\')}}">\r\n            <span style="margin: 0 6px 0 3px">最新<br>出错</span>\r\n            <i class="icon ion-arrow-down-c"\r\n               ng-class="{\'current_sort_rule\':ctrl.sortCondition.currentRule == \'eqcSortR\'}"></i>\r\n        </div>\r\n    </div>\r\n\r\n    <ion-content on-scroll="ctrl.getScrollPosition()" class="has-header has-subheader has-footer content_new_top">\r\n\r\n        \x3c!--错题列表--\x3e\r\n        <div class="eqc_detail_content" style="position: relative">\r\n            \x3c!--没有错题--\x3e\r\n            <div ng-if="ctrl.retFlag && ctrl.getDataError" style="padding: 20px;color: #4a6b9d;"\r\n                 ng-bind="ctrl.getDataError === true ? \'获取错题记录失败，请返回重试\':ctrl.getDataError">\r\n\r\n            </div>\r\n\r\n            \x3c!--错题列表--\x3e\r\n            <div ng-repeat="record in ctrl.serverData[ctrl.sortCondition.currentRule].qsTitles track by $index+record.id"\r\n                 class="eqc_detail_content_list">\r\n\r\n                \x3c!--错题--\x3e\r\n                <div class="question-content card card-better question_content_error" style="margin-bottom: 5px">\r\n                    \x3c!--错题标题--\x3e\r\n                    <div class="smallq-title" style="position: relative">\r\n                        <div style="position: absolute; left: 0; bottom: 0;">\r\n                            <ion-checkbox ng-model="record.isChecked" ng-change="ctrl.clickSmallQTitle(record)"\r\n                                          id="{{record.id}}" ng-disabled = "ctrl.isFlyBox">\r\n                                加入组卷\r\n                            </ion-checkbox>\r\n                        </div>\r\n                        <div class="text-div-adapt" ng-click="ctrl.showErrorStudentList(record.id)">\r\n\r\n                            <div class="text-adapt">\r\n                                <div class="display-flex-pure" style="padding-left: 15px">\r\n                                    <div class="display-flex" ng-bind="\'第\'+($index+1)+\'题\'"></div>\r\n                                    <div style="color: #577ca8;font-size: 12px;" class="text-adapt-info">\r\n                                        <div class="display-flex flex_1">\r\n                                            <img ng-src="{{$root.loadImg(\'error_q_c/eqc_detail_1.png\')}}">\r\n                                            <span ng-bind="\'：\'+record.totalErrorNumber+\'人\'"></span>\r\n                                        </div>\r\n                                        <div class="display-flex flex_1">\r\n                                            <img ng-src="{{$root.loadImg(\'error_q_c/eqc_detail_2.png\')}}">\r\n                                            <span ng-bind="\'：\'+record.totalErrorTimes+\'次\'"></span>\r\n                                        </div>\r\n                                        <div class="display-flex flex_1">\r\n                                            <img ng-src="{{$root.loadImg(\'error_q_c/eqc_detail_3.png\')}}">\r\n                                            <span ng-bind="\'：\'+record.newErrorNumber+\'人\'"></span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div style="padding:0 20px;font-size: 28px;">\r\n                                <span class="icon ion-ios-arrow-right"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div ng-bind="ctrl.showKnowledgeAndDifficulty(record)"\r\n                         style="background-color: #B8E4FC;color:#565555"></div>\r\n\r\n                    <div compile-html="record.question" current-q-input="record.inputList" class="q-context"></div>\r\n                </div>\r\n\r\n                \x3c!--同类题--\x3e\r\n                <div ng-if="ctrl.serverData[ctrl.sortCondition.currentRule].similar[record.id]">\r\n                    <div class="question-content card card-better question_content_similar" style="margin-top: 5px">\r\n                        <div class="smallq-title" style="background-color: #7be97a;">\r\n                            <div class="similar-title-font-size" style="padding-left: 15px;color: #555">第{{$index+1}}题同类题：从题库智能匹配</div>\r\n                            <div class="text-div-adapt">\r\n                                <div class="text-adapt">\r\n                                    <div>\r\n                                        <ion-checkbox ng-model="ctrl.serverData[ctrl.sortCondition.currentRule].similar[record.id].isChecked"\r\n                                                      id="{{ctrl.serverData[ctrl.sortCondition.currentRule].similar[record.id].id}}" ng-disabled = "ctrl.isFlyBox"\r\n                                                      ng-change="ctrl.clickSmallQTitle(ctrl.serverData[ctrl.sortCondition.currentRule].similar[record.id])">\r\n\r\n                                            加入组卷\r\n                                        </ion-checkbox>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div ng-bind="ctrl.showKnowledgeAndDifficulty(ctrl.serverData[ctrl.sortCondition.currentRule].similar[record.id])"\r\n                             style="background-color: #B8E4FC;color:#565555">\r\n\r\n                        </div>\r\n\r\n                        <div compile-html="ctrl.serverData[ctrl.sortCondition.currentRule].similar[record.id].question"\r\n                             current-q-input="ctrl.serverData[ctrl.sortCondition.currentRule].similar[record.id].inputList"\r\n                             class="q-context">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!--上拉加载更多--\x3e\r\n        <ion-infinite-scroll on-infinite="ctrl.loadMore()" immediate-check="false" spinner="ios" distance="10%"\r\n                             ng-if="ctrl.canLoadMore"></ion-infinite-scroll>\r\n    </ion-content>\r\n\r\n    <ion-footer-bar style="background: none!important;" ng-if="ctrl.retFlag && !ctrl.getDataError">\r\n        <button class="button eqc_detail_footer_btn " ng-click="ctrl.showPaperQuestion()">\r\n            <div class="display-flex">\r\n                <i class="icon ion-android-folder"></i>\r\n                <span>错题组卷: 已选</span>\r\n                <span style="margin: 0 5px; font-size: 30px;color: #ff8585;">{{ctrl.creatingPaperQuestionList ? ctrl.creatingPaperQuestionList.length:0}}</span>\r\n                <span>题</span>\r\n            </div>\r\n\r\n        </button>\r\n    </ion-footer-bar>\r\n\r\n    <eqc-fly-box ng-if="ctrl.isFlyBox" question-id="ctrl.currentClickErrorQuestionId" is-fly-box="ctrl.isFlyBox"></eqc-fly-box>\r\n    <div class="scrollToTop" ng-click="ctrl.scrollTop()"></div>\r\n    <loading-processing load-top="200" ng-if="!ctrl.retFlag"></loading-processing>\r\n</ion-view>\r\n\r\n\r\n'},5619:function(e,n,t){var i=t(5620);"string"==typeof i&&(i=[[e.id,i,""]]);t(147)(i,{});i.locals&&(e.exports=i.locals)},5620:function(e,n,t){n=e.exports=t(146)(),n.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n.platform-ios.platform-cordova:not(.fullscreen) .has-subheader.content_new_top {\n  top: 128px!important;\n}\n.eqc_detail_file .eqc_detail_header {\n  font-family: 'Microsoft YaHei';\n  font-weight: bold;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.eqc_detail_file .has-subheader {\n  top: 108px;\n}\n.eqc_detail_file .eqc_detail_sort_box {\n  position: absolute;\n  right: 3px;\n  border-radius: 10px;\n  box-shadow: 1px 2px 4px #aaa;\n  background: #fff;\n  z-index: 100;\n  padding: 6px;\n}\n.eqc_detail_file .eqc_detail_sort_box .item {\n  border: none;\n  font-size: 14px;\n}\n.eqc_detail_file .eqc_detail_sort_box .item-checkbox {\n  padding-left: 50px;\n}\n.eqc_detail_file .eqc_detail_icon_exp {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n  justify-content: space-around;\n  -webkit-justify-content: space-around;\n  margin: 10px;\n  position: relative;\n}\n.eqc_detail_file .eqc_detail_icon_exp .icon_exp {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n  flex: 1;\n  -webkit-flex: 1;\n}\n.eqc_detail_file .eqc_detail_icon_exp .icon_exp img {\n  height: 32px;\n  display: block;\n}\n.eqc_detail_file .eqc_detail_icon_exp .icon_exp .icon.ion-arrow-down-c {\n  color: #c6c6c6;\n  font-size: 28px;\n}\n.eqc_detail_file .eqc_detail_icon_exp .icon_exp .current_sort_rule {\n  color: #43A129!important;\n}\n.eqc_detail_file .eqc_detail_content .question-content {\n  background: #daf5fe;\n}\n.eqc_detail_file .eqc_detail_content .question-content .smallq-title {\n  color: #293d69;\n  width: 100%;\n  background-color: #accbf9;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  -webkit-justify-content: space-between;\n  -webkit-align-items: flex-start;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n.eqc_detail_file .eqc_detail_content .question-content .smallq-title .text-div-adapt {\n  width: 100%;\n  display: flex;\n  display: -webkit-flex;\n}\n.eqc_detail_file .eqc_detail_content .question-content .smallq-title .text-div-adapt .text-adapt {\n  flex: 1;\n  -webkit-flex: 1;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n.eqc_detail_file .eqc_detail_content .question-content .smallq-title .text-div-adapt .text-adapt img {\n  height: 16px;\n  display: block;\n}\n.eqc_detail_file .eqc_detail_content .question-content .smallq-title .text-div-adapt .text-adapt .text-adapt-info {\n  flex: 1;\n  -webkit-flex: 1;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n  justify-content: space-around;\n  -webkit-justify-content: space-around;\n}\n@media screen and (max-width: 320px) {\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title {\n    min-height: 40px;\n  }\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title .text-adapt {\n    font-size: 15px;\n  }\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title .similar-title-font-size {\n    font-size: 15px;\n  }\n}\n@media screen and (min-width: 321px) and (max-width: 767px) {\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title {\n    min-height: 50px;\n  }\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title .text-adapt {\n    font-size: 16px;\n  }\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title .similar-title-font-size {\n    font-size: 16px;\n  }\n}\n@media screen and (min-width: 768px) {\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title {\n    min-height: 60px;\n  }\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title .text-adapt {\n    font-size: 18px;\n  }\n  .eqc_detail_file .eqc_detail_content .question-content .smallq-title .similar-title-font-size {\n    font-size: 18px;\n  }\n}\n.eqc_detail_file .eqc_detail_content .question-content .smallq-title label {\n  width: 100%;\n  padding: 5px 5px 5px 46px;\n  background: none;\n}\n.eqc_detail_file .eqc_detail_content .question-content .checkbox-square input:after,\n.eqc_detail_file .eqc_detail_content .question-content .checkbox-square .checkbox-icon:after {\n  top: 25%!important;\n}\n.eqc_detail_file .eqc_detail_content .eqc_detail_content_list:first-child .question_content_error.card {\n  margin-top: 0;\n}\n.eqc_detail_file .eqc_detail_footer_btn.button {\n  flex: 1;\n  -webkit-flex: 1;\n  margin: 0;\n  height: 100%;\n  font-size: 17px;\n  background: #3e8ad0;\n  color: #fff;\n}\n.eqc_detail_file .eqc_detail_footer_btn.button .ion-android-folder::before {\n  font-size: 30px;\n}\n.eqc_detail_file .eqc_detail_footer_btn.button.activated {\n  background: #336899;\n}\n.eqc_detail_file .item-checkbox {\n  border: none;\n}\n.eqc_detail_file .item-checkbox .checkbox {\n  top: 55%;\n}\n.eqc_detail_file .item-checkbox .checkbox .checkbox-icon {\n  width: 24px;\n  height: 24px;\n}\n.eqc_detail_file .ion-arrow-swap::before {\n  font-size: 22px!important;\n  transform: rotate(90deg);\n  -webkit-transform: rotate(90deg);\n}\n",""])},5621:function(e,n,t){"use strict";function i(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,c,a,l,s,u=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),d=t(5615),f=(o=(0,d.View)("eqc_do_question_info",{url:"/eqc_do_question_info/:stuId/:questionId",template:t(5622),styles:t(5623),inject:["$scope","$state","$rootScope","$ionicScrollDelegate","workListService","$ngRedux","$ionicSideMenuDelegate","$ionicModal","workPaperBankService","$timeout","commonService","$ionicLoading","$ionicHistory","subHeaderService"]}),c=(0,d.select)(function(e){return e.wl_selected_clazz}),o((l=function(){function e(){r(this,e),i(this,"selectedClazz",s,this),this.screenWidth=window.innerWidth,this.isIos=2==this.commonService.judgeSYS(),this.errorInfo=null,this.retFlag=!1}return u(e,[{key:"back",value:function(){this.$ionicHistory.goBack()}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){return e.initCtrl=!0}).then(function(){e.workListService.getStudentErrorInfo({classId:e.selectedClazz.id,questionId:e.getStateService().params.questionId,studentId:e.getStateService().params.stuId}).then(function(n){n&&(e.errorInfo=n),e.retFlag=!0})})}},{key:"onBeforeLeaveView",value:function(){this.workListService.getStudentErrorInfoRequest&&this.workListService.getStudentErrorInfoRequest.resolve()}}]),e}(),s=function(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}(l.prototype,"selectedClazz",[c],{enumerable:!0,initializer:null}),a=l))||a);n.default=f},5622:function(e,n){e.exports='\r\n<ion-view title="学生错误明细" hide-nav-bar="true" class="eqc_do_question_info_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding:0 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>\r\n        </div>\r\n        <h1 class="title eqc_do_question_info_header" ng-bind="\'学生做题详情\'"></h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content class="has-header">\r\n        <div ng-if="!ctrl.errorInfo && ctrl.retFlag">获取失败，请返回重试</div>\r\n\r\n        \x3c!--做题明细详情--\x3e\r\n        <div ng-repeat="paper in ctrl.errorInfo.paperList">\r\n            <div class="eqc_dqi_paper_name" ng-bind="\'来自试卷：\'+paper.paperName"></div>\r\n            <div class="card card-better">\r\n                <div ng-repeat="inputList in paper.smallQDoneTimes" ng-init="isOpen = false" ng-click="isOpen = !isOpen"\r\n                     class="eqc_dqi_error_cell" ng-class="{\'eqc_dqi_error_redo\':$index}">\r\n\r\n                    <div class="eqc_dqi_error_cell_bar">\r\n                        <div ng-bind="$index == 0 ? \'首次做\':\'改错后\'"></div>\r\n                        <div class=" eqc_dqi_error_cell_bar_img">\r\n                            <img ng-src="{{$root.loadImg(isOpen ? \'other/open.png\':\'other/collapse.png\')}}" class="show-q-img">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="image-type-question" ng-if="isOpen">\r\n                        <div compile-html="ctrl.errorInfo.question" show-type="correct" current-q-input="inputList"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </ion-content>\r\n    <loading-processing load-top="200" ng-if="!ctrl.retFlag"></loading-processing>\r\n</ion-view>\r\n\r\n'},5623:function(e,n,t){var i=t(5624);"string"==typeof i&&(i=[[e.id,i,""]]);t(147)(i,{});i.locals&&(e.exports=i.locals)},5624:function(e,n,t){n=e.exports=t(146)(),n.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n.eqc_do_question_info_file .image-type-question {\n  background: #daf5fe;\n}\n.eqc_do_question_info_file .image-type-question img {\n  vertical-align: middle;\n}\n.eqc_do_question_info_file .image-type-question p {\n  margin: 0 !important;\n}\n.eqc_do_question_info_file .eqc_dqi_paper_name {\n  margin: 10px;\n  font-size: 18px;\n  color: #4a6b9d;\n}\n.eqc_do_question_info_file .eqc_dqi_error_cell {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  background: #a2c6f7;\n  margin-bottom: 1px;\n}\n.eqc_do_question_info_file .eqc_dqi_error_cell .eqc_dqi_error_cell_bar {\n  display: flex;\n  display: -webkit-flex;\n  flex: 1;\n  -webkit-flex: 1;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  padding: 5px 16px;\n  align-items: center;\n  font-size: 16px;\n  color: #4c4c4c;\n}\n.eqc_do_question_info_file .eqc_dqi_error_cell .eqc_dqi_error_cell_bar .eqc_dqi_error_cell_bar_img {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n  width: 30px;\n}\n.eqc_do_question_info_file .eqc_dqi_error_cell .eqc_dqi_error_cell_bar .eqc_dqi_error_cell_bar_img img {\n  width: 100%;\n}\n.eqc_do_question_info_file .eqc_dqi_error_redo {\n  background: #a2def7!important;\n}\n",""])},5625:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,l,s,u,d,f,p,_,h,g,b,v=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),m=t(5615),x=t(438),w=i(x),y=t(4208),k=i(y),q=(a=(0,m.View)("eqc_redo_paper",{url:"/eqc_redo_paper/:urlFrom/:selectPaperId",template:t(5626),styles:t(5627),inject:["$scope","$state","$rootScope","$ionicScrollDelegate","workListService","$ngRedux","commonService","$ionicLoading","workManageService","ngLocalStore","$ionicPopup","$timeout"]}),l=(0,m.select)(function(e){return e.wl_selected_clazz}),s=(0,m.select)(function(e){return e.eq_selected_redo_paper[e.wl_selected_clazz.id]}),u=(0,m.select)(function(e){return e.eq_selected_chapter[e.wl_selected_clazz.id]}),d=(0,m.select)(function(e){var n=e.eq_selected_chapter[e.wl_selected_clazz.id];return e.eq_redo_creating_paper[e.wl_selected_clazz.id+"/"+(n&&n.id)]}),a((p=function(){function e(){o(this,e),r(this,"selectedClazz",_,this),r(this,"selectedRedoPaper",h,this),r(this,"selectedChapter",g,this),r(this,"creatingRedoPaperQsList",b,this),this.screenWidth=window.innerWidth,this.isIos=2==this.commonService.judgeSYS(),this.urlFrom=this.getStateService().params.urlFrom,this.selectPaperId=this.getStateService().params.selectPaperId,this.paper=null,this.paperName=null,this.retFlag="paper"!=this.urlFrom}return v(e,[{key:"back",value:function(){this.getStateService().go("error_question_c")}},{key:"configDataPipe",value:function(){function e(){var e=this;return this.ngLocalStore.paperStore.keys().then(function(n){var t=e.getRootScope().user.loginName+"/"+e.selectPaperId,i=e.ngLocalStore.getTempPaper(),r=(0,k.default)(n,t);if(console.log("获取本地试卷内容开始"),i.id==t)e.getScope().$apply(function(){e.paper=i.data});else if(-1!=r){var o=e.$q.defer();return e.ngLocalStore.paperStore.getItem(t).then(function(n){e.getScope().$apply(function(){e.paper=n,e.workChapterPaperService.savePaperDataToLocal(e.paper,!0),console.log("获取本地试卷内容结束"),o.resolve()})}),o.promise}})}var n=this;this.dataPipe.when(function(){return!n.initCtrl&&"paper"==n.urlFrom}).then(function(){
n.initCtrl=!0,n.workListService.fetchRedoPaper(n.selectPaperId).then(function(e){n.paper=e,n.retFlag=!0},function(){e.call(n).then(function(){n.retFlag=!0})})})}},{key:"onBeforeLeaveView",value:function(){(0,w.default)(this.workListService.eqcRedoPaperRequestList,function(e){e.resolve(!0)}),this.workListService.eqcRedoPaperRequestList.length=0}},{key:"scrollTop",value:function(){this.$ionicScrollDelegate.scrollTop(!0)}},{key:"getScrollPosition",value:function(){this.$ionicScrollDelegate.getScrollPosition().top>=250?$(".scrollToTop").fadeIn():$(".scrollToTop").fadeOut()}},{key:"showKnowledgeAndDifficulty",value:function(e){return e.knowledgeName.replace(/^[a-z]\d+\./i,"")+" - "+(e.difficulty<40?"基础":e.difficulty>70?"拓展":"变式")}},{key:"showKnowledgeAndDifficultyPaper",value:function(e){return e.knowledge[0].content.replace(/^[a-z]\d+\./i,"")+" - "+(e.difficulty<40?"基础":e.difficulty>70?"拓展":"变式")}},{key:"removeQuestion",value:function(e){var n=this.selectedClazz.id+"/"+this.selectedChapter.id;this.workListService.removeQuestionOfRedoPaper(n,{questionId:e}),this.$ionicLoading.show({template:'<p style="color: #ffc125">【-】 已从组卷重练移除</p>',duration:1500})}},{key:"getBigQText",value:function(e){return this.commonService.convertToChinese(+e.seqNum+1)+"、"+e.title}},{key:"workPub",value:function(){function e(){this.workManageService.backupWork.id=this.paper.basic.id,this.workManageService.backupWork.name=this.paper.basic.title,this.workManageService.libWork.name=this.paper.basic.title,this.workManageService.libWork.type=this.paper.basic.type,this.go("work_pub3",{from:"eqc_redo_paper"})}"paper"==this.urlFrom?e.call(this):this.savePaper(e.bind(this))}},{key:"paperPrint",value:function(){this.commonService.print()}},{key:"savePaper",value:function(e){function n(e){var n=this,t={paperName:"",classId:this.selectedClazz.id,questionIdList:[],type:7,tagId:this.selectedChapter.id},i=[];this.paperName&&this.paperName.trim()&&((0,w.default)(this.creatingRedoPaperQsList,function(e){i.push({questionId:e.questionId,score:e.score})}),t.paperName=this.paperName,t.questionIdList=JSON.stringify(i),this.$ionicLoading.show({template:"<p>正在创建重练试卷...</p>"}),this.workListService.createRedoPaper(this.selectedClazz.id+"/"+this.selectedChapter.id,t).then(function(t){t?(n.$ionicLoading.show({template:'<p style="color: #afff33">创建重练试卷成功</p>',duration:1500}),n.$timeout(function(){if(e)return n.paper={basic:t.paper},void e.call(n);n.getStateService().go("error_question_c",{urlFrom:"eqc_redo_paper"})},1500)):n.$ionicLoading.show({template:'<p style="color: #ffc125">创建重练试卷失败</p>',duration:1500})},function(){n.$ionicLoading.show({template:'<p style="color: #ffc125">创建重练试卷失败</p>',duration:1500})}))}if(this.creatingRedoPaperQsList&&this.creatingRedoPaperQsList.length){var t=new Date;this.paperName=this.selectedChapter.text+(+t.getMonth()+1)+"-"+t.getDate()+"_"+t.toString().match(/\d+:\d+:\d+/),this.$ionicPopup.show({title:"组卷重练",scope:this.getScope(),template:'请给试卷命名：<input type="text" ng-model="ctrl.paperName">',buttons:[{text:"<b>确定</b>",onTap:n.bind(this,e)},{text:"取消"}]})}else this.$ionicPopup.alert({title:"温馨提示",template:"<p>请选择课时中错题，加入组卷</p>"})}}]),e}(),_=c(p.prototype,"selectedClazz",[l],{enumerable:!0,initializer:null}),h=c(p.prototype,"selectedRedoPaper",[s],{enumerable:!0,initializer:null}),g=c(p.prototype,"selectedChapter",[u],{enumerable:!0,initializer:null}),b=c(p.prototype,"creatingRedoPaperQsList",[d],{enumerable:!0,initializer:null}),f=p))||f);n.default=q},5626:function(e,n){e.exports='\r\n<ion-view title="错题详情" hide-nav-bar="true" class="eqc_redo_paper_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding:0 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>\r\n        </div>\r\n        <h1 class="title eqc_redo_paper_header" >\r\n            <span ng-bind="ctrl.urlFrom == \'paper\' ? ctrl.selectedRedoPaper.name:\'错题组卷\'"></span>\r\n        </h1>\r\n    </ion-header-bar>\r\n\r\n\r\n    <ion-content on-scroll="ctrl.getScrollPosition()" class="has-header has-footer">\r\n        \x3c!--点击当前X小题: 显示正在被创建的重练试卷中包含的所有小题--\x3e\r\n        <div class="eqc_redo_paper_content" ng-if="ctrl.urlFrom == \'question\'">\r\n            \x3c!--组卷重练试卷中没有试题--\x3e\r\n            <div ng-if="!ctrl.creatingRedoPaperQsList || !ctrl.creatingRedoPaperQsList.length" style="padding: 10px;color: #4a6b9d;">\r\n                请选择课时中错题，加入组卷\r\n            </div>\r\n\r\n            \x3c!--加入试卷的试题列表--\x3e\r\n            <div ng-repeat="record in ctrl.creatingRedoPaperQsList">\r\n                <div class="question-content card card-better" >\r\n                    <div class="question-content-title" >\r\n                        <div class="question-content-title-left">\r\n                            <div ng-bind="\'第\'+($index+1)+\'题\'"></div>\r\n                            <div style="margin-left: 15px;color: #c82b2b;" ng-bind="record.score+\' 分\'"></div>\r\n                        </div>\r\n\r\n                        <div class="question-content-title-right" ng-click="ctrl.removeQuestion(record.questionId)">\r\n                            <div style="height: 30px;box-shadow: 0 0 8px #3f8cff;border-radius: 50%;"><img ng-src="{{$root.loadImg(\'other/work_del.png\')}}"></div>\r\n                            <div style="margin: 0 5px;text-shadow: 0 0 8px #3f8cff;" ng-bind="\' 删除小题\'"></div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div ng-bind="ctrl.showKnowledgeAndDifficulty(record)" class="question_content_knowledge_text"></div>\r\n\r\n                    <div compile-html="record.question" current_q_input="record.inputList" class="q-context"></div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n        \x3c!--点击我的重练试卷: 显示指定试卷的内容--\x3e\r\n        <div class="eqc_redo_paper_content" ng-if="ctrl.urlFrom == \'paper\'">\r\n            <div ng-repeat="qt in ctrl.paper.qsTitles track by $index+qt.id" ng-style="{\'margin-bottom\':$last?\'60px\':\'0\'}">\r\n                <div class="paper_content_big_q">\r\n                    <div class="big-q-title">\r\n                        <span ng-bind="ctrl.getBigQText(qt)+\'(\'+qt.score+\'分)\'"></span>\r\n                    </div>\r\n                </div>\r\n                <div ng-repeat="record in qt.qsList track by $index+record.id">\r\n                    <div class="question-content card card-better">\r\n                        <div class="question-content-title">\r\n                            <div class="question-content-title-left">\r\n                                <span ng-bind="\'第\'+(+record.seqNum+1)+\'题\'"></span>\r\n                                <span style="margin-left: 15px;color: #c82b2b;" ng-bind="record.score+\' 分\'"></span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="question_content_knowledge_text" ng-bind="ctrl.showKnowledgeAndDifficultyPaper(record)"></div>\r\n\r\n                        <div compile-html="record.qContext"  current-q-input="record.inputList" class="q-context" style="pointer-events: none"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </ion-content>\r\n\r\n    \x3c!--点击我的重练试卷: 显示指定试卷发布打印按钮--\x3e\r\n    <ion-footer class="bar bar-footer bg-balanced footer_box_main" ng-if="ctrl.retFlag">\r\n        <div class="footer_box_main_down">\r\n            <button ng-click="ctrl.workPub()" class="button footer_click_btn">\r\n                <span>布置</span>\r\n            </button>\r\n            <button ng-click="ctrl.paperPrint()" class="button footer_click_btn"   ng-if="ctrl.urlFrom == \'paper\'">\r\n                <span>打印</span>\r\n            </button>\r\n            <button ng-click="ctrl.savePaper()" class="button footer_click_btn"   ng-if="ctrl.urlFrom == \'question\'">\r\n                <span>保存</span>\r\n            </button>\r\n\r\n        </div>\r\n    </ion-footer>\r\n\r\n    <div class="scrollToTop" ng-click="ctrl.scrollTop()"></div>\r\n    <loading-processing load-top="200" ng-if="ctrl.urlFrom == \'paper\' && !ctrl.retFlag"></loading-processing>\r\n</ion-view>\r\n\r\n\r\n'},5627:function(e,n,t){var i=t(5628);"string"==typeof i&&(i=[[e.id,i,""]]);t(147)(i,{});i.locals&&(e.exports=i.locals)},5628:function(e,n,t){n=e.exports=t(146)(),n.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n.eqc_redo_paper_file .eqc_redo_paper_header {\n  font-family: 'Microsoft YaHei';\n  font-weight: bold;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .paper_content_big_q {\n  min-height: 40px;\n  line-height: 40px;\n  color: #293d69;\n  padding-left: 10px;\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .paper_content_big_q .big-q-title {\n  font-size: 22px;\n  margin-bottom: 5px;\n  font-weight: 400;\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .question-content {\n  background: #daf5fe;\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .question-content .question-content-title {\n  color: #293d69;\n  width: 100%;\n  background-color: #accbf9;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .question-content .question-content-title .question-content-title-left {\n  flex: 1;\n  -webkit-flex: 1;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .question-content .question-content-title .question-content-title-right {\n  color: white;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .question-content .question-content-title .question-content-title-right img {\n  height: 100%;\n}\n@media screen and (max-width: 320px) {\n  .eqc_redo_paper_file .eqc_redo_paper_content .question-content .question-content-title {\n    min-height: 40px;\n    font-size: 15px;\n  }\n}\n@media screen and (min-width: 321px) and (max-width: 767px) {\n  .eqc_redo_paper_file .eqc_redo_paper_content .question-content .question-content-title {\n    min-height: 50px;\n    font-size: 17px;\n  }\n}\n@media screen and (min-width: 768px) {\n  .eqc_redo_paper_file .eqc_redo_paper_content .question-content .question-content-title {\n    min-height: 60px;\n    font-size: 20px;\n  }\n}\n.eqc_redo_paper_file .eqc_redo_paper_content .question-content .question_content_knowledge_text {\n  background-color: #B8E4FC;\n  color: #565555;\n}\n.eqc_redo_paper_file .footer_box_main {\n  display: flex;\n  flex-direction: column;\n  display: -webkit-flex;\n  -webkit-flex-direction: column;\n}\n.eqc_redo_paper_file .footer_box_main .footer_box_main_down {\n  display: flex;\n  justify-content: space-around;\n  display: -webkit-flex;\n  -webkit-justify-content: space-around;\n  width: 100%;\n  height: 44px;\n}\n.eqc_redo_paper_file .footer_box_main .footer_box_main_down .footer_click_btn.button {\n  flex: 1;\n  -webkit-flex: 1;\n  margin: 0;\n  height: 100%;\n  font-size: 17px;\n  background: #3e8ad0;\n  color: #fff;\n}\n.eqc_redo_paper_file .footer_box_main .footer_box_main_down .footer_click_btn.button.activated {\n  background: #336899;\n}\n",""])},5629:function(e,n,t){"use strict";function i(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,c,a,l,s,u=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),d=t(5615),f=(o=(0,d.View)("eqc_student_list",{url:"/eqc_student_list/:questionId",template:t(5630),styles:t(5631),inject:["$scope","$state","$rootScope","$ionicScrollDelegate","workListService","$ngRedux","$ionicSideMenuDelegate","$ionicModal","workPaperBankService","$timeout","commonService","$ionicLoading","$ionicHistory","subHeaderService"]}),c=(0,d.select)(function(e){return e.wl_selected_clazz}),o((l=function(){function e(){r(this,e),i(this,"selectedClazz",s,this),this.screenWidth=window.innerWidth,this.isIos=2==this.commonService.judgeSYS(),this.studentList=null,this.retFlag=!1}return u(e,[{key:"back",value:function(){this.$ionicHistory.goBack()}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){return e.initCtrl=!0}).then(function(){e.workListService.getErrorStudentList({classId:e.selectedClazz.id,questionId:e.getStateService().params.questionId,type:1}).then(function(n){n&&(e.studentList=n),e.retFlag=!0})})}},{key:"onBeforeLeaveView",value:function(){this.workListService.eqcErrorStudentRequest&&this.workListService.eqcErrorStudentRequest.resolve()}},{key:"showStudentErrorInfo",value:function(e){this.workListService.eqcCurrentClickStudent=e.studentId,this.getStateService().go("eqc_do_question_info",{questionId:this.getStateService().params.questionId,stuId:e.studentId})}}]),e}(),s=function(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}(l.prototype,"selectedClazz",[c],{enumerable:!0,initializer:null}),a=l))||a);n.default=f},5630:function(e,n){e.exports='\r\n<ion-view title="错题学生列表" hide-nav-bar="true" class="eqc_student_list_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding:0 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>\r\n        </div>\r\n        <h1 class="title eqc_detail_header" ng-bind="\'错题学生列表\'"></h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content class="has-header">\r\n        <div ng-if="!ctrl.studentList && ctrl.retFlag">获取失败，请返回重试</div>\r\n\r\n        <ion-list class="list eqc_sl_content">\r\n            <ion-item ng-repeat="stu in ctrl.studentList" class="item list_item_stu_box">\r\n\r\n                \x3c!--学生图标--\x3e\r\n                <div class="list_item_stu" ng-click="ctrl.showStudentErrorInfo(stu)"\r\n                     ng-class="{\'current_click_student\':stu.studentId == ctrl.workListService.eqcCurrentClickStudent}">\r\n\r\n                    <div class="list_item_stu_left">\r\n                        <div class="list_item_stu_left_icon"><img ng-src="{{$root.loadImg(stu.gender == \'1\' ?\'person/student-m.png\':\'person/student-f.png\')}}"/></div>\r\n                        <div class="list_item_stu_left_name" ng-bind="stu.name"></div>\r\n                    </div>\r\n\r\n                    <div class="list_item_stu_right">\r\n                        <div class="list_item_stu_right_info">\r\n                            <span ng-bind="\'出错次数：\'+stu.totalErrorTimes+\'次\'"></span>\r\n                            <span ng-bind="\'最后一次\'+stu.lastStatus"></span>\r\n                        </div>\r\n                        <div style="padding: 0 10px; font-size: 28px">\r\n                            <span class="icon ion-ios-arrow-right"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ion-content>\r\n    <loading-processing load-top="200" ng-if="!ctrl.retFlag"></loading-processing>\r\n</ion-view>\r\n\r\n'},5631:function(e,n,t){var i=t(5632);"string"==typeof i&&(i=[[e.id,i,""]]);t(147)(i,{});i.locals&&(e.exports=i.locals)},5632:function(e,n,t){n=e.exports=t(146)(),n.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n.eqc_student_list_file .eqc_student_list_subheader {\n  border-bottom: none;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box .list_item_stu {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n  padding: 5px 10px;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box .list_item_stu img {\n  height: 100%;\n  display: inline-block;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box .list_item_stu .list_item_stu_left {\n  margin: 0 10px;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box .list_item_stu .list_item_stu_left .list_item_stu_left_icon {\n  width: 80px;\n  height: 40px;\n  overflow: hidden;\n  text-align: center;\n  flex: 1;\n  -webkit-flex: 1;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box .list_item_stu .list_item_stu_left .list_item_stu_left_name {\n  text-align: center;\n  flex: 1;\n  -webkit-flex: 1;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box .list_item_stu .list_item_stu_right {\n  flex: 1;\n  -webkit-flex: 1;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  -webkit-align-items: center;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box .list_item_stu .list_item_stu_right .list_item_stu_right_info {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box.item {\n  padding: 0;\n  border: none;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu_box.item:nth-child(odd) .list_item_stu {\n  background: #E9EDF3;\n}\n.eqc_student_list_file .eqc_sl_content .list_item_stu.current_click_student {\n  background: #D5D7DF;\n}\n",""])},5633:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,l,s,u,d,f,p,_,h,g,b,v,m,x,w,y,k,q,z,S=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),C=t(5615),j=t(5634),L=i(j),P=t(438),T=i(P),I=(a=(0,C.View)("error_question_c",{url:"/error_question_c/:urlFrom",template:t(5635),styles:t(5636),inject:["$scope","$state","$rootScope","$ionicScrollDelegate","$ngRedux","$ionicSideMenuDelegate","$ionicModal","$timeout","$ionicLoading","workListService","workPaperBankService","commonService","subHeaderService"]}),l=(0,C.select)(function(e){return e.clazz_list}),s=(0,C.select)(function(e){return e.wl_selected_clazz}),u=(0,C.select)(function(e){return e.wr_textbooks}),d=(0,C.select)(function(e){return e.wr_selected_textbook[e.wl_selected_clazz.id]}),f=(0,C.select)(function(e){return e.eq_selected_chapter[e.wl_selected_clazz.id]}),p=(0,C.select)(function(e){var n=e.eq_selected_chapter[e.wl_selected_clazz.id];return e.eq_redo_creating_paper[e.wl_selected_clazz.id+"/"+(n&&n.id)]}),_=(0,C.select)(function(e){var n=e.eq_selected_chapter[e.wl_selected_clazz.id];return e.eq_data_with_clazz[e.wl_selected_clazz.id+"/"+(n&&n.id)]}),h=(0,C.select)(function(e){var n=e.eq_selected_chapter[e.wl_selected_clazz.id];return e.eq_paper_with_clazz[e.wl_selected_clazz.id+"/"+(n&&n.id)]}),a((b=function(){function e(){o(this,e),r(this,"clazzList",v,this),r(this,"selectedClazz",m,this),r(this,"textbooks",x,this),r(this,"textbook",w,this),r(this,"selectedChapter",y,this),r(this,"creatingPaperQuestionList",k,this),r(this,"errorQuestionInfoItems",q,this),r(this,"minePaperList",z,this),this.screenWidth=window.innerWidth,this.isIos=2==this.commonService.judgeSYS(),this.size=10,this.lastKey=null,this.canLoadMore=!0,this.initErrorInfo=!0,this.initPaperList=!0,this.initErrorInfoMsg="",this.isFetchTextbookProcessing=!1,this.lastSortOut={},this.initErrorInfoFail=!1,this.currentChooseTextbook={id:""},this.initChapterSelectModal(),this.subHeaderService.clearAll()}return S(e,[{key:"back",value:function(){this.getStateService().go("pub_work_type")}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){e.initCtrl=!0,e.initPageData()})}},{key:"onBeforeLeaveView",value:function(){this.$ionicSideMenuDelegate.toggleLeft(!1),(0,T.default)(this.workListService.eqcRequestList,function(e){e.resolve(!0)}),this.workListService.eqcRequestList.length=0}},{key:"onBeforeEnterView",value:function(){var e=this;this.initCtrl&&"eqc_redo_paper"==this.getStateService().params.urlFrom&&this.getMainPaperList(),this.initCtrl&&"work_list"==this.getStateService().params.urlFrom&&this.selectedClazz.id&&(this.isFetchTextbookProcessing=!0,this.workPaperBankService.getTextbookList(function(){e.isFetchTextbookProcessing=!1,e.workPaperBankService.selectTextbook(),e.currentChooseTextbook.id=e.textbook.id}))}},{key:"onAfterEnterView",value:function(){"eqc_redo_paper"!=this.getStateService().params.urlFrom&&"work_pub"!=this.getStateService().params.urlFrom||this.$timeout(function(){$("#eqc_mine").click()},0)}},{key:"initPageData",value:function(){var e=this;this.selectedClazz&&this.selectedClazz.id&&(this.isFetchTextbookProcessing=!0,this.workPaperBankService.getTextbookList(function(n){e.isFetchTextbookProcessing=!1,e.workPaperBankService.selectTextbook(),e.getErrorInfoWithChapter(),e.getMainPaperList(),e.currentChooseTextbook.id=e.textbook.id}))}},{key:"openClazzSelect",value:function(){this.$ionicSideMenuDelegate.toggleLeft()}},{key:"selectClazz",value:function(e){var n=this;if(e&&e.id==this.selectedClazz.id)return void this.$ionicSideMenuDelegate.toggleLeft(!1);this.workListService.changeAndSaveSelectedClazz(e),this.$ionicScrollDelegate.$getByHandle("mainScroll").scrollTop(!1),e&&(this.$ionicSideMenuDelegate.toggleLeft(!1),this.$timeout(function(){n.initPageData()},400))}},{key:"initChapterSelectModal",value:function(){var e=this;this.chapterSelectModal=this.$ionicModal.fromTemplate(L.default,{scope:this.getScope()}),this.getScope().$on("$destroy",function(){e.chapterSelectModal.remove()})}},{key:"openChapterSelect",value:function(){this.chapterSelectModal.show()}},{key:"closeChapterSelect",value:function(){this.chapterSelectModal.hide()}},{key:"clickChapter",value:function(e,n){e&&e.stopPropagation(),this.chapterSelectModal.hide(),this.workListService.selectErrorQuestionChapter(n),this.getErrorInfoWithChapter(),this.getMainPaperList()}},{key:"getErrorInfoWithChapter",value:function(){var e=this;if(this.selectedChapter&&this.selectedClazz.id){var n=this.selectedClazz.id+"/"+this.selectedChapter.id,t={chapterId:this.selectedChapter.id,classId:this.selectedClazz.id};return(new Date).valueOf()-this.lastSortOut[n]<3e4&&(t.type=1),this.initErrorInfo=!1,this.initErrorInfoFail=!1,this.workListService.getErrorQuestionInfo(t,n).then(function(t){e.initErrorInfo=!0,t.res?e.lastSortOut[n]=(new Date).valueOf():(e.initErrorInfoFail=!0,e.initErrorInfoMsg=t.msg)},function(){e.initErrorInfo=!0,e.initErrorInfoFail=!0})}}},{key:"getMainPaperList",value:function(){var e=this;if(this.selectedChapter&&this.selectedClazz.id){var n={chapterId:this.selectedChapter.id,classId:this.selectedClazz.id,size:this.size,type:7};this.initPaperList=!1,this.workListService.getErrorRedoPaperList(n,this.selectedClazz.id+"/"+this.selectedChapter.id).then(function(n){n&&(e.lastKey=n.lastKey,e.canLoadMore=n.papers.length>=e.size),e.initPaperList=!0},function(){e.initPaperList=!0})}}},{key:"showMainPaperDetail",value:function(e){this.workListService.selectRedoPaper(e),this.workListService.eqcCurrentClickPaper=e.id,this.getStateService().go("eqc_redo_paper",{urlFrom:"paper",selectPaperId:e.id})}},{key:"showPaperQuestion",value:function(){this.getStateService().go("eqc_redo_paper",{urlFrom:"question"})}},{key:"goAndShowQuestion",value:function(e){if(e)return this.workListService.eqcCurrentClickTag=e.id,void this.getStateService().go("eqc_detail",{unitId:e.id});this.getStateService().go("eqc_detail",{unitId:this.selectedChapter.id,chapter:2})}},{key:"deleteMinePaper",value:function(e){var n=this;this.commonService.showConfirm("温馨提示","确认删除该重练试卷？").then(function(t){t&&(n.$ionicLoading.show({template:"试卷删除中..."}),n.workListService.deletePaper(e,n.selectedClazz.id+"/"+n.selectedChapter.id).then(function(e){200==e.code?n.$timeout(function(){n.$ionicLoading.show({template:'<p style="color: #afff33">试卷删除成功</p>',duration:1500})},500):n.$timeout(function(){n.$ionicLoading.show({template:'<p style="color: #FF5F3A">试卷删除失败</p>',duration:1500})},500)},function(){n.$timeout(function(){n.$ionicLoading.show({template:'<p style="color: #FF5F3A">试卷删除失败</p>',duration:1500})},500)}))})}},{key:"loadMore",value:function(){var e=this,n={chapterId:this.selectedChapter.id,classId:this.selectedClazz.id,size:this.size,type:7,lastKey:this.lastKey};this.workListService.getErrorRedoPaperList(n,this.selectedClazz.id+"/"+this.selectedChapter.id,!0).then(function(n){n&&(e.getScope().$broadcast("scroll.infiniteScrollComplete"),e.lastKey=n.lastKey,e.canLoadMore=n.papers.length>=e.size)},function(){e.getScope().$broadcast("scroll.infiniteScrollComplete")})}},{key:"showLoadingIcon",value:function(e){var n="eqc_overview"==e.activeEle&&!this.errorQuestionInfoItems&&!this.initErrorInfo||"eqc_mine"==e.activeEle&&!this.minePaperList&&!this.initPaperList;return console.warn("ng-if:",n),n}},{key:"clickTextbook",value:function(e){this.$ionicScrollDelegate.$getByHandle("textbookModal").scrollTop(!1),e.id!=this.currentChooseTextbook.id?(this.currentChooseTextbook.id=e.id,e.id!=this.textbook.id&&this.workPaperBankService.selectTextbook(e)):this.currentChooseTextbook.id=""}}]),e}(),v=c(b.prototype,"clazzList",[l],{enumerable:!0,initializer:null}),m=c(b.prototype,"selectedClazz",[s],{enumerable:!0,initializer:null}),x=c(b.prototype,"textbooks",[u],{enumerable:!0,initializer:null}),w=c(b.prototype,"textbook",[d],{enumerable:!0,initializer:null}),y=c(b.prototype,"selectedChapter",[f],{enumerable:!0,initializer:null}),k=c(b.prototype,"creatingPaperQuestionList",[p],{enumerable:!0,initializer:null}),q=c(b.prototype,"errorQuestionInfoItems",[_],{enumerable:!0,initializer:null}),z=c(b.prototype,"minePaperList",[h],{enumerable:!0,initializer:null}),g=b))||g);n.default=I},5634:function(e,n){
e.exports='\r\n<ion-modal-view hide-nav-bar="true" class="error_question_c_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.closeChapterSelect()" style="padding:0 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\';font-weight: bold" ng-bind="ctrl.isFetchTextbookProcessing ? \'教材\':ctrl.textbook.name" ></h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-content delegate-handle="textbookModal">\r\n\r\n        <div class="modal_textbook_content" style="padding:20px 0">\r\n            \x3c!--没有班级--\x3e\r\n            <div ng-if="!ctrl.clazzList.length" style="padding: 10px;color: #3f4367">\r\n                您还没有创建班级，请返回点击下方的“班级”，然后再点击“+”创建班级。\r\n            </div>\r\n\r\n            <div class="display-flex" style="font-size: 16px;margin-top: 20px" ng-if="ctrl.isFetchTextbookProcessing">\r\n                <ion-spinner icon="ios"></ion-spinner>\r\n                <span style="margin-left: 10px">获取班级教材中...</span>\r\n            </div>\r\n            <div class="list" ng-show="ctrl.textbooks[0] && !ctrl.isFetchTextbookProcessing"\r\n                 ng-repeat="textbookItem in ctrl.textbooks[0].subTags | filter:{text:ctrl.commonService.convertToChinese(ctrl.selectedClazz.grade)}"\r\n                 ng-click="ctrl.clickTextbook(textbookItem)">\r\n\r\n                <div class="item textbook_bg row-link">\r\n                    <span class="icon row-icon ion-chevron-down"\r\n                          ng-class="textbookItem.id === ctrl.currentChooseTextbook.id ? \'ion-chevron-down\':\'ion-chevron-right\'"\r\n                          style="font-weight: bold;margin-right: 5px;display: inline-block">\r\n                    </span>{{textbookItem.name}}\r\n                </div>\r\n\r\n                <div class="" ng-repeat="chapter in textbookItem.subTags" ng-if="ctrl.currentChooseTextbook.id === textbookItem.id">\r\n                    <div class="item unit_bg" ng-click="ctrl.clickChapter($event,chapter)">\r\n                        <span class="icon ion-chevron-right"\r\n                              style="font-weight: bold;margin-right: 5px">\r\n                        </span>{{chapter.text}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!--<div class="list" ng-show="ctrl.textbook && !ctrl.isFetchTextbookProcessing">--\x3e\r\n                \x3c!--<div ng-repeat="chapter in ctrl.textbook.subTags">--\x3e\r\n                    \x3c!--<div class="item unit_bg" ng-click="ctrl.clickChapter(chapter)">--\x3e\r\n                        \x3c!--<span class="icon ion-chevron-right"--\x3e\r\n                              \x3c!--style="font-weight: bold;margin-right: 5px">--\x3e\r\n                        \x3c!--</span>{{chapter.text}}--\x3e\r\n                    \x3c!--</div>--\x3e\r\n                \x3c!--</div>--\x3e\r\n            \x3c!--</div>--\x3e\r\n        </div>\r\n\r\n    </ion-content>\r\n\r\n</ion-modal-view>\r\n\r\n\r\n'},5635:function(e,n){e.exports='\r\n<ion-view title="错题集" hide-nav-bar="true" class="error_question_c_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding:0 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\';font-weight: bold">错题集</h1>\r\n    </ion-header-bar>\r\n\r\n    <ion-side-menus>\r\n        \x3c!--左侧隐藏的班级列表--\x3e\r\n        <ion-side-menu side="left" width="{{ctrl.screenWidth<400?180:275}}" style="margin: 0">\r\n            <ion-content class="clazz_select" padding="true" style="padding-bottom: 60px">\r\n                <div class="clazz_select_block"\r\n                     ng-repeat="clazz in ctrl.clazzList"\r\n                     ng-style="{\'margin-bottom\':$last?\'60px\':\'0px\'}">\r\n                    <div class="clazz_item" ng-click="ctrl.selectClazz(clazz)">\r\n                        <img class="clazz_select_img" ng-src="{{$root.loadImg(\'other/class.png\')}}">\r\n                        <div class="clazz_name" ng-bind="clazz.name"></div>\r\n                    </div>\r\n                </div>\r\n            </ion-content>\r\n        </ion-side-menu>\r\n\r\n        <ion-side-menu-content>\r\n            \x3c!--班级、单元--\x3e\r\n            <div class="has-header error_question_c_select">\r\n                \x3c!--班级--\x3e\r\n                <div class="error_question_c_select_left" ng-click="ctrl.openClazzSelect()">\r\n                    <span class="eqc_sl_clazz_name" ng-bind="ctrl.selectedClazz.name||\'选择班级\'"></span>\r\n                    <span class="icon ion-ios-arrow-right"></span>\r\n\r\n                </div>\r\n                \x3c!--单元--\x3e\r\n                <div class="error_question_c_select_right" ng-click="ctrl.openChapterSelect()">\r\n                    <span class="eqc_sl_chapter_name" ng-bind="ctrl.selectedChapter.text||\'选择章节单元\'"></span>\r\n                    <span class="icon ion-ios-arrow-right"></span>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!--分页图标--\x3e\r\n            <sub-header id="error_question_c_subheader" class="error_question_c_subheader">\r\n                <div class="subheader-item" id="eqc_overview">\r\n                    <div class="sub-title">\r\n                        <span class="sub-header-name">错题统计</span>\r\n                    </div>\r\n                </div>\r\n                <div class="subheader-item" id="eqc_mine">\r\n                    <div class="sub-title">\r\n                        <span class="sub-header-name">我的组卷</span>\r\n                    </div>\r\n                </div>\r\n            </sub-header>\r\n\r\n            <ion-content padding="false" class="error_question_c_content">\r\n                \x3c!--没有班级--\x3e\r\n                <div ng-if="ctrl.initCtrl && !ctrl.selectedClazz.id" style="padding: 10px;color: #3f4367">\r\n                    您还没有创建班级，请返回点击下方的“班级”，然后再点击“+”创建班级。\r\n\r\n                </div>\r\n\r\n                \x3c!--没有选择章节--\x3e\r\n                <div ng-if="ctrl.selectedClazz.id && !ctrl.selectedChapter"\r\n                     style="padding: 10px;color: #3f4367">请选择教材章节</div>\r\n\r\n                \x3c!--再次进入加载数据时显示--\x3e\r\n                <div ng-show="ctrl.selectedClazz.id && ctrl.selectedChapter && ctrl.errorQuestionInfoItems && !ctrl.initErrorInfo"\r\n                     style="padding: 10px;color: #3f4367">\r\n                    正在整理最新错题信息...\r\n                </div>\r\n\r\n                \x3c!--整理错题数据失败--\x3e\r\n                <div ng-show="ctrl.selectedClazz.id && ctrl.selectedChapter && !ctrl.errorQuestionInfoItems && ctrl.initErrorInfoFail"\r\n                     style="padding: 10px;color: #3f4367">\r\n                    {{ctrl.initErrorInfoMsg ? ctrl.initErrorInfoMsg:\'获取错题数据失败，请切换单元重试...\'}}\r\n                </div>\r\n\r\n\r\n                \x3c!--单元错题总览--\x3e\r\n                <div class="list eqc_content_overview" ng-if="subHeaderInfo.activeEle==\'eqc_overview\'">\r\n                    \x3c!--单元汇总--\x3e\r\n                    <div ng-if="ctrl.errorQuestionInfoItems" style="color: #6a6a6a; margin: 2px 10px -8px 10px">单元查看：</div>\r\n                    <div class="item eqc_content_overview_unit" ng-if="ctrl.errorQuestionInfoItems" ng-click="ctrl.goAndShowQuestion()">\r\n\r\n                        <div class="eqc_content_overview_item_left">\r\n                            <div class="flex_2" ng-bind="\'本单元汇总（包含所有课时）\'"></div>\r\n                            <div class="flex_1" style="margin-left: 10px;font-size: 14px">\r\n                                <span ng-if="ctrl.errorQuestionInfoItems.allNumber != -1">\r\n                                    错题数：<span style="color:#ff5858">{{ctrl.errorQuestionInfoItems.allNumber}}</span>\r\n                                </span>\r\n                                <span ng-if="ctrl.errorQuestionInfoItems.allNumber == -1">无做题记录</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class="eqc_content_overview_item_right">\r\n                            <span class="icon ion-ios-arrow-right"></span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!--错题总览--\x3e\r\n                    <div ng-if="ctrl.errorQuestionInfoItems" style="color: #6a6a6a; margin: 20px 10px 2px 10px">分课时查看：</div>\r\n                    <div ng-repeat="item in ctrl.errorQuestionInfoItems.list" ng-click="ctrl.goAndShowQuestion(item)"\r\n                         class="item eqc_content_overview_hour" ng-class="{\'current_click_tag\':item.id === ctrl.workListService.eqcCurrentClickTag}">\r\n\r\n                        <div class="eqc_content_overview_item_left">\r\n                            <div class="flex_2" ng-bind="item.content"></div>\r\n                            <div class="flex_1" style="margin-left: 10px;font-size: 14px">\r\n                                <span ng-if="item.errorQuestionNumber === -1" ng-bind="\'无做题记录\'"></span>\r\n                                <span ng-if="item.errorQuestionNumber !== -1">\r\n                                    错题数：<span style="color: #ff5858">{{item.errorQuestionNumber}}</span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div class="eqc_content_overview_item_right">\r\n                            <span class="icon ion-ios-arrow-right"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                \x3c!--单元错题组卷列表--\x3e\r\n                <div class="eqc_content_mine" ng-if="subHeaderInfo.activeEle==\'eqc_mine\'">\r\n                    \x3c!--没有重练试卷--\x3e\r\n                    <div ng-if="ctrl.selectedClazz.id && ctrl.selectedChapter && ctrl.initPaperList && !ctrl.minePaperList.length"\r\n                         style="padding: 10px;color: #3f4367">还没有组卷</div>\r\n\r\n                    <ion-list>\r\n                        <ion-item ng-repeat="mine in ctrl.minePaperList" ng-click="ctrl.showMainPaperDetail(mine)" class="item item-avatar"\r\n                                  ng-class="{\'current_click_tag\':$last,\'current_click_tag\':mine.id === ctrl.workListService.eqcCurrentClickPaper}">\r\n\r\n                            <img ng-src="{{$root.loadImg(\'paper_bank/paper_icon.png\')}}" alt="" class="img-content"/>\r\n                            <p ng-bind="mine.name"></p>\r\n                            <p ng-bind="mine.createTime"></p>\r\n\r\n                            <ion-option-button class="button-assertive" ng-click="ctrl.deleteMinePaper(mine.id)">删除</ion-option-button>\r\n                        </ion-item>\r\n                    </ion-list>\r\n                </div>\r\n\r\n                \x3c!--上拉加载更多--\x3e\r\n                <ion-infinite-scroll on-infinite="ctrl.loadMore()" immediate-check="false" spinner="ios" distance="10%"\r\n                                     ng-if="subHeaderInfo.activeEle==\'eqc_mine\' && ctrl.canLoadMore">\r\n                </ion-infinite-scroll>\r\n\r\n                \x3c!--空白loading圈--\x3e\r\n                <div class="display-flex" style="margin: 20px;" ng-if="ctrl.showLoadingIcon(subHeaderInfo)">\r\n                    <ion-spinner  icon="ios"></ion-spinner>\r\n                </div>\r\n            </ion-content>\r\n\r\n            <ion-footer-bar style="background: none!important;" ng-if="subHeaderInfo.activeEle==\'eqc_overview\'">\r\n                <button class="button eqc_footer_btn" ng-click="ctrl.showPaperQuestion()">\r\n                    <div class="display-flex">\r\n                        <i class="icon ion-android-folder"></i>\r\n                        <span>错题组卷: 已选</span>\r\n                        <span style="margin: 0 5px; font-size: 30px; color: #ff8585;">{{ctrl.creatingPaperQuestionList ? ctrl.creatingPaperQuestionList.length:0}}</span>\r\n                        <span>题</span>\r\n                    </div>\r\n                </button>\r\n            </ion-footer-bar>\r\n        </ion-side-menu-content>\r\n    </ion-side-menus>\r\n</ion-view>\r\n\r\n\r\n'},5636:function(e,n,t){var i=t(5637);"string"==typeof i&&(i=[[e.id,i,""]]);t(147)(i,{});i.locals&&(e.exports=i.locals)},5637:function(e,n,t){n=e.exports=t(146)(),n.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n.platform-ios.platform-cordova:not(.fullscreen) .has-header.error_question_c_content {\n  top: 163px!important;\n}\n.platform-ios.platform-cordova:not(.fullscreen) .bar-subheader.error_question_c_subheader {\n  top: 120px!important;\n}\n.error_question_c_file .error_question_c_subheader {\n  top: 100px;\n}\n.error_question_c_file .clazz_select {\n  top: 40px;\n  border-left-width: 6px;\n  background: #6997eb;\n}\n.error_question_c_file .clazz_select_img {\n  margin-top: 14px;\n  width: 105px;\n  min-height: 56px;\n}\n.error_question_c_file .clazz_item {\n  background: white;\n  border-radius: 7px;\n  width: 99%;\n  padding: 15px 0;\n  min-height: 158px;\n  text-align: center;\n}\n.error_question_c_file .clazz_name {\n  font-size: 17px;\n  margin-top: 10px;\n}\n.error_question_c_file .clazz_select_block {\n  padding: 6px 14px;\n}\n.error_question_c_file .error_question_c_select {\n  position: absolute;\n  padding: 0 10px;\n  margin-top: 10px;\n  height: 44px;\n  width: 100%;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.error_question_c_file .error_question_c_select .error_question_c_select_left,\n.error_question_c_file .error_question_c_select .error_question_c_select_right {\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-around;\n  align-items: center;\n  -webkit-justify-content: space-around;\n  -webkit-align-items: center;\n  height: 100%;\n  border-radius: 5px;\n  flex: 1;\n  -webkit-flex: 1;\n}\n.error_question_c_file .error_question_c_select .error_question_c_select_left .ion-ios-arrow-right,\n.error_question_c_file .error_question_c_select .error_question_c_select_right .ion-ios-arrow-right {\n  font-size: 20px;\n}\n.error_question_c_file .error_question_c_select .error_question_c_select_left {\n  background: #f9e18e;\n  color: #9b653f;\n}\n.error_question_c_file .error_question_c_select .error_question_c_select_right {\n  background: #83d5f3;\n  color: #434c6f;\n  margin-left: 6px;\n}\n.error_question_c_file .error_question_c_content {\n  top: 143px;\n}\n.error_question_c_file .error_question_c_content .eqc_content_overview .item {\n  border: none;\n  color: #3F4367;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.error_question_c_file .error_question_c_content .eqc_content_overview .item .eqc_content_overview_item_left {\n  flex: 1;\n  -webkit-flex: 1;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.error_question_c_file .error_question_c_content .eqc_content_overview .item .eqc_content_overview_item_left span {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.error_question_c_file .error_question_c_content .eqc_content_overview .eqc_content_overview_hour.item:nth-child(even) {\n  background-color: #E9EDF3;\n}\n.error_question_c_file .error_question_c_content .eqc_content_overview .eqc_content_overview_hour.item:last-child {\n  margin-bottom: 60px;\n}\n.error_question_c_file .error_question_c_content .eqc_content_overview .eqc_content_overview_hour.item.current_click_tag {\n  background-color: #D5D7DF;\n}\n.error_question_c_file .error_question_c_content .eqc_content_overview .eqc_content_overview_unit {\n  margin: 10px;\n  background: #b7ecfd;\n  border-radius: 5px;\n  padding: 16px 6px;\n}\n.error_question_c_file .error_question_c_content .eqc_content_mine .item:nth-child(odd) .item-content {\n  background: #E9EDF3;\n}\n.error_question_c_file .error_question_c_content .eqc_content_mine .item {\n  border: none;\n}\n.error_question_c_file .error_question_c_content .eqc_content_mine .item .img-content {\n  border-radius: 0!important;\n}\n.error_question_c_file .error_question_c_content .eqc_content_mine .item .last-content {\n  margin-bottom: 60px;\n}\n.error_question_c_file .error_question_c_content .eqc_content_mine .item .item-content.current_click_tag {\n  background-color: #D5D7DF;\n}\n.error_question_c_file .modal_textbook_content .common_sty {\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.error_question_c_file .modal_textbook_content .list .textbook_bg {\n  background: #B4D0ED;\n  margin-left: 13px;\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.error_question_c_file .modal_textbook_content .list .textbook_bg .ion-chevron-down:before {\n  width: 18px;\n}\n.error_question_c_file .modal_textbook_content .list .textbook_bg .ion-chevron-right:before {\n  width: 18px;\n}\n.error_question_c_file .modal_textbook_content .list .unit_bg {\n  background: #BEE7F1;\n  margin-left: 23px;\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.error_question_c_file .modal_textbook_content .list:not(last-child) {\n  margin-bottom: 0;\n}\n.error_question_c_file .modal_textbook_content .list:last-child {\n  margin-bottom: 60px;\n}\n.error_question_c_file .modal_textbook_content .ion-chevron-done:before {\n  width: 18px;\n}\n.error_question_c_file .eqc_footer_btn.button {\n  flex: 1;\n  -webkit-flex: 1;\n  margin: 0;\n  height: 100%;\n  font-size: 17px;\n  background: #3e8ad0;\n  color: #fff;\n}\n.error_question_c_file .eqc_footer_btn.button .ion-android-folder::before {\n  font-size: 30px;\n}\n.error_question_c_file .eqc_footer_btn.button.activated {\n  background: #336899;\n}\n",""])},5638:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}Object.defineProperty(n,"__esModule",{value:!0});var a,l,s,u,d,f,p,_=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),h=t(4487),g=i(h),b=t(4485),v=i(b),m=t(282),x=i(m),w=t(5615),y=(a=(0,w.View)("work_pub3",{url:"/work_pub3/:from/:publishType",template:t(5639),styles:t(5640),cache:!1,inject:["$scope","$ngRedux","$state","finalData","commonService","workManageService","$ionicActionSheet","$rootScope"]}),l=(0,w.select)(function(e,n){var t=n.workManageService.backupWork.name,i=n.getStateService().params.from;return"work_paper_detail"!=i&&"oral_arithmetic_view"!=i||(t=n.workManageService.libWork.name),"pub_work_preview"==i&&(t=e.compose_temp_paper.paperName),t}),s=(0,w.select)(function(e){return e.wl_selected_clazz.gradeName}),a((d=function(){function e(){var n=this;o(this,e),this.me=this,r(this,"workName",f,this),r(this,"selectedClazzGradeName",p,this),this.pubStartTime=function(){if(n.validateForm()){var e=n.formData.startTime||new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes();if(3===n.commonService.judgeSYS()){var i=n.getDateTime();i&&(t=i)}n.handleConfirmBtnClick(t)}},this.initData()}return _(e,[{key:"initData",value:function(){this.isPubWorkSuccess=!1,this.formData={},this.startDateTime={},this.pubPaperSucceedFlag=!1,this.isWin=3===this.commonService.judgeSYS(),this.isIos=2===this.commonService.judgeSYS(),this.isAndroid=1===this.commonService.judgeSYS(),this.initCtrl=!1,this.formData={},this.clazzList=[],this.assignee=[],this.pubBtnDisabled=!1,this.guideFlag=this.commonService.getSimulationClazzLocalData()}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl&&e.selectedClazzGradeName}).then(function(){e.initCtrl=!0,e.workManageService.getPubClazzList().then(function(n){if(n&&n.length)return"eqc_redo_paper"==e.getStateService().params.from?void e.clazzList.push((0,x.default)(n,{id:e.$ngRedux.getState().wl_selected_clazz.id})):void angular.forEach(n,function(n){n.className.indexOf(e.selectedClazzGradeName)>-1&&100==n.type&&e.clazzList.push(n),e.guideFlag&&!e.guideFlag.hasPubedSimulationWork&&(e.clazzList=[],e.clazzList.push(n))})})})}},{key:"checkSetTimeAndCurrentTime",value:function(e){return Number(new Date(e.year+"-"+e.mouth+"-"+e.date+" "+e.hour+":"+e.minutes).getTime())>=Number((new Date).getTime())+60}},{key:"minTimeSet",value:function(){if(!this.isWin){var e=this.formData.startTime;e&&new Date(e).getTime()<=(new Date).getTime()&&this.commonService.alertDialog("不符合预发布时间，已默认为“立即布置”",2e3)}}},{key:"showDateTime",value:function(){var e=(new Date).getTime();if(this.isWin){var n=this.getDateTime();n&&(e=new Date(n).getTime())}else{var t=this.formData.startTime;e=new Date(t).getTime()}var i="";return(!this.formData.startTime||this.formData.startTime&&e<=(new Date).getTime())&&(i="立即布置"),i}},{key:"getCurrentDateTimeStr",value:function(){var e=new Date,n="-";return this.isIos&&(n="/"),e.getFullYear()+n+(e.getMonth()+1)>9?e.getMonth()+1:"0"+(e.getMonth()+1)+n+e.getDate()>9?e.getDate():"0"+e.getDate()+" "+e.getHours()>9?e.getHours():"0"+e.getHours()+":"+e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes()}},{key:"getDateTime",value:function(){return!this.startDateTime||this.startDateTime&&!this.startDateTime.year?"":this.startDateTime.year+"-"+this.startDateTime.mouth+"-"+this.startDateTime.date+" "+this.startDateTime.hour+":"+this.startDateTime.minutes}},{key:"showShareMenu",value:function(){var e=this,n=this.$ngRedux.getState().profile_user_auth.user.name,t=n+'老师在智算365已布置了作业"'+this.workName+'"，抓紧去完成吧！';this.$ionicActionSheet.show({buttons:[{text:'<img class="weChat-share-img" src="'+v.default+'">通知到微信'},{text:'<img class="qq-share-img" src="'+g.default+'">通知到QQ'}],titleText:'<div>\n                    <div class="share-title">通知内容：</div>\n                        <div class="share-content">'+t+"</div>\n                    </div>",cancelText:"取消",buttonClicked:function(n){if(1==n&&(QQ.setOptions({appId:"1105576253",appName:"XiaoGou",appKey:"IaDN9O8abL0FJ6gT"}),QQ.share(t,"智算365通知","http://xuexiv.com/img/icon.png",e.finalData.GONG_ZHONG_HAO_QRIMG_URL,function(){e.commonService.showAlert("提示","通知成功！")},function(n){e.commonService.showAlert("提示",n)})),0==n){if(!e.getRootScope().weChatInstalled)return void e.commonService.showAlert("提示","没有安装微信！");Wechat.share({scene:Wechat.Scene.SESSION,message:{title:"智算365",description:t,thumb:"http://xuexiv.com/img/icon.png",mediaTagName:"TEST-TAG-001",messageExt:"这个字段没有用",messageAction:"<action>dotalist</action>",media:{type:Wechat.Type.WEBPAGE,webpageUrl:e.finalData.GONG_ZHONG_HAO_QRIMG_URL}}},function(){e.commonService.showAlert("提示","通知成功！")},function(n){e.commonService.showAlert("提示",n)})}return!0}})}},{key:"showClazzModal",value:function(){this.clazzModal.show()}},{key:"selectAll",value:function(e){if(e.isClicked){if(!e.studentCount)return this.commonService.alertDialog("该班还没有学生.",1500),void(e.isClicked=!1);for(var n in e.levelClick)e.levelClick[n].isClicked=!1;this.guideFlag&&!this.guideFlag.hasPubedSimulationWork&&(this.currentStep=2)}}},{key:"selectLevel",value:function(e){this.clazzList[e].isClicked=!1}},{key:"handleClazzPubStatus",value:function(e,n){var t=this;angular.forEach(e,function(e){for(var i=0;i<t.clazzList.length;i++){if("break"===function(i){if(t.clazzList[i].id===e.groupId)return n.CODE===t.finalData.PUB_CLAZZ_STATUS.SUCCESS.CODE?(t.clazzList[i].isClicked&&(t.clazzList[i].hasPubed=!0,t.clazzList[i].isClicked=!1,t.clazzList[i].hasPubedSuccess=!0,t.clazzList[i].code=n.CODE,t.clazzList[i].msg=n.MSG),angular.forEach(t.clazzList[i].levels,function(e,r){t.clazzList[i].levelClick[r].isClicked&&(t.clazzList[i].levelClick[r].isClicked=!1,t.clazzList[i].levelClick[r].hasPubedSuccess=!0,t.clazzList[i].levelClick[r].hasPubed=!0,t.clazzList[i].levelClick[r].code=n.CODE,t.clazzList[i].levelClick[r].msg=n.MSG)})):(t.clazzList[i].isClicked&&(t.clazzList[i].hasPubed=!0),t.clazzList[i].hasPubedSuccess||(t.clazzList[i].code=n.CODE,t.clazzList[i].msg=n.MSG),angular.forEach(t.clazzList[i].levels,function(e,r){t.clazzList[i].levelClick[r].isClicked&&(t.clazzList[i].levelClick[r].hasPubed=!0,t.clazzList[i].levelClick[r].code=n.CODE,t.clazzList[i].levelClick[r].msg=n.MSG)})),"break"}(i))break}})}},{key:"handlePubWork",value:function(e){var n=this,t=this.assignee[this.groupIndex],i=[];i.push(t);var r=angular.copy(e),o=function(){n.groupIndex===n.assignee.length-1?n.pubBtnDisabled=!1:(n.groupIndex++,n.handlePubWork(e))};r.assignee=JSON.stringify(i),this.workManageService.pubWork(r).then(function(e){if(200===e.code){n.isPubWorkSuccess=!0,"pub_work_preview"==n.getStateService().params.from&&(n.pubPaperSucceedFlag=!0,n.workManageService.pubPaperSucceed(n.$ngRedux.dispatch,n.$ngRedux.getState));var t=e[i[0].groupId],r=200===t?n.finalData.PUB_CLAZZ_STATUS.SUCCESS:n.finalData.PUB_CLAZZ_STATUS.FAIL;if(n.handleClazzPubStatus(i,r),n.guideFlag&&!n.guideFlag.hasPubedSimulationWork)return n.guideFlag.hasPubedSimulationWork=!0,n.commonService.saveSimulationClazzLocalData(n.guideFlag),void n.go("home.work_list");n.guideFlag&&n.guideFlag.hasPubedSimulationWork&&!n.guideFlag.isGuideEnd&&(n.guideFlag.isGuideEnd=!0,n.commonService.saveSimulationClazzLocalData(n.guideFlag))}else n.handleClazzPubStatus(i,n.finalData.PUB_CLAZZ_STATUS.FAIL),n.commonService.alertDialog(e.msg,2e3);o()},function(e){n.handleClazzPubStatus(i,n.finalData.PUB_CLAZZ_STATUS.FAIL),o()})}},{key:"handleConfirmBtnClick",value:function(e){var n=this,t={bookMarkId:this.workManageService.backupWork.id,publishType:"eqc_redo_paper"==this.getStateService().params.from?7:6,paperName:this.workManageService.libWork.name,startTime:e+":00",endTime:this.formData.endTime+":00"};if("pub_work_preview"==this.getStateService().params.from&&(t.bookMarkId=this.$ngRedux.getState().compose_multi_unit_paper,t.paperName=this.$ngRedux.getState().compose_temp_paper.paperName),"oral_arithmetic_view"==this.getStateService().params.from){var i=this.$ngRedux.getState().wr_selected_paper.basic.id;t.bookMarkId=i,t.publishType=this.getStateService().params.publishType||10}"work_paper_detail"==this.getStateService().params.from&&(delete t.bookMarkId,t.paperId=this.workManageService.libWork.id,t.paperName=this.workManageService.libWork.name,t.publishType=2),(!this.formData.startTime&&!this.startDateTime||!this.formData.startTime&&this.startDateTime&&!this.startDateTime.year)&&delete t.startTime;var r=t.startTime.replace(/\-/g,"/");t.startTime&&new Date(r).getTime()<=(new Date).getTime()&&delete t.startTime,this.formData.endTime||delete t.endTime;this.commonService.showConfirm("信息提示","是否要布置？").then(function(e){e&&(n.groupIndex=0,n.pubBtnDisabled=!0,n.handleClazzPubStatus(n.assignee,n.finalData.PUB_CLAZZ_STATUS.PROCESSING),n.handlePubWork(t))})}},{key:"validateForm",value:function(){var e=this;return this.assignee.length=0,this.clazzList.forEach(function(n){var t=[],i={};if(n.isClicked)i.groupId=n.id,e.assignee.push(i);else{for(var r in n.levelClick)n.levelClick[r].isClicked&&t.push(r);t.length&&(i.groupId=n.id,i.levels=t.join(","),e.assignee.push(i))}}),!!this.assignee.length||(this.commonService.alertDialog("至少选择一个布置对象!",1500),!1)}},{key:"back",value:function(){this.go("error_question_c",{urlFrom:"work_pub"})}},{key:"isShowIosShare",value:function(){return this.commonService.judgeAppVersion()}},{key:"getHighLightEle",value:function(){if(2==this.currentStep)return void(this.currentShowEle=$(".bar-item").eq(0));this.currentStep=1,this.currentShowEle=$(".pub-list-wrap .item-checkbox").eq(0)}},{key:"showSelectDateTimeDiagnose",value:function(){3===this.commonService.judgeSYS()&&(this.getRootScope().selectDateTimeFlag=!0)}}]),e}(),f=c(d.prototype,"workName",[l],{enumerable:!0,initializer:null}),p=c(d.prototype,"selectedClazzGradeName",[s],{enumerable:!0,initializer:null}),u=d))||u);n.default=y},5639:function(e,n){
e.exports='<ion-view title="布置作业" hide-nav-bar="true" class="work_pub_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"> </i>&nbsp;&nbsp;\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\'">布置作业</h1>\r\n    </ion-header-bar>\r\n    <ion-content padding="true">\r\n        <ng-form name="pubWorkForm" novalidate class="pub-content">\r\n            <div class="paper-title-wrap">\r\n                <span class="paper-name padding-better">作业名称:</span>\r\n                <span class="paper-title" ng-bind="ctrl.workName"></span>\r\n            </div>\r\n            <div class="pub-conctroll-wrap">\r\n\r\n                <span class="pub-controll-name padding-better">发布时间：</span>\r\n                <div style="position: relative;;min-width: 50%;">\r\n                    <input ng-if="!ctrl.isWin" type="datetime-local" name="subject" min="{{ctrl.getCurrentDateTimeStr()}}"\r\n                           ng-model="ctrl.formData.startTime"\r\n                           placeholder="立即布置"\r\n                           ng-change="ctrl.minTimeSet()"\r\n                           style="pointer-events:auto;background-color: rgba(220, 224, 255, 0.9);border: solid 1px #566093;border-radius: 0 !important;width: 100%;height:35px;line-height:35px"/>\r\n                    \x3c!--TODO 设置浮动在上面也可点击--\x3e\r\n                    <span ng-if="!!ctrl.showDateTime()&&!ctrl.isWin" style="pointer-events: none;" class="pub-right-now pub-right-now-win">\r\n                        立即布置\r\n                        <i class="ion-arrow-down-b"></i>\r\n                    </span>\r\n                    <p ng-if="ctrl.isWin" style="margin: 0;pointer-events:auto;"\r\n                       ng-bind="ctrl.checkSetTimeAndCurrentTime(ctrl.startDateTime)?ctrl.startDateTime.year+ \'-\' + ctrl.startDateTime.mouth+ \'-\' + ctrl.startDateTime.date+ \' \' + ctrl.startDateTime.hour+ \':\' + ctrl.startDateTime.minutes:\'立即布置\'"\r\n                       ng-click="ctrl.showSelectDateTimeDiagnose()"></p>\r\n                    <alr-select-date-time date-time="ctrl.startDateTime"></alr-select-date-time>\r\n                </div>\r\n\r\n            </div>\r\n            <div class="pub-list-wrap" style="margin-bottom: 60px">\r\n                <div class="item has-no-clazz" ng-show="!ctrl.clazzList || ctrl.clazzList.length<=0">布置作业前请先创建班级哦！</div>\r\n                <div class="pub-clazz-name-wrap padding-better">\r\n                    <span>选择布置对象：</span>\r\n                </div>\r\n                <div class="card card-better" ng-class="{\'clazz_margin_bottom_last\':$last}"\r\n                     ng-repeat="clazz in ctrl.clazzList track by $index" ng-init="idx=$index">\r\n                    <div class="clazz-name-wrap">\r\n                        <span class="clazz-name" ng-bind="clazz.name"></span>\r\n                    </div>\r\n                    <ion-checkbox ng-model="clazz.isClicked"\r\n                                  ng-click="clazz.hasPubedSuccess?\'\':ctrl.selectAll(clazz)"\r\n                                  ng-disabled="clazz.hasPubedSuccess?true:false">\r\n                        全班（{{clazz.studentCount}}人）- 包含所有层\r\n                        <span style="float: right;color: red"\r\n                              ng-if="clazz.hasPubed&&clazz.msg&&clazz.code!=2"\r\n                              ng-bind="clazz.msg">\r\n                        </span>\r\n                        <img ng-src="{{$root.loadImg(\'work/work_pub_succuss.png\')}}"\r\n                             ng-if="clazz.code===2"\r\n                             style="width: 70px;float: right;">\r\n                    </ion-checkbox>\r\n                    <ion-checkbox ng-repeat="(name,level) in clazz.levels"\r\n                                  ng-class="$even?\'clazz-even\':\'\'"\r\n                                  ng-model="clazz.levelClick[name].isClicked"\r\n                                  ng-click="clazz.levelClick[name].hasPubedSuccess?\'\':ctrl.selectLevel(idx)"\r\n                                  ng-disabled="clazz.levelClick[name].hasPubedSuccess?true:false"\r\n                                  ng-if="clazz.studentCount != level">\r\n                        {{name}}层（{{level}}人）\r\n                        <span style="float: right"\r\n                              ng-if="clazz.levelClick[name].hasPubed&&clazz.levelClick[name].msg&&clazz.levelClick[name].code!=2"\r\n                              ng-bind="clazz.levelClick[name].msg"\r\n                              style="color: red">\r\n                        </span>\r\n                        <img ng-src="{{$root.loadImg(\'work/work_pub_succuss.png\')}}"\r\n                             ng-if="clazz.levelClick[name].code===2"\r\n                             style="width: 70px;float: right;">\r\n                    </ion-checkbox>\r\n                </div>\r\n                <div class="pub-text-tip"\r\n                     ng-if="$root.platform.isMobile()&&$root.platform.IS_ANDROID&&$root.weChatPluginInstalled">\r\n                    作业布置成功后，可点击“通知”告诉学生和家长\r\n                </div>\r\n            </div>\r\n        </ng-form>\r\n    </ion-content>\r\n    <loading-processing></loading-processing>\r\n    <div class="bar bar-footer bar-balanced" ng-show="ctrl.clazzList && ctrl.clazzList.length>0">\r\n        <button class="button-clear bg-calm  bar-item"\r\n                ng-click="ctrl.pubStartTime()"\r\n                ng-disabled="ctrl.pubBtnDisabled"\r\n                ng-class="ctrl.pubBtnDisabled?\'btn-disabled-color\':\'\'">\r\n            <i class="icon ion-ios-paperplane"></i>\r\n            布置\r\n        </button>\r\n        <button class="button-clear bg-calm  bar-item"\r\n                ng-click="ctrl.showShareMenu()"\r\n                ng-if="$root.platform.isMobile()&&$root.weChatPluginInstalled && ctrl.isShowIosShare()&&ctrl.isPubWorkSuccess">\r\n            <i class="icon ion-aperture"></i>\r\n            通知\r\n        </button>\r\n    </div>\r\n\r\n    <teaching-guide ng-if="ctrl.guideFlag && !ctrl.guideFlag.isGuideAnimationEnd && ctrl.guideFlag.isSameUser"\r\n                    current-show-ele="ctrl.currentShowEle"\r\n                    step-count="2"\r\n                    current-step="ctrl.currentStep"\r\n                    get-high-light-ele="ctrl.getHighLightEle()">\r\n    </teaching-guide>\r\n</ion-view>\r\n\r\n'},5640:function(e,n,t){var i=t(5641);"string"==typeof i&&(i=[[e.id,i,""]]);t(147)(i,{});i.locals&&(e.exports=i.locals)},5641:function(e,n,t){n=e.exports=t(146)(),n.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n/*==============统一强制覆盖ionic样式Start==============*/\n.input-area {\n  display: inline-block !important;\n}\n.tab-item-active {\n  /*  color:#89B64B !important; */\n  color: #6B94D6 !important;\n}\n.bar-header {\n  background: #fff !important;\n  /*color: #fff !important;\n  background: #89B64B !important;*/\n}\n.bar .title {\n  color: #4A6B9D!important;\n}\n.bar-footer {\n  background: #5c6761 !important;\n  color: #fff!important;\n}\n.defined_bg {\n  background: #6B94D6 !important;\n  color: #fff !important;\n}\n.defined_bg_tint {\n  background: #A3B6DA !important;\n  color: #fff !important;\n}\n.item-divider {\n  /*background-color:#B8CFE4!important;*/\n  background-color: #fff !important;\n  font-size: 17px;\n  font-color: #6B94D6;\n  color: #6B94D6!important;\n  /*color:#233152!important;*/\n  /*margin: 10px auto;*/\n}\n.item-divider span {\n  margin-left: 5px;\n}\n/*==============强制覆盖ionic样式End==============*/\n/*==============公用样式Start==============*/\n.text-font-color {\n  color: #553333!important;\n}\n.text-align-left {\n  text-align: center;\n}\n.text-align-center {\n  text-align: center;\n}\n.text-align-right {\n  text-align: center;\n}\n.border-solid {\n  border: 1px solid;\n}\n.border-bottom-solid {\n  border-bottom: 1px solid;\n}\n.border-color {\n  border-color: #D7AD97;\n}\n.table-header-color {\n  background: #d2f7ef;\n}\n.table-tr-color,\n.row-color {\n  background: #fbf7db;\n}\n.ion-item-even {\n  background: #FFF;\n}\n.ion-item-odd {\n  background: #F3F3F3;\n}\n.work-correct-font {\n  font-weight: bold;\n  font-size: 19px;\n  color: #003366;\n}\n.button-color {\n  background: #5c6761 !important;\n  color: #fff!important;\n}\n.item-input-height {\n  height: 40px;\n}\n.item-input-height input {\n  font-size: 18px;\n  color: #553333!important;\n}\n.content-font-color h2,\n.content-font-color p {\n  color: #553333!important;\n}\n.theme-color {\n  color: #6B94D6;\n}\n.pull-icon {\n  color: #6B94D6;\n  font-size: 30px;\n  position: absolute;\n  right: 0;\n  bottom: 0px;\n}\n.card-better {\n  border-radius: 10px;\n  box-shadow: 0px 0px 18px #D0C4C4;\n  padding-bottom: 0px;\n  padding-top: 0px;\n}\n.card-better .card-title {\n  color: #273A43;\n  background: #D2F7EF;\n}\n.card-better .card-body {\n  color: #4a3c37;\n}\n.list-even {\n  background: #FDF8EE;\n}\n.small_q_bg {\n  background: #daf5fe;\n}\n.small_q_bg .q-context {\n  color: #17233e;\n  margin-top: 20px;\n}\n/*===========弹出框样式====================*/\n.popup-container .popup {\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n}\n.popup-container .popup .popup-head {\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  -webkit-border-top-left-radius: 10px;\n  -webkit-border-top-right-image: 10px;\n  background: #6B94D6 !important;\n}\n.popup-container .popup .popup-head .popup-title {\n  color: #fff;\n  font-size: 16px;\n}\n.popup-container .popup .popup-buttons .button {\n  background: #58D152 !important;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  border-color: #58D152 !important;\n  color: #fff;\n}\n/*==============统一强制覆盖ionic样式End==============*/\n.scrollToTop {\n  height: 48px;\n  width: 48px;\n  position: fixed;\n  bottom: 15%;\n  right: 5%;\n  z-index: 1000;\n  display: none;\n  opacity: 0.6;\n  background: url("+t(4666)+') no-repeat;\n}\n/*==================公共图标样式=======================*/\n.common-help {\n  width: 30px;\n  border-radius: 15px;\n}\n.common-help-tip {\n  width: 24px;\n  border-radius: 15px;\n  /* margin-top: 0px; */\n  position: absolute;\n  top: 22px;\n  left: 36px;\n}\n.btn-disabled-color {\n  color: #C7B7B7!important;\n}\nh1.title {\n  overflow: hidden;\n}\n.circle-input-area {\n  border-radius: 50%!important;\n}\n.pane[hide-nav-bar="true"] .has-tabs-top {\n  top: 0px;\n}\nion-header-bar .button i,\nion-header-bar .title {\n  color: #4a6b9d;\n}\n.common-back-btn {\n  width: 50px;\n  text-align: left;\n}\n.common-help-tip-wrap {\n  border-radius: 8px;\n  margin: 20px 10px 0px 10px;\n  background-color: #ffffff;\n}\n.common-help-tip-wrap .common-help-bar {\n  color: #838E92;\n  font-size: 15px;\n  text-align: left;\n  margin: 0;\n  padding: 5px 10px;\n}\n.common-help-tip-wrap .common-help-bar .common-help-bar-icon {\n  margin-right: 10px;\n  color: #F26691;\n  font-size: 25px;\n  vertical-align: sub;\n}\n.work_pub_file .clazz_margin_bottom {\n  margin-bottom: 15px;\n}\n.work_pub_file .clazz_margin_bottom_last {\n  margin-bottom: 20px;\n}\n.work_pub_file .padding-better {\n  padding-left: 10px;\n}\n.work_pub_file .pub-content {\n  padding-top: 20px;\n  font-size: 17px;\n  color: #293d69;\n  background-color: #E9EDF3;\n}\n.work_pub_file .pub-content .paper-title-wrap {\n  height: 55px;\n  line-height: 55px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.work_pub_file .pub-content .paper-title-wrap .paper-name {\n  float: left;\n}\n.work_pub_file .pub-content .paper-title-wrap .paper-title {\n  text-align: center;\n}\n.work_pub_file .pub-content .pub-conctroll-wrap {\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  box-shadow: 2px 2px 0px #aaaaaa;\n  height: 55px;\n  line-height: 55px;\n  padding-right: 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.work_pub_file .pub-content .pub-conctroll-wrap select {\n  height: 50px;\n  float: right;\n  border: none;\n}\n.work_pub_file .pub-content .pub-conctroll-wrap .pub-right-now {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  pointer-events: none;\n  width: 100%;\n  height: 35px;\n  line-height: 35px;\n  background-color: #fff;\n  border: solid 1px #566093;\n  border-left: solid 2px #566093;\n  border-right: solid 2px #566093;\n}\n.work_pub_file .pub-content .pub-conctroll-wrap .pub-right-now-win {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.work_pub_file .pub-content .pub-list-wrap .has-no-clazz {\n  margin-top: 20px;\n}\n.work_pub_file .pub-content .pub-list-wrap .item {\n  border: none;\n}\n.work_pub_file .pub-content .pub-list-wrap .clazz-even {\n  background-color: #FEFAF1;\n}\n.work_pub_file .pub-content .pub-list-wrap .pub-clazz-name-wrap {\n  height: 40px;\n  line-height: 40px;\n  margin-top: 20px;\n}\n.work_pub_file .pub-content .pub-list-wrap .clazz-name-wrap {\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  background-color: #aff1e1;\n}\n',""])},5642:function(e,n,t){"use strict";var i=t(5643),r=function(e){return e&&e.__esModule?e:{default:e}}(i);angular.module("t_work_publish3.directives",[]).directive("eqcFlyBox",["$timeout",r.default])},5643:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return{restrict:"E",template:"<div></div>",replace:!0,scope:{id:"=questionId",isFlyBox:"="},link:function(n,t,i){var r=$(".eqc_detail_file .eqc_detail_content #"+n.id);t.css({height:"24px",width:"24px",background:"#387ef5",position:"absolute",zIndex:100,borderRadius:"50%",top:r.offset().top+"px",left:"25px",display:"none"}),e(function(){t.css("display","block"),t.animate({top:t.position().top+window.screen.availHeight-r.offset().top-40+"px",left:$(".eqc_detail_file ion-footer-bar .eqc_detail_footer_btn .ion-android-folder").offset().left+"px"},600,void 0,function(){n.$apply(function(){n.isFlyBox=!1})})})}}}}});