webpackJsonp([34],{0:function(e,n,t){"use strict";t(4518),t(4519),t(4530)},171:function(e,n,t){"use strict";function i(e,n,t){_=e,n&&(k=n),t&&(C=t);var i=angular.element("body").injector(),r=i.get("$rootScope"),o=i.get("$ngRedux");k&&t?o?o.mergeReducer(k,C).then(function(){console.log(e.name+"-storeReady!!!!!!!!!!"),r.$$listeners[e.name+"-storeReady"]?r.$broadcast(e.name+"-storeReady"):r[e.name+"-storeReady"]=!0}):(console.error("$ngRedux not found!"),r[e.name+"-storeReady"]=!0):r[e.name+"-storeReady"]=!0}function r(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){function t(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return z(n,e,i),e.$inject=n,e.instance=new(Function.prototype.bind.apply(e,[null].concat(i))),e.instance}return t.prototype=e.prototype,t.$inject=n,t}}function o(e,n){return function(t){var i=function(e){return e.targetScope.ctrl},r=function(e,n){Object.keys(n).concat(Object.getOwnPropertyNames(n.__proto__)).forEach(function(t){if("constructor"!==t)if(e[t])if(angular.isFunction(e[t])&&angular.isFunction(n[t])){var i=e[t];e[t]=function(){var e=this,r=arguments;i.call(this,arguments).then(function(){n[t].call(e,r)})}}else e[t]=n[t];else e[t]=n[t]})};_.run(["$rootScope","$injector",function(o,a){o.$on("$ionicView.loaded",function(o,c){if(c.stateName===e){var l=i(o),s=new t;n.inject&&n.inject.length&&n.inject.forEach(function(e){s[e]=a.get(e)}),r(l,s)}})}])}}function a(e,n){return function(t){function i(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];n.inject&&n.inject.length&&z(n.inject,t,i);var o=new(Function.prototype.bind.apply(t,[null].concat(i)));o.selectorList=o.selectorList?o.selectorList:[];var a=function(){},c={initFlags:a,initData:a,mapStateToThis:a,mapActionToThis:a,componentWillReceiveProps:a,onBeforeEnterView:a,onAfterEnterView:a,onBeforeLeaveView:a,onLoadedView:a,onUpdate:a,configDataPipe:a,onReceiveProps:a},l={viewEntered:!1,hasPageRefreshManger:!1,dataPipe:new v.default},s=a,u=a;Object.keys(c).forEach(function(e){o[e]||(o[e]=c[e])}),Object.assign(o,l),o.configDataPipe(),o.mapStateObj={selectorList:o.selectorList,mapStateToThis:o.mapStateToThis};var p=o.getScope();if(!p)throw new Error('$scope must be injected with Decorator "@View"');var d=o.$ngRedux;if(!d)throw new Error('$ngRedux must be injected with Decorator "@View"');var f=o.pageRefreshManager;if(!o.getStateService)throw new Error("$state is required with pageRefreshManager");if(o.go=function(e,n,t){if(!o.getStateService||!o.getStateService())return console.error("$state service is not injected!");"string"!=typeof n&&(t=n,n="forward");var i=o.$injector.get("$ionicViewSwitcher");o.viewEntered=!1,"none"!=n?i.nextDirection(n):i.nextDirection("none"),o.getStateService().go(e,t)},f&&f.getListenerName&&(o.hasPageRefreshManger=!0,o.hasPageRefreshManger)){var g=o.getStateService();u=p.$on(f.getListenerName(g.current,g.params),function(e,n){f.shouldUpdate(g,n.url)&&o.onUpdate()})}var h=p.$on("$ionicView.beforeEnter",function(){if(o.onBeforeEnterView(),o.getRootScope&&o.back){o.getRootScope().viewGoBack=o.back.bind(o)}}),m=p.$on("$ionicView.beforeLeave",function(){s(),o.viewEntered=!1,o.onBeforeLeaveView()}),b=p.$on("$ionicView.loaded",function(){o.onLoadedView()}),w=p.$on("$ionicView.afterEnter",function(){p.$evalAsync(function(){o.viewEntered=!0,s=d.connect(o.mapStateObj,o.mapActionToThis(),o)(function(e,n){o.viewEntered&&(Object.assign(o,e,n),o.dataPipe.run(o),p.$evalAsync(function(){o.onReceiveProps(e,n)}))}),o.onAfterEnterView()})});return p.$on("$destroy",function(){s(),u(),w(),h(),m(),b()}),o}return i.prototype=t.prototype,i.$inject=t.$inject,n.inject&&n.inject.length&&(i.$inject=n.inject),i.$inject.push("$injector"),_.config(["$stateProvider",function(t){if(n.views){var r=Object.keys(n.views)[0],o=n.views[r];o.controller=i,o.controllerAs=o.controllerAs||"ctrl"}else n.controller=i,n.controllerAs=n.controllerAs||"ctrl";t.state(e,n)}]),i}}function c(e){return function(n){if(!e.selector)throw new Error("selector must be provided!");e.controller=n,e.controllerAs||(e.controllerAs="ctrl"),_.directive(e.selector,function(){return e})}}function l(e){return function(n){n.controller=n,_.component(e.selector,e)}}function s(e){return function(n,t,i){if(i.writable=!0,n.selectorList||(n.selectorList=[]),e)if("string"==typeof e)n.selectorList.push({type:y,key:t,selector:e});else if(e instanceof Array)n.selectorList.push({type:w,key:t,selector:e});else{if(!(e instanceof Function))throw new Error("unknown selector type!");n.selectorList.push({type:x,key:t,selector:e})}else n.selectorList.push({type:b,key:t})}}function u(e,n,t){var i=t.value,r=void 0;return t.value=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];var a=e.$ngRedux;if(!a)throw new Error("$ngRedux is required by decorator @actionCreator");var c=(0,m.bindActionCreators)(i.bind(e.constructor.instance),a.dispatch);return r=c.apply(e,t)},t}function p(e,n){return function(t){_.constant(e,n)}}function d(e,n){return function(t){n&&n.inject&&n.inject.length&&(t.$inject=n.inject),_.service(e,t)}}function f(e,n,t){var i=t.value;return t.value=function(){var e=this;return new Promise(function(n){i.call(e,n)})},t}Object.defineProperty(n,"__esModule",{value:!0}),n.registerModule=i,n.Inject=r,n.ViewDecorator=o,n.View=a,n.Directive=c,n.Component=l,n.select=s,n.actionCreator=u,n.Constant=p,n.Service=d,n.PromiseFn=f;var g=t(172),h=t(174),v=function(e){return e&&e.__esModule?e:{default:e}}(h),m=t(176),b="EMPTY_SELECTOR_TYPE",w="PATH_SELECTOR_TYPE",x="FUNCTION_SELECTOR_TYPE",y="STR_SELECTOR_TYPE",_=g.ngDecModule,k=void 0,C=void 0,z=function(e,n,t){e.forEach(function(e,i){"$scope"==e?n.prototype.getScope=function(){return t[i]}:"$rootScope"==e?n.prototype.getRootScope=function(){return t[i]}:"$state"==e?n.prototype.getStateService=function(){return t[i]}:"$ngRedux"==e?(n.prototype.getState=function(){return t[i].getState()},n.prototype[e]=t[i]):n.prototype[e]=t[i]})}},172:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ngDecModule=void 0,t(173);var i=angular.module("ngDecModule",[]);n.ngDecModule=i},174:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=t(175),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c=function(){function e(n,t,r){i(this,e),this.id=(0,a.default)(),this.criteriaList=n||[],this.invokeList=t||[],this.sequence=r||0}return r(e,[{key:"pushCriteria",value:function(e){this.criteriaList.push(e)}},{key:"pushInvoke",value:function(e){this.invokeList.push(e)}}]),e}(),l=function(){function e(){i(this,e),this.configList=[],this.lastConfigId=null,this.lastActionType=u.PUSH_CRITERIA}return r(e,[{key:"getLastConfig",value:function(){var e=this,n=null,t=void 0;switch(this.lastActionType){case u.PUSH_CRITERIA:return this.lastConfigId?this.configList.forEach(function(t){t.id==e.lastConfigId&&(n=t)}):(n=new c,n.sequence=1,this.configList.push(n),this.lastConfigId=n.id),n;case u.PUSH_INVOKE:case u.NEXT:return this.configList.forEach(function(t){t.id==e.lastConfigId&&(n=t)}),t=new c,t.sequence=n.sequence++,this.configList.push(t),this.lastConfigId=t.id,t}}},{key:"when",value:function(e){return"function"!=typeof e?console.error(s.CRITERIA_ERROR):(this.getLastConfig().pushCriteria(e),this.lastActionType=u.PUSH_CRITERIA,this)}},{key:"then",value:function(e){return"function"!=typeof e?console.error(s.INVOKE_ERROR):(this.getLastConfig().pushInvoke(e),this.lastActionType=u.PUSH_INVOKE,this)}},{key:"next",value:function(){return this.lastActionType=u.NEXT,this}},{key:"run",value:function(e){for(var n=!0,t=this.configList.slice(0,this.configList.length);n&&t.length;){for(var i=[t.shift()];t[0]&&i[0].sequence==t[0].sequence;)i.push(t.shift());for(var r=0;r<i.length;r++)!function(t){var r=i[t],o=!0;r.criteriaList.forEach(function(n){o=o&&n.call(e)}),o?r.invokeList.forEach(function(n){n.call(e)}):n=!1}(r)}}}]),e}(),s={CRITERIA_ERROR:"criteria should be function!",INVOKE_ERROR:"invoke should be function"},u={PUSH_CRITERIA:"PUSH_CRITERIA",PUSH_INVOKE:"PUSH_INVOKE",NEXT:"NEXT"};window.dataPipe=new l,n.default=l},175:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(e){return Math.pow(2,e)},i=(t(4),t(6)),r=t(8),o=t(12),a=(t(14),t(16)),c=t(32),l=(t(40),t(48),function(e,n){return Math.floor(Math.random()*(n-e+1))+e}),s=function(){return l(0,i-1)},u=function(){return l(0,r-1)},p=function(){return l(0,o-1)},d=function(){return l(0,a-1)},f=function(){return l(0,c-1)},g=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},h=function(e,n,t){e=String(e),t=t||"0";for(var i=n-e.length;i>0;i>>>=1,t+=t)1&i&&(e=t+e);return e},v=function(e,n,t,i,r,o){return h(e.toString(16),8)+"-"+h(n.toString(16),4)+"-"+h(t.toString(16),4)+"-"+h(i.toString(16),2)+h(r.toString(16),2)+"-"+h(o.toString(16),12)},m=function(){return v(f(),d(),16384|p(),128|s(),u(),g())};n.default=m},4518:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.t_compute=void 0;var i=t(171);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})});var r=angular.module("t_compute",[]);(0,i.registerModule)(r),n.t_compute=r},4519:function(e,n,t){"use strict";t(4520),t(4528)},4520:function(e,n,t){"use strict";function i(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}Object.defineProperty(n,"__esModule",{value:!0});var a,c,l,s,u,p,d,f,g,h,v,m,b,w=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),x=t(4518),y={RC_CHANGE_CLAZZ:"RC_CHANGE_CLAZZ",CLEAR_RC_LIST:"CLEAR_RC_LIST"},_=(a=(0,x.View)("home.compute",{url:"/compute",styles:t(4521),views:{compute:{template:t(4527)}},inject:["$scope","$rootScope","$state","$timeout","$ionicPopup","$ngRedux","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicScrollDelegate","$log","commonService","rapidCalcCountService","pageRefreshManager"]}),c=(0,x.select)(function(e){return e.clazz_list}),l=(0,x.select)(function(e,n){return e.rc_selected_clazz}),s=(0,x.select)(function(e,n){return 0===e.rapid_calc_list.length?e.rapid_calc_list:(n.grade>6&&(n.grade=5),e.rapid_calc_list[n.grade].sort(function(e,n){return n.passLevel-e.passLevel}))}),u=(0,x.select)(function(e){return e.fetch_fighter_rank_data_processing}),p=(0,x.select)(function(e){return e.profile_user_auth.user.manager}),a((f=function(){function e(){r(this,e),i(this,"clazzList",g,this),i(this,"selectedClazz",h,this),i(this,"countList",v,this),i(this,"isFighterLoading",m,this),i(this,"isAdmin",b,this),this.girlIcon=this.getRootScope().loadImg("other/girl.png"),this.boyIcon=this.getRootScope().loadImg("other/boy.png"),this.initCount=0,this.screenWidth=window.innerWidth,this.retFlag=!1,this.initSeletedClazz(),this.grade=this.$ngRedux.getState().rc_selected_clazz.grade-1}return w(e,[{key:"showLeftMenu",value:function(e){this.$ionicSideMenuDelegate.toggleLeft()}},{key:"getRapidCalcCount",value:function(){var e=this;if(0!==this.$ngRedux.getState().clazz_list.length&&0!=this.$ngRedux.getState().rc_selected_clazz.id)return this.rapidCalcCountService.getRapidCalcCount().then(function(){e.retFlag=!0})}},{key:"initSeletedClazz",value:function(){var e=this.$ngRedux.getState();0!==e.clazz_list.length&&(0!==e.rc_selected_clazz.id&&e.clazz_list.find(function(n){return n.id===e.rc_selected_clazz.id})||this.$ngRedux.dispatch({type:y.RC_CHANGE_CLAZZ,id:e.clazz_list[0].id,name:e.clazz_list[0].name,grade:e.clazz_list[0].grade,bookType:e.clazz_list[0].teachingMaterial}))}},{key:"changeClazz",value:function(e){this.$ngRedux.dispatch({type:y.RC_CHANGE_CLAZZ,name:e.name,id:e.id,grade:e.grade,bookType:e.teachingMaterial}),this.$ngRedux.dispatch({type:y.CLEAR_RC_LIST}),this.grade=this.$ngRedux.getState().rc_selected_clazz.grade-1,this.grade>=6&&(this.grade=5),this.retFlag=!1,this.getRapidCalcCount(!1),this.$ionicSideMenuDelegate.toggleLeft(),this.$ionicScrollDelegate.$getByHandle("mainScroll").scrollTop(!1)}},{key:"onUpdate",value:function(){this.getRapidCalcCount(),this.initCount++}},{key:"onReceiveProps",value:function(){0===this.initCount&&(this.getRapidCalcCount(),this.initCount++)}},{key:"pullRefresh",value:function(){var e=this;this.getRapidCalcCount().then(function(){e.getScope().$broadcast("scroll.refreshComplete")})}},{key:"tryPlayGame",value:function(){var e=this;if(0===this.selectedClazz.id)return void this.commonService.showAlert("提示",'<p style="text-align: center;margin-bottom: 0 !important;">未创建班级不能试玩</p>');var n=this.$ngRedux.getState(),t=n.profile_user_auth.user;this.commonService.showConfirm("温馨提示",'<p style="text-align: center">确定进入速算游戏？</p>').then(function(n){if(n){var i=e.commonService.rapidCalcAppendShardingId(e.selectedClazz.id),r={userId:t.userId,jsessionid:i,loginName:t.loginName,theme:t.gender,gender:t.gender,classId:e.selectedClazz.id,name:t.name,grade:+e.grade+1};if(e.commonService.setLocalStorage("switchTo",r),e.commonService.setLocalStorage("dirLocal",90),e.commonService.setLocalStorage("IS_COME_FROM_GAME","home.compute"),navigator.userAgent.match(/iPad|iPhone/i)){var o=e.commonService.getLocalStorage("assetPath");o&&(window.location.href=o.url+"index.html")}else navigator.userAgent.match(/WINDOWS|MAC/i)?window.location.href="../../win/index.html?dir=90":window.location.href="file:///android_asset/www/index.html"}})}},{key:"calcPassLevelPercent",value:function(e,n){if(0==n)return"0%";var t=e/n*100;return 0===t?"0%":100===t?"100%":t.toFixed(1)+"%"}},{key:"mback",value:function(){0===this.grade?this.grade=5:this.grade>0&&this.grade<6&&(this.grade=this.grade-1),this.changeGrade(),console.log("this.grade: ",this.grade)}},{key:"back",value:function(){return"exit"}},{key:"changeGrade",value:function(){this.$ngRedux.dispatch({type:"CHANGE_RC_GRADE"})}},{key:"mforward",value:function(){5===this.grade?this.grade=0:this.grade>=0&&this.grade<5&&(this.grade=this.grade+1),this.changeGrade(),console.log("this.grade： ",this.grade)}},{key:"showGrade",value:function(){switch(this.grade){case 0:return"一年级速算";case 1:return"二年级速算";case 2:return"三年级速算";case 3:return"四年级速算";case 4:return"五年级速算";case 5:return"六年级速算"}}},{key:"onAfterEnterView",value:function(){this.getRootScope().showTopTaskFlag=!0}},{key:"onBeforeLeaveView",value:function(){this.getRootScope().showTopTaskFlag=!1}},{key:"onBeforeEnterView",value:function(){var e=this;this.initSeletedClazz();var n=this.$ngRedux.getState();0!==n.clazz_list.length&&n.clazz_list.find(function(t){if(t.id===n.rc_selected_clazz.id)return e.$ngRedux.dispatch({type:y.RC_CHANGE_CLAZZ,id:t.id,name:t.name,grade:t.grade,bookType:t.teachingMaterial}),!0})}},{key:"showComputeFighterRank",value:function(){this.getComputeFighterData(),this.getRootScope().isShowComputeFighterRank=!0}},{key:"getComputeFighterData",value:function(){this.selectedClazz&&this.selectedClazz.id&&(this.isFighterLoading||(this.rapidCalcCountService.fetchFighterRankData({classId:this.selectedClazz.id}),this.$ionicScrollDelegate.scrollTop(!0)))}}]),e}(),g=o(f.prototype,"clazzList",[c],{enumerable:!0,initializer:null}),h=o(f.prototype,"selectedClazz",[l],{enumerable:!0,initializer:null}),v=o(f.prototype,"countList",[s],{enumerable:!0,initializer:null}),m=o(f.prototype,"isFighterLoading",[u],{enumerable:!0,initializer:null}),b=o(f.prototype,"isAdmin",[p],{enumerable:!0,initializer:null}),d=f))||d);n.default=_},4521:function(e,n,t){var i=t(4522);"string"==typeof i&&(i=[[e.id,i,""]]);t(147)(i,{});i.locals&&(e.exports=i.locals)},4522:function(e,n,t){n=e.exports=t(146)(),n.push([e.id,'@charset "UTF-8";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: \'microsoft yahei\';\n}\nbody {\n  line-height: 1.42857143;\n}\n.bar-better {\n  background: #bcfcf8!important;\n  height: 100px;\n}\n.rapid-calc-count {\n  /*reset ion-header-bar style*/\n}\n.rapid-calc-count a {\n  color: inherit;\n  text-decoration: none;\n}\n.rapid-calc-count .bar-header {\n  background-color: #fff !important;\n  margin-top: 0 !important;\n}\n.rapid-calc-count .bar {\n  position: absolute !important;\n  top: 105px !important;\n  left: auto !important;\n  bottom: auto !important;\n  right: auto !important;\n  display: block !important;\n  width: 100% !important;\n  height: auto !important;\n  padding: 0 !important;\n  margin-top: 0 !important;\n}\n.rapid-calc-count .scroll-content {\n  top: 195px!important;\n}\n.rapid-calc-count .spinner {\n  stroke: #3F638E !important;\n}\n.rapid-calc-count .bar-better {\n  background: #bcfcf8 !important;\n  height: 100px;\n}\n.rapid-calc-count .clazz-title {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: inline-block;\n  color: white;\n}\n.rapid-calc-count .select-clazz-bar {\n  background: whitesmoke;\n  border-radius: 7px;\n  height: 36px;\n  line-height: 36px;\n  color: #ec674a;\n  position: relative;\n  border: 1px solid #ddd;\n  box-shadow: 3px 2px 5px #ddd;\n  margin-bottom: 10px;\n}\n.rapid-calc-count .clazz-item {\n  background: white;\n  border-radius: 7px;\n  width: 99%;\n  padding: 15px 0;\n  min-height: 158px;\n  text-align: center;\n}\n.rapid-calc-count .clazz-name {\n  font-size: 17px;\n  margin-top: 10px;\n}\n.rapid-calc-count .position-right {\n  position: absolute;\n  top: 0;\n  right: 14px;\n  font-size: 20px;\n}\n.rapid-calc-count .clazz-overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.rapid-calc-count .game_clazz_select {\n  top: 40px;\n  border-left-width: 6px;\n  background: #6997eb;\n}\n.rapid-calc-count .game_clazz_select_img {\n  margin-top: 14px;\n  width: 105px;\n  min-height: 56px;\n}\n.rapid-calc-count .game_clazz_select_block {\n  padding: 6px 14px;\n}\n.rapid-calc-count .bar-subheader {\n  height: 36px;\n  padding: 0;\n}\n.rapid-calc-count .item-divider {\n  border: none;\n  background: #E4726C;\n  padding: 5px 10px;\n  height: 38px;\n  line-height: 26px;\n}\n.rapid-calc-count .item-divider .button-clear {\n  max-width: 200px;\n  line-height: 30px;\n  height: 30px;\n}\n.rapid-calc-count .spinner {\n  stroke: white;\n}\n.rapid-calc-count .spinner-text {\n  color: white;\n  display: inline-block;\n  vertical-align: top;\n  margin-top: 5px;\n  font-size: 15px;\n}\n.rapid-calc-count .offline-alert-container {\n  width: 98%;\n  background: #83e7ff;\n  border-radius: 2px;\n  text-align: center;\n  color: #ff4f4c;\n  margin: 5px auto 5px auto;\n  font-size: 16px;\n  padding: 3px;\n}\n.rapid-calc-count .clazz-icon:before {\n  font-size: 23px !important;\n  line-height: 28px !important;\n  padding-right: 0 !important;\n  color: white;\n}\n.rapid-calc-count .btn-wrap {\n  display: flex;\n  /* NEW, Spec - Opera 12.1, Firefox 20+ */\n  display: -webkit-flex;\n  /* NEW - Chrome */\n  -webkit-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n  justify-content: center;\n  -webkit-justify-content: center;\n  padding: 5px;\n  height: 50px;\n  background-color: #fff;\n  margin-top: 0 !important;\n  /*hack ionic-ios*/\n  font-size: 15px;\n}\n.rapid-calc-count .btn-wrap .select-clazz {\n  flex-grow: 1;\n  -webkit-flex-grow: 1;\n  width: 49%;\n  position: relative;\n  display: inline-flex;\n  display: -webkit-inline-flex;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  height: 100%;\n  background-color: #f9e18e;\n  color: #3F4367;\n  border-radius: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.rapid-calc-count .btn-wrap .select-clazz span:first-child {\n  flex: 1;\n  -webkit-flex: 1;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.rapid-calc-count .btn-wrap .select-clazz span:last-child {\n  padding: 0 6px;\n}\n.rapid-calc-count .btn-wrap .try-play {\n  flex-grow: 1;\n  -webkit-flex-grow: 1;\n  background-color: #91f086;\n  color: #2d4030;\n  width: 49%;\n  height: 100%;\n  margin-left: 5px;\n  display: inline-flex;\n  display: -webkit-inline-flex;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  border-radius: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.rapid-calc-count .btn-wrap .try-play span:first-child {\n  flex: 1;\n  -webkit-flex: 1;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.rapid-calc-count .btn-wrap .try-play span:last-child {\n  padding: 0 6px;\n}\n.rapid-calc-count .select-grade {\n  height: 40px;\n  width: 100%;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  margin-top: 0 !important;\n}\n.rapid-calc-count .select-grade .mbtn {\n  width: 190px;\n  line-height: 40px;\n  height: 100%;\n  text-align: center;\n  margin: 0 auto;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  font-size: 16px;\n}\n.rapid-calc-count .select-grade .mback {\n  width: 40px;\n  cursor: pointer;\n  background: url('+t(4523)+") no-repeat;\n  background-size: 70% 70%;\n  background-position: center;\n}\n.rapid-calc-count .select-grade .mforward {\n  width: 40px;\n  cursor: pointer;\n  background: url("+t(4523)+") no-repeat;\n  background-size: 70% 70%;\n  background-position: center;\n  -webkit-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.rapid-calc-count .compute-fighter-rank-wrap {\n  height: 50px;\n  background: #8671d9 url("+t(4524)+") center center no-repeat;\n}\n.rapid-calc-count .compute-fighter-rank-wrap .compute-fighter-rank {\n  width: 100%;\n  height: 100%;\n  background: url("+t(4525)+") 6% 50% no-repeat;\n  background-size: 66px;\n}\n.rapid-calc-count .compute-fighter-rank-wrap .compute-fighter-rank .compute-fighter-rank-text {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n  height: 100%;\n  font-size: 17px;\n  color: #fff;\n}\n.long-text-hidden {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.shadow {\n  box-shadow: 3px 2px 5px #ddd;\n}\n.list-content {\n  color: #3f4367;\n  font-size: 14px;\n  background-color: #fff;\n  overflow: hidden;\n}\n.list-content .r-item:first-child {\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n.list-content .r-item {\n  height: 80px;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n  padding: 7px 5.33333333% 0 5.33333333%;\n  width: 100%;\n}\n.list-content .r-item .status-wrap {\n  width: 50%;\n  text-align: center;\n}\n.list-content .r-item .status-wrap .status-outer-bar {\n  width: 100%;\n  background-color: #7e829a;\n  height: 15px;\n  border-radius: 25px;\n  position: relative;\n}\n.list-content .r-item .status-wrap .status-outer-bar .status-inner-bar {\n  position: absolute;\n  left: 0;\n  right: 0;\n  width: 100%;\n  background-color: #54eff8;\n  height: 15px;\n  border-radius: 25px;\n}\n.list-content .r-item .people-wrap {\n  height: 100%;\n  text-align: center;\n  font-size: 0.75rem;\n  width: 60px;\n}\n.list-content .r-item .people-wrap img {\n  height: 45px;\n  width: 48px;\n}\n.list-content .r-item .people-wrap span {\n  white-space: nowrap;\n  font-size: 14px;\n  display: inline-block;\n  min-width: 40px;\n}\n.list-content .r-item .right-info {\n  height: 100%;\n  display: inline-flex;\n  display: -webkit-inline-flex;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  font-size: 0.75rem;\n}\n.list-content .r-item .right-info > i:last-child {\n  position: relative;\n  font-size: 20px;\n  top: 2px;\n  right: -5px;\n}\n.list-content .r-item .right-info em {\n  color: #DD2222;\n  font-weight: bold;\n  font-size: 1.2rem;\n}\n.list-content .r-item.odd {\n  background-color: #F3F3F3;\n}\n.stu-pass-levels .mhelp {\n  background-color: transparent;\n}\n.stu-pass-levels .back-icon {\n  color: #4a6b9d;\n  font-size: 32px;\n  display: inline-block;\n  width: 35px;\n  height: 35px;\n  text-align: center;\n  line-height: 35px;\n}\n.stu-pass-levels li {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: center;\n  height: 35px;\n  line-height: 35px;\n  margin-bottom: 8px;\n}\n.stu-pass-levels li.pass {\n  background: url("+t(4526)+") no-repeat;\n  background-size: 100% 100%;\n  background-position: center;\n  color: #2f463e;\n}\n.stu-pass-levels li.notPass {\n  background-color: #ced9e1;\n  background-size: 100% 100%;\n  background-position: center;\n  color: #798995;\n}\n",""])},4523:function(e,n,t){e.exports=t.p+"images/arrow.png"},4524:function(e,n,t){e.exports=t.p+"images/msg_game_star_bg_2.png"},4525:function(e,n,t){e.exports=t.p+"images/msg_fighter_bar_bg_2.png"},4526:function(e,n,t){e.exports=t.p+"images/passLevelBg.png"},4527:function(e,n){
e.exports='<ion-view>\r\n    <ion-header-bar align-title="center" class="bar-better">\r\n        \x3c!--<task-top-bar ng-if="!ctrl.isAdmin"></task-top-bar>--\x3e\r\n    </ion-header-bar>\r\n    <ion-side-menus class="rapid-calc-count">\r\n        <ion-side-menu side="left" width="{{ctrl.screenWidth<400?180:275}}" style="margin: 0">\r\n            <ion-content class="has-header game_clazz_select" padding="true" style="top:105px!important;">\r\n                <div class="game_clazz_select_block"\r\n                     ng-repeat="clazz in ctrl.clazzList"\r\n                     ng-style="{\'margin-bottom\':$last?\'60px\':\'0px\'}">\r\n                    <div class="clazz-item" ng-click="ctrl.changeClazz(clazz)">\r\n                        <img class="game_clazz_select_img" ng-src="{{$root.loadImg(\'other/class.png\')}}">\r\n                        <div class="clazz-name">{{clazz.name}}</div>\r\n                    </div>\r\n                </div>\r\n            </ion-content>\r\n        </ion-side-menu>\r\n\r\n        <ion-side-menu-content>\r\n            <ion-header-bar>\r\n                <div class="btn-wrap">\r\n                    <div class="select-clazz" ng-click="ctrl.showLeftMenu()">\r\n                        <span ng-bind="ctrl.selectedClazz.name || \'没有班级\'"></span>\r\n                        <span class="icon ion-ios-arrow-right"></span>\r\n\r\n                    </div>\r\n                    <div class="try-play" ng-click="ctrl.tryPlayGame()">\r\n                        <span>试玩</span>\r\n                        <span class="icon ion-ios-arrow-right"></span>\r\n                    </div>\r\n                </div>\r\n                <div class="select-grade" ng-show="ctrl.countList.length > 0">\r\n                    <div class="mbtn">\r\n                        <div class="mback" ng-click="ctrl.mback()"></div>\r\n                        <div>{{ctrl.showGrade()}}</div>\r\n                        <div class="mforward" ng-click="ctrl.mforward()"></div>\r\n                    </div>\r\n                </div>\r\n                <div style="border: none;"\r\n                     class="item item-input block-input item-input—height"\r\n                     ng-if="ctrl.countList.length === 0 && ctrl.selectedClazz.id !== 0 && ctrl.retFlag">\r\n                    <input type="text"\r\n                           value="本班暂无速算统计数据"\r\n                           readonly="readonly"\r\n                    />\r\n                </div>\r\n                <div style="padding: 10px 0px 0px 10px;" ng-if="ctrl.selectedClazz.id === 0">\r\n                    您还没有创建班级，请点击下方的“班级”，然后再点击“+”创建班级。\r\n\r\n                </div>\r\n            </ion-header-bar>\r\n            <ion-content overflow-scroll="false" delegate-handle="mainScroll">\r\n                \x3c!--排行榜--\x3e\r\n                \x3c!--<div class="compute-fighter-rank-wrap" ng-click="ctrl.showComputeFighterRank()">--\x3e\r\n                    \x3c!--<div class="compute-fighter-rank">--\x3e\r\n                        \x3c!--<div class="compute-fighter-rank-text">--\x3e\r\n                            \x3c!--<span style="line-height: 22px">速算斗士榜</span>--\x3e\r\n                            \x3c!--<i style="margin-left: 16px;font-size: 16px;" class="icon ion-ios-arrow-right"></i>--\x3e\r\n                        \x3c!--</div>--\x3e\r\n                    \x3c!--</div>--\x3e\r\n                \x3c!--</div>--\x3e\r\n\r\n                \x3c!--下拉刷新--\x3e\r\n                <ion-refresher pulling-text="下拉刷新..." on-refresh="ctrl.pullRefresh()" spinner="ios"\r\n                               ng-if="ctrl.selectedClazz.id !== 0"></ion-refresher>\r\n                <div class="list-content" style="padding-bottom: 49px;">\r\n                    <a class="r-item" ng-repeat="item in ctrl.countList track by $index" ng-class-odd="\'odd\'"\r\n                       ui-sref="stuPassLevels({grade: ctrl.grade,stuName: item.name, classId: ctrl.selectedClazz.id ,passLevels: item.passLevel})">\r\n                        <div class="people-wrap">\r\n                            <img ng-src="{{item.gender == 1 ? ctrl.boyIcon : ctrl.girlIcon}}"/>\r\n                            <span ng-bind="item.name"></span>\r\n                        </div>\r\n                        <div class="status-wrap">\r\n                            <div style="font-size: 16px;">\r\n                                {{ctrl.calcPassLevelPercent(item.passLevel, item.totalLevel)}}\r\n                            </div>\r\n                            <div class="status-outer-bar">\r\n                                <div class="status-inner-bar"\r\n                                     ng-style="{\'width\': (item.passLevel)/(item.totalLevel)*100 + \'%\'}"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="right-info">\r\n                            <span><em ng-bind="item.passLevel"></em>/{{item.totalLevel}} 关</span>\r\n                            <i class="icon ion-chevron-right"></i>\r\n                        </div>\r\n                    </a>\r\n                </div>\r\n            </ion-content>\r\n        </ion-side-menu-content>\r\n    </ion-side-menus>\r\n\r\n</ion-view>'},4528:function(e,n,t){"use strict";function i(e,n,t,i){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o,a,c,l,s,u=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),p=t(4518),d=(o=(0,p.View)("stuPassLevels",{url:"/stuPassLevels?grade&classId&passLevels&stuName",cache:!1,template:t(4529),styles:t(4521),inject:["$scope","$rootScope","$state","$timeout","$ionicPopup","$ngRedux","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicScrollDelegate","$log","commonService","rapidCalcCountService"]}),a=(0,p.select)(function(){}),o((l=function(){function e(){var n=this;r(this,e),i(this,"noob",s,this),this.initData(),this.rapidCalcCountService.getRcLevelsName(this.grade,this.classId).then(function(e){e&&(n.levelsName=e)})}return u(e,[{key:"initData",value:function(){var e=this.getStateService().params;this.grade=Number(e.grade)+1,this.classId=e.classId,this.passLevels=Number(e.passLevels),this.stuName=e.stuName,this.levelsName=[]}},{key:"back",value:function(){this.go("home.compute")}},{key:"help",value:function(){this.$ionicPopup.alert({title:"信息提示",template:"<p>绿色背景为学生速算已通过的关卡，紫色背景为未通过的关卡</p>",okText:"确定"})}}]),e}(),s=function(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}(l.prototype,"noob",[a],{enumerable:!0,initializer:null}),c=l))||c);n.default=d},4529:function(e,n){e.exports='<ion-view hide-nav-bar="true" class="stu-pass-levels">\r\n    <ion-header-bar align-title="center" class="">\r\n        <i class="icon ion-ios-arrow-back back-icon" ng-click="ctrl.back()"> </i>\r\n        <h1 class="title" ng-bind="ctrl.stuName"></h1>\r\n        \x3c!--<div class="buttons">\r\n            <button class="button button-clear" ng-click="ctrl.help()" style="position: absolute;right: -3px;">\r\n                <img ng-src="{{$root.loadImg(\'common/help_icon.png\')}}" alt=""  class="common-help"/>\r\n            </button>\r\n        </div>--\x3e\r\n\r\n    </ion-header-bar>\r\n    <ion-content padding="true" class="has-header" overflow-scroll="true">\r\n        \x3c!--ng-class="$index+1 <= ctrl.passLevels ? \'pass\' : \'notPass\'"--\x3e\r\n       <ul style="margin-top: -5px;">\r\n           <li ng-if="ctrl.passLevels >= 1" style="color: #2f463e;height: 30px;margin-bottom: 0;font-size:18px;">已通关知识点：</li>\r\n           <li ng-repeat="level in ctrl.levelsName.slice(0, ctrl.passLevels)" class="pass">\r\n               <span ng-bind="level.num + \'.\' + level.knowledgePoint"></span>\r\n           </li>\r\n           <li ng-if="ctrl.passLevels < ctrl.levelsName.length" style="color: #798995;height: 30px;margin-bottom: 0;font-size:18px;">未通关知识点：</li>\r\n           <li ng-repeat="level in ctrl.levelsName.slice(ctrl.passLevels)" class="notPass">\r\n               <span ng-bind="level.num + \'.\' + level.knowledgePoint"></span>\r\n           </li>\r\n       </ul>\r\n    </ion-content>\r\n</ion-view>'},4530:function(e,n,t){"use strict";t(4531)},4531:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n,t,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}Object.defineProperty(n,"__esModule",{value:!0});var o,a,c,l,s=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),u=t(4518),p=t(4532),d=(o=(0,u.Service)("rapidCalcCountService"),a=(0,u.Inject)("$q","serverInterface","commonService","$ngRedux"),o(c=a((l=function(){function e(){i(this,e),this.gamePattern=1}return s(e,[{key:"getRapidCalcCount",value:function(){var e=this;return function(n,t){n({type:p.RAPID_CALC_COUNT_REQUEST});var i={classId:t().rc_selected_clazz.id,userId:t().profile_user_auth.user.userId,gamePattern:e.gamePattern};return e.commonService.commonPost(e.serverInterface.GET_RAPID_CALC_COUNT,i).then(function(e){if(200===e.code&&e.results){var t=[[],[],[],[],[],[]];e.results.forEach(function(e){for(var n=0;n<6;n++)t[n].push({name:e.name,gender:e.gender,grade:e.passLevelInfoList[n].grade,passLevel:e.passLevelInfoList[n].passLevel,totalLevel:e.passLevelInfoList[n].totalLevel})}),n({type:p.RAPID_CALC_COUNT_SUCCESS,studentPassInfo:t})}else n({type:p.RAPID_CALC_COUNT_FAILURE})})}}},{key:"getRcLevelsName",value:function(e,n){var t=this;return this.commonService.commonPost(this.serverInterface.GET_RC_LEVELS_NAME,{grade:e,classId:n}).then(function(e){return 200===e.code&&e.result&&e.result.length>0?e.result:(t.commonService.alertDialog("服务器错误"),!1)})}},{key:"fetchFighterRankData",value:function(e){var n=this;return function(t,i){t({type:p.FIGHTER_RANK.FETCH_FIGHTER_RANK_DATA_START}),n.commonService.commonPost(n.serverInterface.GET_FIGHTER_RANK,e,!0).requestPromise.then(function(n){if(200==n.code)return void t({type:p.FIGHTER_RANK.FETCH_FIGHTER_RANK_DATA_SUCCESS,payload:{clazzId:e.classId,data:n.result}});t({type:p.FIGHTER_RANK.FETCH_FIGHTER_RANK_DATA_FAIL})},function(){t({type:p.FIGHTER_RANK.FETCH_FIGHTER_RANK_DATA_FAIL})})}}}]),e}(),r(l.prototype,"getRapidCalcCount",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"getRapidCalcCount"),l.prototype),r(l.prototype,"fetchFighterRankData",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"fetchFighterRankData"),l.prototype),c=l))||c)||c);n.default=d},4532:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.RAPID_CALC_COUNT_REQUEST="RAPID_CALC_COUNT_REQUEST",n.RAPID_CALC_COUNT_SUCCESS="RAPID_CALC_COUNT_SUCCESS",n.RAPID_CALC_COUNT_FAILURE="RAPID_CALC_COUNT_FAILURE",n.RC_CHANGE_CLAZZ="RC_CHANGE_CLAZZ",n.CLEAR_RC_LIST="CLEAR_RC_LIST",n.FIGHTER_RANK={FETCH_FIGHTER_RANK_DATA_START:"fetch_fighter_rank_data_start",FETCH_FIGHTER_RANK_DATA_SUCCESS:"fetch_fighter_rank_data_success",FETCH_FIGHTER_RANK_DATA_FAIL:"fetch_fighter_rank_data_fail"}}});