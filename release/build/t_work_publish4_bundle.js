webpackJsonp([49],{0:function(e,t,n){"use strict";n(5644),n(5650),n(5663),n(5665)},171:function(e,t,n){"use strict";function r(e,t,n){x=e,t&&(k=t),n&&(S=n);var r=angular.element("body").injector(),i=r.get("$rootScope"),o=r.get("$ngRedux");k&&n?o?o.mergeReducer(k,S).then(function(){console.log(e.name+"-storeReady!!!!!!!!!!"),i.$$listeners[e.name+"-storeReady"]?i.$broadcast(e.name+"-storeReady"):i[e.name+"-storeReady"]=!0}):(console.error("$ngRedux not found!"),i[e.name+"-storeReady"]=!0):i[e.name+"-storeReady"]=!0}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){function n(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return P(t,e,r),e.$inject=t,e.instance=new(Function.prototype.bind.apply(e,[null].concat(r))),e.instance}return n.prototype=e.prototype,n.$inject=t,n}}function o(e,t){return function(n){var r=function(e){return e.targetScope.ctrl},i=function(e,t){Object.keys(t).concat(Object.getOwnPropertyNames(t.__proto__)).forEach(function(n){if("constructor"!==n)if(e[n])if(angular.isFunction(e[n])&&angular.isFunction(t[n])){var r=e[n];e[n]=function(){var e=this,i=arguments;r.call(this,arguments).then(function(){t[n].call(e,i)})}}else e[n]=t[n];else e[n]=t[n]})};x.run(["$rootScope","$injector",function(o,a){o.$on("$ionicView.loaded",function(o,l){if(l.stateName===e){var c=r(o),s=new n;t.inject&&t.inject.length&&t.inject.forEach(function(e){s[e]=a.get(e)}),i(c,s)}})}])}}function a(e,t){return function(n){function r(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];t.inject&&t.inject.length&&P(t.inject,n,r);var o=new(Function.prototype.bind.apply(n,[null].concat(r)));o.selectorList=o.selectorList?o.selectorList:[];var a=function(){},l={initFlags:a,initData:a,mapStateToThis:a,mapActionToThis:a,componentWillReceiveProps:a,onBeforeEnterView:a,onAfterEnterView:a,onBeforeLeaveView:a,onLoadedView:a,onUpdate:a,configDataPipe:a,onReceiveProps:a},c={viewEntered:!1,hasPageRefreshManger:!1,dataPipe:new g.default},s=a,u=a;Object.keys(l).forEach(function(e){o[e]||(o[e]=l[e])}),Object.assign(o,c),o.configDataPipe(),o.mapStateObj={selectorList:o.selectorList,mapStateToThis:o.mapStateToThis};var p=o.getScope();if(!p)throw new Error('$scope must be injected with Decorator "@View"');var f=o.$ngRedux;if(!f)throw new Error('$ngRedux must be injected with Decorator "@View"');var d=o.pageRefreshManager;if(!o.getStateService)throw new Error("$state is required with pageRefreshManager");if(o.go=function(e,t,n){if(!o.getStateService||!o.getStateService())return console.error("$state service is not injected!");"string"!=typeof t&&(n=t,t="forward");var r=o.$injector.get("$ionicViewSwitcher");o.viewEntered=!1,"none"!=t?r.nextDirection(t):r.nextDirection("none"),o.getStateService().go(e,n)},d&&d.getListenerName&&(o.hasPageRefreshManger=!0,o.hasPageRefreshManger)){var m=o.getStateService();u=p.$on(d.getListenerName(m.current,m.params),function(e,t){d.shouldUpdate(m,t.url)&&o.onUpdate()})}var h=p.$on("$ionicView.beforeEnter",function(){if(o.onBeforeEnterView(),o.getRootScope&&o.back){o.getRootScope().viewGoBack=o.back.bind(o)}}),b=p.$on("$ionicView.beforeLeave",function(){s(),o.viewEntered=!1,o.onBeforeLeaveView()}),_=p.$on("$ionicView.loaded",function(){o.onLoadedView()}),v=p.$on("$ionicView.afterEnter",function(){p.$evalAsync(function(){o.viewEntered=!0,s=f.connect(o.mapStateObj,o.mapActionToThis(),o)(function(e,t){o.viewEntered&&(Object.assign(o,e,t),o.dataPipe.run(o),p.$evalAsync(function(){o.onReceiveProps(e,t)}))}),o.onAfterEnterView()})});return p.$on("$destroy",function(){s(),u(),v(),h(),b(),_()}),o}return r.prototype=n.prototype,r.$inject=n.$inject,t.inject&&t.inject.length&&(r.$inject=t.inject),r.$inject.push("$injector"),x.config(["$stateProvider",function(n){if(t.views){var i=Object.keys(t.views)[0],o=t.views[i];o.controller=r,o.controllerAs=o.controllerAs||"ctrl"}else t.controller=r,t.controllerAs=t.controllerAs||"ctrl";n.state(e,t)}]),r}}function l(e){return function(t){if(!e.selector)throw new Error("selector must be provided!");e.controller=t,e.controllerAs||(e.controllerAs="ctrl"),x.directive(e.selector,function(){return e})}}function c(e){return function(t){t.controller=t,x.component(e.selector,e)}}function s(e){return function(t,n,r){if(r.writable=!0,t.selectorList||(t.selectorList=[]),e)if("string"==typeof e)t.selectorList.push({type:w,key:n,selector:e});else if(e instanceof Array)t.selectorList.push({type:v,key:n,selector:e});else{if(!(e instanceof Function))throw new Error("unknown selector type!");t.selectorList.push({type:y,key:n,selector:e})}else t.selectorList.push({type:_,key:n})}}function u(e,t,n){var r=n.value,i=void 0;return n.value=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=e.$ngRedux;if(!a)throw new Error("$ngRedux is required by decorator @actionCreator");var l=(0,b.bindActionCreators)(r.bind(e.constructor.instance),a.dispatch);return i=l.apply(e,n)},n}function p(e,t){return function(n){x.constant(e,t)}}function f(e,t){return function(n){t&&t.inject&&t.inject.length&&(n.$inject=t.inject),x.service(e,n)}}function d(e,t,n){var r=n.value;return n.value=function(){var e=this;return new Promise(function(t){r.call(e,t)})},n}Object.defineProperty(t,"__esModule",{value:!0}),t.registerModule=r,t.Inject=i,t.ViewDecorator=o,t.View=a,t.Directive=l,t.Component=c,t.select=s,t.actionCreator=u,t.Constant=p,t.Service=f,t.PromiseFn=d;var m=n(172),h=n(174),g=function(e){return e&&e.__esModule?e:{default:e}}(h),b=n(176),_="EMPTY_SELECTOR_TYPE",v="PATH_SELECTOR_TYPE",y="FUNCTION_SELECTOR_TYPE",w="STR_SELECTOR_TYPE",x=m.ngDecModule,k=void 0,S=void 0,P=function(e,t,n){e.forEach(function(e,r){"$scope"==e?t.prototype.getScope=function(){return n[r]}:"$rootScope"==e?t.prototype.getRootScope=function(){return n[r]}:"$state"==e?t.prototype.getStateService=function(){return n[r]}:"$ngRedux"==e?(t.prototype.getState=function(){return n[r].getState()},t.prototype[e]=n[r]):t.prototype[e]=n[r]})}},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngDecModule=void 0,n(173);var r=angular.module("ngDecModule",[]);t.ngDecModule=r},174:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(175),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t,n,i){r(this,e),this.id=(0,a.default)(),this.criteriaList=t||[],this.invokeList=n||[],this.sequence=i||0}return i(e,[{key:"pushCriteria",value:function(e){this.criteriaList.push(e)}},{key:"pushInvoke",value:function(e){this.invokeList.push(e)}}]),e}(),c=function(){function e(){r(this,e),this.configList=[],this.lastConfigId=null,this.lastActionType=u.PUSH_CRITERIA}return i(e,[{key:"getLastConfig",value:function(){var e=this,t=null,n=void 0;switch(this.lastActionType){case u.PUSH_CRITERIA:return this.lastConfigId?this.configList.forEach(function(n){n.id==e.lastConfigId&&(t=n)}):(t=new l,t.sequence=1,this.configList.push(t),this.lastConfigId=t.id),t;case u.PUSH_INVOKE:case u.NEXT:return this.configList.forEach(function(n){n.id==e.lastConfigId&&(t=n)}),n=new l,n.sequence=t.sequence++,this.configList.push(n),this.lastConfigId=n.id,n}}},{key:"when",value:function(e){return"function"!=typeof e?console.error(s.CRITERIA_ERROR):(this.getLastConfig().pushCriteria(e),this.lastActionType=u.PUSH_CRITERIA,this)}},{key:"then",value:function(e){return"function"!=typeof e?console.error(s.INVOKE_ERROR):(this.getLastConfig().pushInvoke(e),this.lastActionType=u.PUSH_INVOKE,this)}},{key:"next",value:function(){return this.lastActionType=u.NEXT,this}},{key:"run",value:function(e){for(var t=!0,n=this.configList.slice(0,this.configList.length);t&&n.length;){for(var r=[n.shift()];n[0]&&r[0].sequence==n[0].sequence;)r.push(n.shift());for(var i=0;i<r.length;i++)!function(n){var i=r[n],o=!0;i.criteriaList.forEach(function(t){o=o&&t.call(e)}),o?i.invokeList.forEach(function(t){t.call(e)}):t=!1}(i)}}}]),e}(),s={CRITERIA_ERROR:"criteria should be function!",INVOKE_ERROR:"invoke should be function"},u={PUSH_CRITERIA:"PUSH_CRITERIA",PUSH_INVOKE:"PUSH_INVOKE",NEXT:"NEXT"};window.dataPipe=new c,t.default=c},175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Math.pow(2,e)},r=(n(4),n(6)),i=n(8),o=n(12),a=(n(14),n(16)),l=n(32),c=(n(40),n(48),function(e,t){return Math.floor(Math.random()*(t-e+1))+e}),s=function(){return c(0,r-1)},u=function(){return c(0,i-1)},p=function(){return c(0,o-1)},f=function(){return c(0,a-1)},d=function(){return c(0,l-1)},m=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},h=function(e,t,n){e=String(e),n=n||"0";for(var r=t-e.length;r>0;r>>>=1,n+=n)1&r&&(e=n+e);return e},g=function(e,t,n,r,i,o){return h(e.toString(16),8)+"-"+h(t.toString(16),4)+"-"+h(n.toString(16),4)+"-"+h(r.toString(16),2)+h(i.toString(16),2)+"-"+h(o.toString(16),12)},b=function(){return g(d(),f(),16384|p(),128|s(),u(),m())};t.default=b},235:function(e,t,n){function r(e,t,n){for(var r=-1,i=a(t),o=i.length;++r<o;){var l=i[r],c=e[l],s=n(c,t[l],l,e,t);(s===s?s===c:c!==c)&&(void 0!==c||l in e)||(e[l]=s)}return e}var i=n(236),o=n(242),a=n(246),l=o(function(e,t,n){return n?r(e,t,n):i(e,t)});e.exports=l},236:function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=n(237),o=n(238);e.exports=r},237:function(e,t){function n(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}e.exports=n},238:function(e,t,n){function r(e){return null!=e&&o(b(e))}function i(e,t){return e="number"==typeof e||f.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&e<t}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function a(e){for(var t=c(e),n=t.length,r=n&&e.length,a=!!r&&o(r)&&(p(e)||u(e)),l=-1,s=[];++l<n;){var f=t[l];(a&&i(f,r)||m.call(e,f))&&s.push(f)}return s}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(p(e)||u(e))&&t||0;for(var n=e.constructor,r=-1,a="function"==typeof n&&n.prototype===e,c=Array(t),s=t>0;++r<t;)c[r]=r+"";for(var f in e)s&&i(f,t)||"constructor"==f&&(a||!m.call(e,f))||c.push(f);return c}var s=n(239),u=n(240),p=n(241),f=/^\d+$/,d=Object.prototype,m=d.hasOwnProperty,h=s(Object,"keys"),g=9007199254740991,b=function(e){return function(t){return null==t?void 0:t[e]}}("length"),_=h?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):l(e)?h(e):[]}:a;e.exports=_},239:function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function i(e){return o(e)&&f.call(e)==l}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?d.test(u.call(e)):n(e)&&c.test(e))}var l="[object Function]",c=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,p=s.hasOwnProperty,f=s.toString,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},240:function(e,t){function n(e){return i(e)&&m.call(e,"callee")&&(!g.call(e,"callee")||h.call(e)==u)}function r(e){return null!=e&&a(e.length)&&!o(e)}function i(e){return c(e)&&r(e)}function o(e){var t=l(e)?h.call(e):"";return t==p||t==f}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==typeof e}var s=9007199254740991,u="[object Arguments]",p="[object Function]",f="[object GeneratorFunction]",d=Object.prototype,m=d.hasOwnProperty,h=d.toString,g=d.propertyIsEnumerable;e.exports=n},241:function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function i(e){return o(e)&&f.call(e)==l}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?d.test(u.call(e)):n(e)&&c.test(e))}var l="[object Function]",c=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,p=s.hasOwnProperty,f=s.toString,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=function(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}(Array,"isArray"),h=9007199254740991,g=m||function(e){return n(e)&&r(e.length)&&"[object Array]"==f.call(e)};e.exports=g},242:function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=null==t?0:n.length,l=a>2?n[a-2]:void 0,c=a>2?n[2]:void 0,s=a>1?n[a-1]:void 0;for("function"==typeof l?(l=i(l,s,5),a-=2):(l="function"==typeof s?s:void 0,a-=l?1:0),c&&o(n[0],n[1],c)&&(l=a<3?void 0:l,a=1);++r<a;){var u=n[r];u&&e(t,u,l)}return t})}var i=n(243),o=n(244),a=n(245);e.exports=r},243:function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function r(e){return e}e.exports=n},244:function(e,t){function n(e){return null!=e&&o(s(e))}function r(e,t){return e="number"==typeof e||l.test(e)?+e:-1,t=null==t?c:t,e>-1&&e%1==0&&e<t}function i(e,t,i){if(!a(i))return!1;var o=typeof t;if("number"==o?n(i)&&r(t,i.length):"string"==o&&t in i){var l=i[t];return e===e?e===l:l!==l}return!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=/^\d+$/,c=9007199254740991,s=function(e){return function(t){return null==t?void 0:t[e]}}("length");e.exports=i},245:function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var l=Array(t+1);for(r=-1;++r<t;)l[r]=n[r];return l[t]=a,e.apply(this,l)}}var r="Expected a function",i=Math.max;e.exports=n},246:function(e,t,n){function r(e){return null!=e&&o(b(e))}function i(e,t){return e="number"==typeof e||f.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&e<t}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function a(e){for(var t=c(e),n=t.length,r=n&&e.length,a=!!r&&o(r)&&(p(e)||u(e)),l=-1,s=[];++l<n;){var f=t[l];(a&&i(f,r)||m.call(e,f))&&s.push(f)}return s}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(p(e)||u(e))&&t||0;for(var n=e.constructor,r=-1,a="function"==typeof n&&n.prototype===e,c=Array(t),s=t>0;++r<t;)c[r]=r+"";for(var f in e)s&&i(f,t)||"constructor"==f&&(a||!m.call(e,f))||c.push(f);return c}var s=n(239),u=n(240),p=n(241),f=/^\d+$/,d=Object.prototype,m=d.hasOwnProperty,h=s(Object,"keys"),g=9007199254740991,b=function(e){return function(t){return null==t?void 0:t[e]}}("length"),_=h?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):l(e)?h(e):[]}:a;e.exports=_},282:function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function o(e){return function(t){return null==t?void 0:t[e]}}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function s(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(){this.__data__=Kt?Kt(null):{}}function d(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(Kt){var n=t[e];return n===De?void 0:n}return Ct.call(t,e)?t[e]:void 0}function h(e){var t=this.__data__;return Kt?void 0!==t[e]:Ct.call(t,e)}function g(e,t){return this.__data__[e]=Kt&&void 0===t?De:t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(){this.__data__=[]}function v(e){var t=this.__data__,n=D(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ft.call(t,n,1),!0)}function y(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]}function w(e){return D(this.__data__,e)>-1}function x(e,t){var n=this.__data__,r=D(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(){this.__data__={hash:new p,map:new(Bt||b),string:new p}}function P(e){return ie(this,e).delete(e)}function T(e){return ie(this,e).get(e)}function A(e){return ie(this,e).has(e)}function O(e,t){return ie(this,e).set(e,t),this}function E(e){var t=-1,n=e?e.length:0;for(this.__data__=new k;++t<n;)this.add(e[t])}function I(e){return this.__data__.set(e,De),this}function L(e){return this.__data__.has(e)}function z(e){this.__data__=new b(e)}function R(){this.__data__=new b}function C(e){return this.__data__.delete(e)}function j(e){return this.__data__.get(e)}function q(e){return this.__data__.has(e)}function M(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Bt||r.length<Me-1)return r.push([e,t]),this;n=this.__data__=new k(r)}return n.set(e,t),this}function N(e,t){var n=ln(e)||ye(e)?a(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Ct.call(e,o)||i&&("length"==o||ce(o,r))||n.push(o);return n}function D(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1}function F(e,t){t=se(t,e)?[t]:ee(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[he(t[n++])];return n&&n==r?e:void 0}function U(e){return jt.call(e)}function Q(e,t){return null!=e&&t in Object(e)}function $(e,t,n,r,i){return e===t||(null==e||null==t||!Pe(e)&&!Te(t)?e!==e&&t!==t:B(e,t,$,n,r,i))}function B(e,t,n,r,i,o){var a=ln(e),l=ln(t),s=Ve,u=Ve;a||(s=rn(e),s=s==He?tt:s),l||(u=rn(t),u=u==He?tt:u);var p=s==tt&&!c(e),f=u==tt&&!c(t),d=s==u;if(d&&!p)return o||(o=new z),a||cn(e)?te(e,t,n,r,i,o):ne(e,t,s,n,r,i,o);if(!(i&Ue)){var m=p&&Ct.call(e,"__wrapped__"),h=f&&Ct.call(t,"__wrapped__");if(m||h){var g=m?e.value():e,b=h?t.value():t;return o||(o=new z),n(g,b,r,i,o)}}return!!d&&(o||(o=new z),re(e,t,n,r,i,o))}function W(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){l=n[i];var c=l[0],s=e[c],u=l[1];if(a&&l[2]){if(void 0===s&&!(c in e))return!1}else{var p=new z;if(r)var f=r(s,u,c,e,t,p);if(!(void 0===f?$(u,s,r,Fe|Ue,p):f))return!1}}return!0}function H(e){return!(!Pe(e)||pe(e))&&(ke(e)||c(e)?qt:mt).test(ge(e))}function V(e){return Te(e)&&Se(e.length)&&!!bt[jt.call(e)]}function K(e){return"function"==typeof e?e:null==e?je:"object"==typeof e?ln(e)?Z(e[0],e[1]):Y(e):qe(e)}function G(e){if(!fe(e))return Ut(e);var t=[];for(var n in Object(e))Ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Y(e){var t=oe(e);return 1==t.length&&t[0][2]?me(t[0][0],t[0][1]):function(n){return n===e||W(n,e,t)}}function Z(e,t){return se(e)&&de(t)?me(he(e),t):function(n){var r=ze(n,e);return void 0===r&&r===t?Re(n,e):$(t,r,void 0,Fe|Ue)}}function J(e){return function(t){return F(t,e)}}function X(e){if("string"==typeof e)return e;if(Ae(e))return nn?nn.call(e):"";var t=e+"";return"0"==t&&1/e==-Qe?"-0":t}function ee(e){return ln(e)?e:on(e)}function te(e,t,n,i,o,a){var l=o&Ue,c=e.length,s=t.length;if(c!=s&&!(l&&s>c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var p=-1,f=!0,d=o&Fe?new E:void 0;for(a.set(e,t),a.set(t,e);++p<c;){var m=e[p],h=t[p];if(i)var g=l?i(h,m,p,t,e,a):i(m,h,p,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!r(t,function(e,t){if(!d.has(t)&&(m===e||n(m,e,i,o,a)))return d.add(t)})){f=!1;break}}else if(m!==h&&!n(m,h,i,o,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function ne(e,t,n,r,i,o,a){switch(n){case lt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case at:return!(e.byteLength!=t.byteLength||!r(new Nt(e),new Nt(t)));case Ke:case Ge:case et:return ve(+e,+t);case Ye:return e.name==t.name&&e.message==t.message;case nt:case it:return e==t+"";case Xe:var l=s;case rt:var c=o&Ue;if(l||(l=u),e.size!=t.size&&!c)return!1;var p=a.get(e);if(p)return p==t;o|=Fe,a.set(e,t);var f=te(l(e),l(t),r,i,o,a);return a.delete(e),f;case ot:if(tn)return tn.call(e)==tn.call(t)}return!1}function re(e,t,n,r,i,o){var a=i&Ue,l=Ce(e),c=l.length;if(c!=Ce(t).length&&!a)return!1;for(var s=c;s--;){var u=l[s];if(!(a?u in t:Ct.call(t,u)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var d=a;++s<c;){u=l[s];var m=e[u],h=t[u];if(r)var g=a?r(h,m,u,t,e,o):r(m,h,u,e,t,o);if(!(void 0===g?m===h||n(m,h,r,i,o):g)){f=!1;break}d||(d="constructor"==u)}if(f&&!d){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o.delete(e),o.delete(t),f}function ie(e,t){var n=e.__data__;return ue(t)?n["string"==typeof t?"string":"hash"]:n.map}function oe(e){for(var t=Ce(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,de(i)]}return t}function ae(e,t){var n=l(e,t);return H(n)?n:void 0}function le(e,t,n){t=se(t,e)?[t]:ee(t);for(var r,i=-1,o=t.length;++i<o;){var a=he(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&Se(o)&&ce(a,o)&&(ln(e)||ye(e))}function ce(e,t){return!!(t=null==t?$e:t)&&("number"==typeof e||gt.test(e))&&e>-1&&e%1==0&&e<t}function se(e,t){if(ln(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ae(e))||(st.test(e)||!ct.test(e)||null!=t&&e in Object(t))}function ue(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!zt&&zt in e}function fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||It)}function de(e){return e===e&&!Pe(e)}function me(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function he(e){if("string"==typeof e||Ae(e))return e;var t=e+"";return"0"==t&&1/e==-Qe?"-0":t}function ge(e){if(null!=e){try{return Rt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:Ee(n);return o<0&&(o=Qt(r+o,0)),i(e,K(t,3),o)}function _e(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Ne);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(_e.Cache||k),n}function ve(e,t){return e===t||e!==e&&t!==t}function ye(e){return xe(e)&&Ct.call(e,"callee")&&(!Dt.call(e,"callee")||jt.call(e)==He)}function we(e){return null!=e&&Se(e.length)&&!ke(e)}function xe(e){return Te(e)&&we(e)}function ke(e){var t=Pe(e)?jt.call(e):"";return t==Ze||t==Je}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=$e}function Pe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return!!e&&"object"==typeof e}function Ae(e){return"symbol"==typeof e||Te(e)&&jt.call(e)==ot}function Oe(e){if(!e)return 0===e?e:0;if((e=Ie(e))===Qe||e===-Qe){return(e<0?-1:1)*Be}return e===e?e:0}function Ee(e){var t=Oe(e),n=t%1;return t===t?n?t-n:t:0}function Ie(e){if("number"==typeof e)return e;if(Ae(e))return We;if(Pe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Pe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(pt,"");var n=dt.test(e);return n||ht.test(e)?_t(e.slice(2),n?2:8):ft.test(e)?We:+e}function Le(e){return null==e?"":X(e)}function ze(e,t,n){var r=null==e?void 0:F(e,t);return void 0===r?n:r}function Re(e,t){return null!=e&&le(e,t,Q)}function Ce(e){return we(e)?N(e):G(e)}function je(e){return e}function qe(e){return se(e)?o(he(e)):J(e)}var Me=200,Ne="Expected a function",De="__lodash_hash_undefined__",Fe=1,Ue=2,Qe=1/0,$e=9007199254740991,Be=1.7976931348623157e308,We=NaN,He="[object Arguments]",Ve="[object Array]",Ke="[object Boolean]",Ge="[object Date]",Ye="[object Error]",Ze="[object Function]",Je="[object GeneratorFunction]",Xe="[object Map]",et="[object Number]",tt="[object Object]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object Symbol]",at="[object ArrayBuffer]",lt="[object DataView]",ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,st=/^\w*$/,ut=/^\./,pt=/^\s+|\s+$/g,ft=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt[He]=bt[Ve]=bt[at]=bt[Ke]=bt[lt]=bt[Ge]=bt[Ye]=bt[Ze]=bt[Xe]=bt[et]=bt[tt]=bt[nt]=bt[rt]=bt[it]=bt["[object WeakMap]"]=!1;var _t=parseInt,vt="object"==typeof e&&e&&e.Object===Object&&e,yt="object"==typeof self&&self&&self.Object===Object&&self,wt=vt||yt||Function("return this")(),xt="object"==typeof t&&t&&!t.nodeType&&t,kt=xt&&"object"==typeof n&&n&&!n.nodeType&&n,St=kt&&kt.exports===xt,Pt=St&&vt.process,Tt=function(){try{return Pt&&Pt.binding("util")}catch(e){}}(),At=Tt&&Tt.isTypedArray,Ot=Array.prototype,Et=Function.prototype,It=Object.prototype,Lt=wt["__core-js_shared__"],zt=function(){var e=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Rt=Et.toString,Ct=It.hasOwnProperty,jt=It.toString,qt=RegExp("^"+Rt.call(Ct).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=wt.Symbol,Nt=wt.Uint8Array,Dt=It.propertyIsEnumerable,Ft=Ot.splice,Ut=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Qt=Math.max,$t=ae(wt,"DataView"),Bt=ae(wt,"Map"),Wt=ae(wt,"Promise"),Ht=ae(wt,"Set"),Vt=ae(wt,"WeakMap"),Kt=ae(Object,"create"),Gt=ge($t),Yt=ge(Bt),Zt=ge(Wt),Jt=ge(Ht),Xt=ge(Vt),en=Mt?Mt.prototype:void 0,tn=en?en.valueOf:void 0,nn=en?en.toString:void 0;p.prototype.clear=f,p.prototype.delete=d,p.prototype.get=m,p.prototype.has=h,p.prototype.set=g,b.prototype.clear=_,b.prototype.delete=v,b.prototype.get=y,b.prototype.has=w,b.prototype.set=x,k.prototype.clear=S,k.prototype.delete=P,k.prototype.get=T,k.prototype.has=A,k.prototype.set=O,E.prototype.add=E.prototype.push=I,E.prototype.has=L,z.prototype.clear=R,z.prototype.delete=C,z.prototype.get=j,z.prototype.has=q,z.prototype.set=M;var rn=U;($t&&rn(new $t(new ArrayBuffer(1)))!=lt||Bt&&rn(new Bt)!=Xe||Wt&&"[object Promise]"!=rn(Wt.resolve())||Ht&&rn(new Ht)!=rt||Vt&&"[object WeakMap]"!=rn(new Vt))&&(rn=function(e){var t=jt.call(e),n=t==tt?e.constructor:void 0,r=n?ge(n):void 0;if(r)switch(r){case Gt:return lt;case Yt:return Xe;case Zt:return"[object Promise]";case Jt:return rt;case Xt:return"[object WeakMap]"}return t});var on=_e(function(e){e=Le(e);var t=[];return ut.test(e)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,n,r,i){t.push(r?i.replace(/\\(\\)?/g,"$1"):n||e)}),t}),an=function(e){return function(t,n,r){var i=Object(t);if(!we(t)){var o=K(n,3);t=Ce(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}(be);_e.Cache=k;var ln=Array.isArray,cn=At?function(e){return function(t){return e(t)}}(At):V;n.exports=an}).call(t,function(){return this}(),n(190)(e))},283:function(e,t){"use strict";e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.VERTICAL_CALC_SCOREPOINT_TYPE="vertical",t.VERTICAL_ERROR_SCOREPOINT_TYPE="verticalErr",t.VERTICAL_FILLBLANKS_SCOREPOINT_TYPE="vertical"}])},414:function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var l=i?i[o]:o;r=n(r,t[l],l,t)}return r}return function(n,r,i,o){r=k(r,o,4);var a=!I(n)&&x.keys(n),l=(a||n).length,c=e>0?0:l-1;return arguments.length<3&&(i=n[a?a[c]:c],c+=e),t(n,r,i,a,c,l)}}function o(e){return function(t,n,r){n=S(n,r);for(var i=E(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(r,i,o){var a=0,l=E(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(m.call(r,a,l),x.isNaN),o>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&o<l;o+=e)if(r[o]===i)return o;return-1}}function l(e,t){var n=j.length,r=e.constructor,i=x.isFunction(r)&&r.prototype||p,o="constructor";for(x.has(e,o)&&!x.contains(t,o)&&t.push(o);n--;)(o=j[n])in e&&e[o]!==i[o]&&!x.contains(t,o)&&t.push(o)}var c=this,s=c._,u=Array.prototype,p=Object.prototype,f=Function.prototype,d=u.push,m=u.slice,h=p.toString,g=p.hasOwnProperty,b=Array.isArray,_=Object.keys,v=f.bind,y=Object.create,w=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};void 0!==e&&e.exports&&(t=e.exports=x),t._=x,x.VERSION="1.8.3";var k=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},S=function(e,t,n){return null==e?x.identity:x.isFunction(e)?k(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return S(e,t,1/0)};var P=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),l=a.length,c=0;c<l;c++){var s=a[c];t&&void 0!==n[s]||(n[s]=o[s])}return n}},T=function(e){if(!x.isObject(e))return{};if(y)return y(e);w.prototype=e;var t=new w;return w.prototype=null,t},A=function(e){return function(t){return null==t?void 0:t[e]}},O=Math.pow(2,53)-1,E=A("length"),I=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=O};x.each=x.forEach=function(e,t,n){t=k(t,n);var r,i;if(I(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=x.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},x.map=x.collect=function(e,t,n){t=S(t,n);for(var r=!I(e)&&x.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var l=r?r[a]:a;o[a]=t(e[l],l,e)}return o},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(e,t,n){var r;if(void 0!==(r=I(e)?x.findIndex(e,t,n):x.findKey(e,t,n))&&-1!==r)return e[r]},x.filter=x.select=function(e,t,n){var r=[];return t=S(t,n),x.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},x.reject=function(e,t,n){return x.filter(e,x.negate(S(t)),n)},x.every=x.all=function(e,t,n){t=S(t,n);for(var r=!I(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},x.some=x.any=function(e,t,n){t=S(t,n);for(var r=!I(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n,r){return I(e)||(e=x.values(e)),("number"!=typeof n||r)&&(n=0),x.indexOf(e,t,n)>=0},x.invoke=function(e,t){var n=m.call(arguments,2),r=x.isFunction(t)
;return x.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=I(e)?e:x.values(e);for(var l=0,c=e.length;l<c;l++)(r=e[l])>o&&(o=r)}else t=S(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},x.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=I(e)?e:x.values(e);for(var l=0,c=e.length;l<c;l++)(r=e[l])<o&&(o=r)}else t=S(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},x.shuffle=function(e){for(var t,n=I(e)?e:x.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=x.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},x.sample=function(e,t,n){return null==t||n?(I(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=S(t,n),x.pluck(x.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=S(n,r),x.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};x.groupBy=L(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=L(function(e,t,n){e[n]=t}),x.countBy=L(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?m.call(e):I(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:I(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=S(t,n);var r=[],i=[];return x.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},x.first=x.head=x.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,n){return m.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,n){return m.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var z=function(e,t,n,r){for(var i=[],o=0,a=r||0,l=E(e);a<l;a++){var c=e[a];if(I(c)&&(x.isArray(c)||x.isArguments(c))){t||(c=z(c,t,n));var s=0,u=c.length;for(i.length+=u;s<u;)i[o++]=c[s++]}else n||(i[o++]=c)}return i};x.flatten=function(e,t){return z(e,t,!1)},x.without=function(e){return x.difference(e,m.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=S(n,r));for(var i=[],o=[],a=0,l=E(e);a<l;a++){var c=e[a],s=n?n(c,a,e):c;t?(a&&o===s||i.push(c),o=s):n?x.contains(o,s)||(o.push(s),i.push(c)):x.contains(i,c)||i.push(c)}return i},x.union=function(){return x.uniq(z(arguments,!0,!0))},x.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);r<i;r++){var o=e[r];if(!x.contains(t,o)){for(var a=1;a<n&&x.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},x.difference=function(e){var t=z(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,E).length||0,n=Array(t),r=0;r<t;r++)n[r]=x.pluck(e,r);return n},x.object=function(e,t){for(var n={},r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(e,t,n,r){n=S(n,r,1);for(var i=n(t),o=0,a=E(e);o<a;){var l=Math.floor((o+a)/2);n(e[l])<i?o=l+1:a=l}return o},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var R=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=T(e.prototype),a=e.apply(o,i);return x.isObject(a)?a:o};x.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,m.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=m.call(arguments,2),r=function(){return R(e,r,t,this,n.concat(m.call(arguments)))};return r},x.partial=function(e){var t=m.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===x?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return R(e,n,this,this,o)};return n},x.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return x.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},x.delay=function(e,t){var n=m.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var r,i,o,a=null,l=0;n||(n={});var c=function(){l=!1===n.leading?0:x.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var s=x.now();l||!1!==n.leading||(l=s);var u=t-(s-l);return r=this,i=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),l=s,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(c,u)),o}},x.debounce=function(e,t,n){var r,i,o,a,l,c=function(){var s=x.now()-a;s<t&&s>=0?r=setTimeout(c,t-s):(r=null,n||(l=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=x.now();var s=n&&!r;return r||(r=setTimeout(c,t)),s&&(l=e.apply(o,i),o=i=null),l}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},x.once=x.partial(x.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(_)return _(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return C&&l(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return C&&l(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},x.mapObject=function(e,t,n){t=S(t,n);for(var r,i=x.keys(e),o=i.length,a={},l=0;l<o;l++)r=i[l],a[r]=t(e[r],r,e);return a},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=P(x.allKeys),x.extendOwn=x.assign=P(x.keys),x.findKey=function(e,t,n){t=S(t,n);for(var r,i=x.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},x.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;x.isFunction(t)?(i=x.allKeys(a),r=k(t,n)):(i=z(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var l=0,c=i.length;l<c;l++){var s=i[l],u=a[s];r(u,s,a)&&(o[s]=u)}return o},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(z(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(r,t)}}return x.pick(e,t,n)},x.defaults=P(x.allKeys,!0),x.create=function(e,t){var n=T(e);return t&&x.extendOwn(n,t),n},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var q=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!q(e[c],t[c],n,r))return!1}else{var s,u=x.keys(e);if(c=u.length,x.keys(t).length!==c)return!1;for(;c--;)if(s=u[c],!x.has(t,s)||!q(e[s],t[s],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(e,t){return q(e,t)},x.isEmpty=function(e){return null==e||(I(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length)},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=b||function(e){return"[object Array]"===h.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&g.call(e,t)},x.noConflict=function(){return c._=s,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=A,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var r=Array(Math.max(0,e));t=k(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=x.invert(M),D=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};x.escape=D(M),x.unescape=D(N),x.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),x.isFunction(r)?r.call(e):r};var F=0;x.uniqueId=function(e){var t=++F+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=function(e){return"\\"+U[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||/(.)^/).source,(t.interpolate||/(.)^/).source,(t.evaluate||/(.)^/).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,l){return o+=e.slice(i,l).replace(/\\|'|\r|\n|\u2028|\u2029/g,Q),i=l+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var l=function(e){return a.call(this,e,x)};return l.source="function("+(t.variable||"obj")+"){\n"+o+"}",l},x.chain=function(e){var t=x(e);return t._chain=!0,t};var $=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),$(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],$(this,n)}}),x.each(["concat","join","slice"],function(e){var t=u[e];x.prototype[e]=function(){return $(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return x}.apply(t,r))&&(e.exports=i)}).call(this)},438:function(e,t){function n(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){var n=L(e)||u(e)?r(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!P.call(e,a)||o&&("length"==a||l(a,i))||n.push(a);return n}function o(e,t){return e&&I(e,t,b)}function a(e){if(!c(e))return O(e);var t=[];for(var n in Object(e))P.call(e,n)&&"constructor"!=n&&t.push(n);return t}function l(e,t){return!!(t=null==t?v:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function c(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function s(e,t){return(L(e)?n:E)(e,"function"==typeof t?t:_)}function u(e){return f(e)&&P.call(e,"callee")&&(!A.call(e,"callee")||T.call(e)==y)}function p(e){return null!=e&&m(e.length)&&!d(e)}function f(e){return g(e)&&p(e)}function d(e){var t=h(e)?T.call(e):"";return t==w||t==x}function m(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){return!!e&&"object"==typeof e}function b(e){return p(e)?i(e):a(e)}function _(e){return e}var v=9007199254740991,y="[object Arguments]",w="[object Function]",x="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,S=Object.prototype,P=S.hasOwnProperty,T=S.toString,A=S.propertyIsEnumerable,O=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),E=function(e,t){return function(n,r){if(null==n)return n;if(!p(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(o),I=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),l=a.length;l--;){var c=a[e?l:++i];if(!1===n(o[c],c,o))break}return t}}(),L=Array.isArray;e.exports=s},4485:function(e,t,n){e.exports=n.p+"images/wechat.ico"},4487:function(e,t,n){e.exports=n.p+"images/qq.ico"},4666:function(e,t,n){e.exports=n.p+"images/back-to-top.png"},5644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t_work_publish4=void 0;var r=n(171);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(5645),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(5648),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),c=angular.module("t_work_publish4",[]);(0,r.registerModule)(c,o.default,l),t.t_work_publish4=c},5645:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5646),o=r(i),a=n(5649),l=r(a),c={compose_temp_oral_paper:l.default,compose_oral_multi_unit_paper:o.default};t.default=c},5646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5647),i=n(5648),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),a=n(235);!function(e){e&&e.__esModule}(a);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.compose_oral_multi_unit_paper,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case r.PUB_ORAL_WORK_DIFF_UNIT.COMPOSE_ORAL_MULTI_UNIT_PAPER_START:case r.PUB_ORAL_WORK_DIFF_UNIT.COMPOSE_ORAL_MULTI_UNIT_PAPER_FAIL:return e;case r.PUB_ORAL_WORK_DIFF_UNIT.COMPOSE_ORAL_MULTI_UNIT_PAPER_SUCCESS:;return t.payload.paper;default:return e}}},5647:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PUB_ORAL_WORK_DIFF_UNIT={FETCH_TEMP_ORAL_PAPER_QUES_START:"FETCH_TEMP_ORAL_PAPER_QUES_START",FETCH_TEMP_ORAL_PAPER_QUES_FAIL:"FETCH_TEMP_ORAL_PAPER_QUES_FAIL",FETCH_TEMP_ORAL_PAPER_QUES_SUCCESS:"FETCH_TEMP_ORAL_PAPER_QUES_SUCCESS",CHANGE_ORAL_PAPER_SET_PARAMS:"CHANGE_ORAL_PAPER_SET_PARAMS",CHANGE_ORAL_PAPER_NAME:"CHANGE_ORAL_PAPER_NAME",PUBLISH_TEMP_ORAL_PAPER_SUCCESS:"PUBLISH_TEMP_ORAL_PAPER_SUCCESS",CLEAR_ORAL_PAPER_DATA:"CLEAR_ORAL_PAPER_DATA",COMPOSE_ORAL_MULTI_UNIT_PAPER_START:"COMPOSE_ORAL_MULTI_UNIT_PAPER_START",COMPOSE_ORAL_MULTI_UNIT_PAPER_FAIL:"COMPOSE_ORAL_MULTI_UNIT_PAPER_FAIL",COMPOSE_ORAL_MULTI_UNIT_PAPER_SUCCESS:"COMPOSE_ORAL_MULTI_UNIT_PAPER_SUCCESS"}},5648:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compose_temp_oral_paper={},t.compose_oral_multi_unit_paper={}},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5647),i=n(5648),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),a=n(235);!function(e){e&&e.__esModule}(a);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.compose_temp_oral_paper,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},e);switch(t.type){case r.PUB_ORAL_WORK_DIFF_UNIT.FETCH_TEMP_ORAL_PAPER_QUES_START:case r.PUB_ORAL_WORK_DIFF_UNIT.FETCH_TEMP_ORAL_PAPER_QUES_FAIL:return e;case r.PUB_ORAL_WORK_DIFF_UNIT.FETCH_TEMP_ORAL_PAPER_QUES_SUCCESS:return n.selectBookText=t.payload.selectBookText,n.tempPaperSetParams=t.payload.setParams,n.periodQuestionMapItems=t.payload.periodQuestionMapItems,n.paperName=t.payload.paperName,n;case r.PUB_ORAL_WORK_DIFF_UNIT.CHANGE_ORAL_PAPER_SET_PARAMS:return n.tempPaperSetParams=t.payload.setParams,n.periodQuestionMapItems=t.payload.periodQuestionMapItems,n;case r.PUB_ORAL_WORK_DIFF_UNIT.CLEAR_ORAL_PAPER_DATA:return n.tempPaperSetParams=t.payload.setParams,n.periodQuestionMapItems=t.payload.periodQuestionMapItems,n.paperName=t.payload.paperName,n.selectBookText=t.payload.selectBookText,n;case r.PUB_ORAL_WORK_DIFF_UNIT.CHANGE_ORAL_PAPER_NAME:return n.paperName=t.payload.paperName,n;case r.PUB_ORAL_WORK_DIFF_UNIT.PUBLISH_TEMP_ORAL_PAPER_SUCCESS:return{};default:return e}}},5650:function(e,t,n){"use strict";n(5651),n(5655),n(5659)},5651:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,l,c,s,u,p,f,d,m,h,g,b,_,v,y,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=n(282),k=function(e){return e&&e.__esModule?e:{default:e}}(x),S=n(283),P=n(5644),T=(a=(0,P.Directive)({selector:"oralAssemblePreview",template:n(5652),styles:n(5653),replace:!0}),l=(0,P.View)("oral_assemble_preview",{url:"oral_assemble_preview",template:"<oral-assemble-preview></oral-assemble-preview>"}),c=(0,P.Inject)("$rootScope","$scope","$state","$ionicPopup","$timeout","$ionicScrollDelegate","$ngRedux","finalData","commonService","workChapterPaperService","ngLocalStore","workManageService","workStatisticsService","oralAssemblePaperService"),s=(0,P.select)(function(e){return e.profile_user_auth.user.name}),u=(0,P.select)(function(e){return e.profile_user_auth.user.userId}),p=(0,P.select)(function(e){return e.compose_temp_oral_paper.tempPaperSetParams}),f=(0,P.select)(function(e){return e.compose_temp_oral_paper.paperName}),d=(0,P.select)(function(e){return e.compose_temp_oral_paper.periodQuestionMapItems}),a(m=l(m=c((h=function(){function e(){i(this,e),this.isEditFlag=!1,this.chapterName=[],this.gotoPubButnFlag=!0,this.bigQList=[],this.showOralList=!1,r(this,"userName",g,this),r(this,"userId",b,this),r(this,"setParams",_,this),r(this,"paperName",v,this),r(this,"periodQuestionMapItems",y,this)}return w(e,[{key:"initData",value:function(){this.isShowKAD=!0,this.isIOS=2==this.commonService.judgeSYS(),this.isShowTips=!1,this.initCtrl=!1,this.isLoadingProcessing=!0,this.gotoPubButnFlag=!0,this.setQuesList(),this.showOralList=!0}},{key:"setQuesList",value:function(){var e=this;this.bigQList.length=0,this.periodQuestionMapItems&&angular.forEach(this.periodQuestionMapItems,function(t,n){e.periodQuestionMapItems[n].id=e.periodQuestionMapItems[n].periodTagId,e.periodQuestionMapItems[n].qsList=[],e.periodQuestionMapItems[n].qsList.lenght=0,angular.forEach(e.periodQuestionMapItems[n].questions,function(t,r){e.periodQuestionMapItems[n].qsList[r]||(e.periodQuestionMapItems[n].qsList[r]={}),e.periodQuestionMapItems[n].qsList[r].id=t.integrateQuestionItem.id,e.periodQuestionMapItems[n].qsList[r].inputList=[],e.periodQuestionMapItems[n].qsList[r].answerKey=t.answerKey,e.periodQuestionMapItems[n].qsList[r].capability=t.qCapabilityMap.capability,e.periodQuestionMapItems[n].qsList[r].knowledge=t.qCapabilityMap.knowledge,e.periodQuestionMapItems[n].qsList[r].qContext=t.integrateQuestionItem.questionBody,e.periodQuestionMapItems[n].qsList[r].seqNum=r}),e.bigQList[n]=[],e.bigQList[n].length=0,e.bigQList[n].push(e.periodQuestionMapItems[n])})}},{key:"onAfterEnterView",value:function(){this.initData()}},{key:"onBeforeEnterView",value:function(){this.showOralList=!1}},{key:"onReceiveProps",value:function(){this.ensurePageData()}},{key:"ensurePageData",value:function(){}},{key:"checkQuestionTypeKey",value:function(e){return"notSubjective"!=e.questionTypeKey}},{key:"back",value:function(){this.go("oral_assemble_paper")}},{key:"scrollTop",value:function(){this.$ionicScrollDelegate.scrollTop(!0)}},{key:"getScrollPosition",value:function(){this.$ionicScrollDelegate.getScrollPosition().top>=250?$(".scrollToTop").fadeIn():$(".scrollToTop").fadeOut()}},{key:"gotoPublishWorkPaper",value:function(){var e=this;if(this.gotoPubButnFlag){if(this.periodQuestionMapItems.length<=0)return void this.commonService.showAlert("温馨提示","没有题目可布置，可点左上角返回添加");this.gotoPubButnFlag=!1,this.workChapterPaperService.checkClassStudentCount(!1).then(function(t){t&&t.code?t.normalPaperView?(e.gotoPubButnFlag=!0,e.commonService.showAlert("温馨提示",t.normalPaperView||"老师所带的班级中，没有一个班级的人数是大于等于5，则不能够布置作业")):e.changePaperName():e.commonService.alertDialog(t.msg||"班级校验失败")})}}},{key:"changePaperName",value:function(){var e=this,t=this;this.$ionicPopup.show({template:'<input ng-model="ctrl.paperName" />',title:"试卷名称",scope:this.getScope(),buttons:[{text:"<b>确定</b>",type:"button-positive",onTap:function(n){return t.oralAssemblePaperService.changePaperName(e.paperName),!0}},{text:"取消",type:"",onTap:function(e){return t.gotoPubButnFlag=!0,!1}}]}).then(function(t){t&&e.workPub()})}},{key:"workPub",value:function(){this.gotoPubButnFlag=!0,this.goToPub()}},{key:"goToPub",value:function(){this.go("pub_oral_assemble_paper")}},{key:"mapActionToThis",value:function(){return{}}},{key:"clearVerticalQAns",value:function(e,t){var n=JSON.parse(t),r=function(e){try{var t=(0,k.default)(n,{type:S.VERTICAL_FILLBLANKS_SCOREPOINT_TYPE}),r=(0,k.default)(t.vfMatrix,e);return r?r[e]:[{}]}catch(e){return[{}]}};return angular.forEach(e,function(e){angular.forEach(e.spList,function(e){e.hasOwnProperty("inputBoxStuAns")?e.inputBoxStuAns="":e.hasOwnProperty("matrix")&&(e.matrix=r(e.inputBoxUuid))})}),e}},{key:"mapVerticalQAns",value:function(e,t){var n=void 0,r=void 0;return angular.forEach(t,function(t){angular.forEach(t.spList,function(t){try{n=e[t.inputBoxUuid],-1===n.indexOf("id")?t.inputBoxStuAns=n:n.indexOf("id")>-1&&(r=JSON.parse(n),angular.forEach(r,function(e){e.id===t.inputBoxUuid&&(t.matrix=e.matrix)}))}catch(e){console.error("qbuBug",e)}})}),t}}]),e}(),g=o(h.prototype,"userName",[s],{enumerable:!0,initializer:null}),b=o(h.prototype,"userId",[u],{enumerable:!0,initializer:null}),_=o(h.prototype,"setParams",[p],{enumerable:!0,initializer:null}),v=o(h.prototype,"paperName",[f],{enumerable:!0,initializer:null}),y=o(h.prototype,"periodQuestionMapItems",[d],{enumerable:!0,initializer:null}),m=h))||m)||m)||m);t.default=T},5652:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="oralc_assemble_preview">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding-left: 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>&nbsp;&nbsp;\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\';"\r\n            ng-bind="ctrl.paperName.substr(0,ctrl.paperName.length-3)"></h1>\r\n       \x3c!-- <div class="buttons">\r\n            <img style="height: 30px;" ng-src="{{$root.loadImg(\'pub_work_type/pub_type_butn01.png\')}}"\r\n                 ng-if="!ctrl.isEditFlag"\r\n                 ng-click="ctrl.paperEdit(\'edit\')">\r\n            <img style="height: 30px;" ng-src="{{$root.loadImg(\'pub_work_type/pub_type_butn02.png\')}}"\r\n                 ng-if="ctrl.isEditFlag"\r\n                 ng-click="ctrl.paperEdit(\'done\')">\r\n        </div>--\x3e\r\n    </ion-header-bar>\r\n    <ion-content overflow-scroll="false" class="has-header has-footer ques-list" on-scroll="ctrl.getScrollPosition()">\r\n        <div class="bigQContainer">\r\n            <div class="smallQContainer" ng-repeat="item in ctrl.periodQuestionMapItems track by $index">\r\n                <p class="item-title" ng-bind="item.periodTagName"></p>\r\n                <div class="item-ques-list">\r\n                    <oral-calculation-list big-q-list="ctrl.bigQList[$index]" ng-if="ctrl.showOralList"\r\n                                           style="width: 100%;"></oral-calculation-list>\r\n                    \x3c!--<div class="checkbox-content">\r\n                        <div class="checkbox-item {{record.id}}" ng-repeat="record in item.qsList track by $index"\r\n                             ng-click="ctrl.selectQues(record,$event)">\r\n                            <i class="ion-ios-circle-outline unselected"></i>\r\n                            <i class="ion-ios-circle-filled selected"></i>\r\n                        </div>\r\n                    </div>--\x3e\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n    <div class="scrollToTop" ng-click="ctrl.scrollTop()"></div>\r\n    <div class="bar bar-footer bg-balanced footer_box_main">\r\n        <div ng-if="!ctrl.isEditFlag" class="footer_box_main_down">\r\n            <div ng-click="ctrl.gotoPublishWorkPaper()" class="footer_click_btn">\r\n                <span style="font-size: 20px">布置</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div ng-if="ctrl.isEditFlag" class="footer_box_main_down">\r\n            <div ng-click="ctrl.deleteQues()" class="footer_click_btn">\r\n                <img ng-src="{{$root.loadImg(\'pub_work_type/pub_edit_butn01.png\')}}">\r\n                <span>删除</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ion-view>'},5653:function(e,t,n){var r=n(5654);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},5654:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,".oralc_assemble_preview {\n  /* .set_top_86 {\n     top: 86px\n   }\n   .set_top_106 {\n     top: 106px !important\n   }*/\n  /*添加样式使之与出题端保持一致*/\n  /*.knowledge_box_main_top {\n    height: 40px;\n    margin-top: 44px;\n    width: 100%;\n    label {\n      color: white;\n      padding: 0;\n      line-height: 40px;\n      background-color: #5BDB8B;\n      .item-content {\n        //text-align: center;\n        margin-left: 90px;\n      }\n\n    }\n    .checkbox {\n      left: 45px;\n    }\n    .checkbox input:checked + .checkbox-icon:before {\n      background-color: white;\n    }\n\n    .checkbox input:checked + .checkbox-icon:after {\n      background-color: white;\n      border-color: #5BDB8B;\n    }\n  }*/\n}\n.oralc_assemble_preview .edit_butn {\n  border-radius: 5px;\n  box-shadow: 0 0 1px 1px #30d525;\n}\n.oralc_assemble_preview .chapter-name {\n  margin-top: 10px;\n  height: 35px;\n  line-height: 35px;\n  border-top-left-radius: 15px;\n  border-top-right-radius: 15px;\n  padding: 0 5%;\n}\n.oralc_assemble_preview .chapter-name p {\n  color: #293d69;\n  font-size: 16px;\n  font-weight: 600;\n}\n.oralc_assemble_preview .set_top_ios {\n  margin-top: 64px !important;\n}\n.oralc_assemble_preview .ques-list .bigQContainer {\n  padding-top: 75px !important;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer {\n  margin-top: -75px;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer .item-title {\n  padding: 5px 10px;\n  font-size: 16px;\n  color: #4A6B9D !important;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer .item-ques-list {\n  position: relative;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer .item-ques-list .checkbox-content {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  width: 45px;\n  height: 100%;\n  display: none;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer .item-ques-list .checkbox-content .checkbox-item {\n  width: 100%;\n  height: 69px;\n  line-height: 38px;\n  text-align: center;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer .item-ques-list .checkbox-content .checkbox-item i {\n  font-size: 26px;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer .item-ques-list .checkbox-content .checkbox-item .selected {\n  display: none;\n}\n.oralc_assemble_preview .ques-list .bigQContainer .smallQContainer .item-ques-list .checkbox-content .checkbox-item .unselected {\n  display: block;\n}\n.oralc_assemble_preview .checkbox input:after,\n.oralc_assemble_preview .checkbox-icon:after {\n  -webkit-transition: opacity 0.05s ease-in-out;\n  transition: opacity 0.05s ease-in-out;\n  -webkit-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n  position: absolute;\n  top: 33%;\n  left: 25%;\n  display: table;\n  width: 14px;\n  height: 6px;\n  border: 2px solid #fff;\n  border-top: 0;\n  border-right: 0;\n  content: ' ';\n  opacity: 0;\n}\n.oralc_assemble_preview .qff_content input:checked:before,\n.oralc_assemble_preview .checkbox input:checked + .checkbox-icon:before {\n  background: #4BD937;\n  border-color: #4BD937;\n}\n.oralc_assemble_preview .image-type-question img {\n  vertical-align: middle;\n}\n.oralc_assemble_preview .image-type-question p {\n  margin: 0 !important;\n}\n.oralc_assemble_preview .img-btn {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n}\n.oralc_assemble_preview .paper-title-box {\n  width: 100%;\n  height: 30%;\n  position: relative;\n  margin-bottom: 10px;\n}\n.oralc_assemble_preview .paper-title-box .bg_t_photo {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  height: 60%;\n  max-height: 186px;\n}\n.oralc_assemble_preview .paper-title-box .bg_file {\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  height: 60%;\n  max-height: 215px;\n}\n.oralc_assemble_preview .paper-title-box .title-text-box {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  text-align: center;\n  height: 100%;\n}\n.oralc_assemble_preview .paper-title-box .title-text-box .text-box {\n  height: inherit;\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n.oralc_assemble_preview .paper-title-box .title-text-box p {\n  margin: 0;\n  font-size: 11px;\n}\n@media screen and (max-width: 320px) {\n  .oralc_assemble_preview .paper-title-box .title-text-box .row {\n    padding: 0;\n    font-size: 14px;\n  }\n  .oralc_assemble_preview .paper-title-box .title-text-box .row .actual-score {\n    font-size: 14px;\n  }\n  .oralc_assemble_preview .paper-title-box .title-text-box .row .text-title {\n    font-size: 16px;\n    font-weight: 400;\n    color: #4A3C37;\n  }\n}\n@media screen and (min-width: 321px) and (max-width: 767px) {\n  .oralc_assemble_preview .paper-title-box .title-text-box .row {\n    font-size: 16px;\n  }\n  .oralc_assemble_preview .paper-title-box .title-text-box .row .actual-score {\n    font-size: 16px;\n  }\n  .oralc_assemble_preview .paper-title-box .title-text-box .row .text-title {\n    font-size: 18px;\n    font-weight: 400;\n    color: #4A3C37;\n  }\n}\n@media screen and (min-width: 768px) {\n  .oralc_assemble_preview .paper-title-box .title-text-box .row {\n    font-size: 20px;\n    margin: 10px;\n  }\n  .oralc_assemble_preview .paper-title-box .title-text-box .row .actual-score {\n    font-size: 20px;\n  }\n  .oralc_assemble_preview .paper-title-box .title-text-box .row .text-title {\n    font-size: 24px;\n    font-weight: 400;\n    color: #4A3C37;\n  }\n}\n.oralc_assemble_preview .paper-title-box .title-text-box .row .col {\n  padding: 5px;\n}\n.oralc_assemble_preview .paper-title-box .title-text-box .row .col .margin-right-setting {\n  margin-right: 16px;\n}\n.oralc_assemble_preview .paper-title-box .title-text-box .row .col .margin-left-setting {\n  margin-left: 16px;\n}\n.oralc_assemble_preview .paper-title-box .title-text-box .row .left-col {\n  text-align: right;\n}\n.oralc_assemble_preview .paper-title-box .title-text-box .row .right-col {\n  text-align: left;\n}\n.oralc_assemble_preview .big-q-setting {\n  min-height: 40px;\n  line-height: 40px;\n  color: #293d69;\n  padding-left: 10px;\n}\n.oralc_assemble_preview .big-q-setting .big-q-title {\n  font-size: 22px;\n  margin-bottom: -10px;\n  font-weight: 400;\n}\n.oralc_assemble_preview .big-q-setting .row span {\n  font-size: 15px;\n}\n.oralc_assemble_preview .image-type-question .question-content .smallq-title {\n  color: #293d69;\n  width: 100%;\n  position: relative;\n  text-align: left;\n  background-color: #accbf9;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  align-items: center;\n  -webkit-display: flex;\n  -webkit-justify-content: space-between;\n  -webkit-align-items: center;\n}\n@media screen and (max-width: 320px) {\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title {\n    line-height: 22px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .text-adapt {\n    max-width: 74%;\n    font-size: 16px;\n    vertical-align: middle;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .corrected-score {\n    color: #fe5345;\n    font-size: 16px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .actual-score {\n    font-size: 19px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .deserve-score {\n    font-size: 16px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .correct-icons img {\n    width: 16px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right {\n    padding-top: 1px;\n    min-width: 80px;\n    margin-right: 10px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right span {\n    margin-right: 10px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right img {\n    width: 17px;\n    height: 17px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right .savant-ans {\n    background-color: bisque;\n    border-radius: 8px;\n    padding: 2px 5px;\n    text-align: center;\n  }\n}\n@media screen and (min-width: 321px) and (max-width: 767px) {\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title {\n    line-height: 30px;\n    height: 30px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .corrected-score {\n    color: #fe5345;\n    font-size: 17px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .text-adapt {\n    font-size: 17px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .actual-score {\n    font-size: 17px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .deserve-score {\n    font-size: 17px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .correct-icons img {\n    width: 18px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right {\n    min-width: 120px;\n    margin-top: -2px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right span {\n    margin-right: 15px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right img {\n    width: 20px;\n    height: 20px;\n  }\n}\n@media screen and (min-width: 768px) {\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title {\n    line-height: 45px;\n    height: 45px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .text-adapt {\n    font-size: 20px;\n    vertical-align: middle;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .actual-score {\n    font-size: 22px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .deserve-score {\n    font-size: 22px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .correct-icons img {\n    width: 20px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right {\n    min-width: 200px;\n    margin-top: -2px;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right span {\n    margin-right: 10%;\n  }\n  .oralc_assemble_preview .image-type-question .question-content .smallq-title .img-align-right img {\n    width: 42px;\n    height: 42px;\n  }\n}\n.oralc_assemble_preview .image-type-question .question-content .smallq-title-first {\n  background: #accbf9;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  align-items: center;\n  -webkit-justify-content: space-between;\n  -webkit-align-items: center;\n}\n.oralc_assemble_preview .image-type-question .question-content .smallq-title-more {\n  margin-top: 2px;\n  background: #AEE3f8;\n}\n.oralc_assemble_preview .image-type-question .question-content .actual-score {\n  color: darkred;\n}\n.oralc_assemble_preview .image-type-question .question-content label {\n  font-size: 15px;\n  width: 100%;\n}\n.oralc_assemble_preview .image-type-question .question-content .title-for-add-q {\n  height: auto;\n  line-height: normal;\n}\n.oralc_assemble_preview .image-type-question .question-content .title-for-add-q .item {\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\n.oralc_assemble_preview .image-type-question .question-content .title-for-add-q .text-for-add-q {\n  color: #293d69;\n  margin-left: 0px;\n}\n.oralc_assemble_preview .image-type-question .question-content .title-for-add-q .img-for-add-q {\n  z-index: 100;\n  top: 20%;\n}\n.oralc_assemble_preview .image-type-question .question-content .title-for-add-q .img-for-add-q img {\n  width: 26px;\n  height: 26px;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt {\n  max-width: 100%;\n  height: 40px;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt .text-div-adapt-ion-checkbox {\n  display: none;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt .item-checkbox .checkbox {\n  position: absolute;\n  top: 50%;\n  right: 8px;\n  z-index: 3;\n  margin-top: 0px !important;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt label {\n  color: white;\n  padding: 0;\n  line-height: 40px;\n  background-color: #accbf9;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt label .item-content {\n  margin-left: 48px;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt label span {\n  font-size: 17px;\n  color: #293d69;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt .checkbox {\n  left: 0px;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt .checkbox input:checked + .checkbox-icon:before {\n  background-color: white;\n}\n.oralc_assemble_preview .image-type-question .question-content .text-div-adapt .checkbox input:checked + .checkbox-icon:after {\n  background-color: white;\n  border-color: #accbf9;\n}\n.oralc_assemble_preview .image-type-question .question-content .img-align-right {\n  text-align: right;\n  z-index: 100;\n  top: 0;\n}\n.oralc_assemble_preview .image-type-question .question-content .img-align-right img {\n  border-radius: 50%;\n}\n.oralc_assemble_preview .image-type-question .question-content .ques-content-input span unit {\n  color: #ff3b30;\n}\n.oralc_assemble_preview .smallq-title-first_knowledge {\n  background-color: #FDF4D0;\n  border-radius: 5px;\n  padding: 0 4px;\n}\n.oralc_assemble_preview .footer_box_main {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  height: 50px;\n}\n.oralc_assemble_preview .footer_box_main .footer_box_main_down {\n  display: flex;\n  justify-content: space-around;\n  display: -webkit-flex;\n  -webkit-justify-content: space-around;\n  width: 100%;\n}\n.oralc_assemble_preview .footer_box_main .footer_box_main_down .footer_click_btn {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  flex: 1;\n  -webkit-flex: 1;\n  height: 100%;\n}\n.oralc_assemble_preview .footer_box_main .footer_box_main_down .footer_click_btn img {\n  width: 22px;\n}\n.oralc_assemble_preview .footer_box_main .footer_box_main_down .footer_click_btn span {\n  margin: auto;\n  font-size: 12px;\n}\n.oralc_assemble_preview .display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.oralc_assemble_preview .com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\n",""])},5655:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,l,c,s,u,p,f,d,m,h,g,b,_,v,y,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=n(438),S=function(e){return e&&e.__esModule?e:{default:e}}(k),P=n(5644),T=(a=(0,P.Directive)({selector:"oralAssemblePaper",template:n(5656),styles:n(5657),replace:!0}),l=(0,P.View)("oral_assemble_paper",{url:"/oral_assemble_paper/:from/:urlFrom",template:"<oral-assemble-paper></oral-assemble-paper>"}),c=(0,P.Inject)("$scope","commonService","workPaperBankService","$ionicModal","$state","$ionicPopup","$ngRedux","oralAssemblePaperService","$rootScope"),s=(0,P.select)(function(e){return e.wr_textbooks}),u=(0,P.select)(function(e){return e.wr_selected_textbook[e.wl_selected_clazz.id]}),p=(0,P.select)(function(e){return e.compose_temp_oral_paper.tempPaperSetParams}),f=(0,P.select)(function(e){return e.compose_temp_oral_paper.selectBookText}),d=(0,P.select)(function(e){return e.wl_selected_clazz.teachingMaterial}),a(m=l(m=c((h=function(){function e(){var t=this;i(this,e),this.initCtrl=!1,this.Modal={},this.totalSelectQues={},r(this,"textbooks",g,this),r(this,"textbook",b,this),r(this,"localTotalSelectQues",_,this),r(this,"selectBookText",v,this),r(this,"teachingMaterial",y,this),this.getTextBookStatus="start",this.back=function(){return t.go("pub_work_type")},this.openModal=function(){return t.Modal.show()},this.closeModal=function(){return t.Modal.hide()},this.initModal()}return x(e,[{key:"initData",value:function(){var e=this;this.localTotalSelectQues||(this.totalSelectQues=[]),angular.forEach(this.localTotalSelectQues,function(t,n){e.totalSelectQues[t.tagId]=e.localTotalSelectQues[n]})}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){return e.initCtrl=!0}).then(function(){e.guideFlag=e.commonService.getSimulationClazzLocalData();var t=!0;e.guideFlag&&!e.guideFlag.hasPubedSimulationWork&&(t=!1),e.workPaperBankService.getTextbookList(function(n){n?(e.getTextBookStatus="success",e.textbook&&e.textbook.id?e.workPaperBankService.selectTextbook(e.textbook,t):e.workPaperBankService.selectTextbook(null,t)):e.getTextBookStatus="fail"},10)})}},{key:"getTextbooks",value:function(){var e=this;this.workPaperBankService.getTextbookList(function(t){t?(e.getTextBookStatus="success",e.textbook&&e.textbook.id?e.workPaperBankService.selectTextbook(e.textbook,flag):e.workPaperBankService.selectTextbook(null,flag)):e.getTextBookStatus="fail"},10)}},{key:"getTotalSelectNum",value:function(){var e=this;this.totalSelectNum=0,Object.keys(this.totalSelectQues).forEach(function(t){e.totalSelectNum+=Number(e.totalSelectQues[t].questionNum)})}},{key:"onAfterEnterView",value:function(){var e=this;this.teachingMaterial!=this.selectBookText?this.oralAssemblePaperService.clearPaperDate().then(function(t){e.initData(),e.totalSelectNum=0}):(this.initData(),this.getTotalSelectNum())}},{key:"onBeforeEnterView",value:function(){this.guideFlag=this.commonService.getSimulationClazzLocalData();this.guideFlag&&this.guideFlag.hasPubedSimulationWork}},{key:"initModal",value:function(){var e=this;this.$ionicModal.fromTemplateUrl("textbookSelect.html",{scope:this.getScope(),animation:"slide-in-up"}).then(function(t){return e.Modal=t}),this.getScope().$on("$destroy",function(){e.Modal.remove()})}},{key:"changeSelectNum",value:function(e,t,n){if("object"===(void 0===n?"undefined":w(n))&&n.stopPropagation?n.stopPropagation():event&&event.stopPropagation&&event.stopPropagation(),"add"==t){if(this.totalSelectNum>=100)return void this.commonService.alertDialog("一套试卷题量最多可选取100道题，先去组卷让学生练习吧!");if(this.totalSelectQues[e.id]){if(Number(this.totalSelectQues[e.id].questionNum)>=30)return void this.commonService.alertDialog("一个课时最多可选取30道题，从其他课时再添加一些题吧!");this.totalSelectQues[e.id].questionNum=Number(this.totalSelectQues[e.id].questionNum)+5}else this.totalSelectQues[e.id]={tagId:e.id,questionNum:5,includeQIds:[],selectedQIds:[]};this.totalSelectNum+=5}else{if(!this.totalSelectQues[e.id])return;if(Number(this.totalSelectQues[e.id].questionNum)<=0)return;this.totalSelectQues[e.id]&&(this.totalSelectQues[e.id].questionNum=Number(this.totalSelectQues[e.id].questionNum)-5,this.totalSelectQues[e.id].questionNum<0&&(this.totalSelectQues[e.id].questionNum=0)),this.totalSelectNum-=5,this.totalSelectNum<0&&(this.totalSelectNum=0),this.totalSelectQues[e.id].questionNum||delete this.totalSelectQues[e.id]}}},{key:"gotoMackPaper",value:function(){var e=this;if(!this.totalSelectNum)return void this.commonService.alertDialog("请先选择组卷的单元与题数");if(this.totalSelectNum>100)return void this.commonService.alertDialog("一套试卷题量最多可选取100道题");angular.forEach(Object.keys(this.totalSelectQues),function(t,n){0==e.totalSelectQues[t].questionNum&&delete e.totalSelectQues[t]});var t=Object.values(this.totalSelectQues);this.oralAssemblePaperService.getComposePaperQues(t).then(function(t,n){t?e.go("oral_assemble_preview"):e.commonService.showAlert("警告",n||"生成试卷失败")})}},{key:"hideAllData",value:function(){(0,S.default)(this.textbook.subTags,function(e){e.isOpened=!1})}},{key:"selectCurrentTextbook",value:function(e){this.workPaperBankService.selectTextbook(e,!0),this.closeModal()}},{key:"clickUnit",value:function(e,t){e.isOpened=!e.isOpened,e.isOpened&&(e.retFlag=!1,$(t.target).find("span").toggleClass("ion-chevron-down").toggleClass("ion-chevron-right"),this.guideFlag&&!this.guideFlag.hasPubedSimulationWork&&(this.currentStep=2))}},{key:"getHighLightEle",value:function(){if(2==this.currentStep)return void(this.currentShowEle=$(".lesson_bg").eq(1).parent());this.currentStep=1,this.currentShowEle=$(".unit_bg").eq(0)}}]),e}(),g=o(h.prototype,"textbooks",[s],{enumerable:!0,initializer:null}),b=o(h.prototype,"textbook",[u],{enumerable:!0,initializer:null}),_=o(h.prototype,"localTotalSelectQues",[p],{enumerable:!0,initializer:null}),v=o(h.prototype,"selectBookText",[f],{enumerable:!0,initializer:null}),y=o(h.prototype,"teachingMaterial",[d],{enumerable:!0,initializer:null}),m=h))||m)||m)||m);t.default=T},5656:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="pub_review_work ">\r\n\r\n    <ion-header-bar align-title="center" class="bar-balanced">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding-left: 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>\r\n            &nbsp;&nbsp;\r\n        </div>\r\n        <h1 class="title" ng-bind="\'口算比赛\'"></h1>\r\n\r\n        <div class="buttons">\r\n            <button class="button button-clear" ng-click="ctrl.hideAllData()">\r\n                <img ng-src="{{$root.loadImg(\'work/fold.png\')}}" alt="" class="common-help"/>\r\n            </button>\r\n        </div>\r\n\r\n    </ion-header-bar>\r\n\r\n    <ion-content overflow-scroll="true" class="">\r\n        <div style="width: 95%;margin: 10px auto" ng-if="ctrl.getTextBookStatus==\'fail\'">\r\n            <span> 未拉取到本册的单元课时，<a ng-click="ctrl.getTextbooks()">点击这里</a>再试一次吧~</span>\r\n        </div>\r\n        <div class="bank_content" ng-if="ctrl.getTextBookStatus==\'success\'">\r\n            <div class="list" ng-show="ctrl.textbook || (ctrl.guideFlag && !ctrl.guideFlag.hasPubedSimulationWork)"\r\n                 style="padding-bottom: 55px">\r\n                <div class="item item-divider item-for-img" ng-click="ctrl.openModal(\'标签\',1)">\r\n                    <img ng-src="{{$root.loadImg(\'work/work_material.png\')}}">\r\n                    <span ng-bind="ctrl.guideFlag && !ctrl.guideFlag.hasPubedSimulationWork ? \'人教版\' : ctrl.textbook.name "\r\n                          class="first-text"></span>\r\n                    <span style="margin-left: 5px;" class="icon ion-ios-arrow-right"></span>\r\n                </div>\r\n                <div ng-repeat="chapter in ctrl.textbook.subTags">\r\n                    <li class="item unit_bg " ng-click="ctrl.clickUnit(chapter,$event,$index)">\r\n                        <span class="icon "\r\n                              ng-class="chapter.isOpened?\'ion-chevron-down\':\'ion-chevron-right\'"\r\n                              style="font-weight: bold;margin-right: 5px">\r\n                        </span>{{chapter.text}}\r\n\r\n                    </li>\r\n\r\n                    <div class="list list_content_layout" style="margin-left: 10px;" ng-show="chapter.isOpened">\r\n                        <li class="item lesson_bg" ng-show="!chapter.subTags.length">本单元课时即将开放！</li>\r\n                        <div ng-repeat="unit in chapter.subTags">\r\n                            <li class="item lesson_bg">\r\n                                <span>{{unit.text}}</span>\r\n                                <div class="option-butn">\r\n                                    <div style="width: 24px">\r\n                                        <i class="ion-minus-circled"\r\n                                           ng-show="!!ctrl.totalSelectQues[unit.id]&&ctrl.totalSelectQues[unit.id].questionNum!=0"\r\n                                           ng-click="ctrl.changeSelectNum(unit,\'sub\',$event)"></i>\r\n                                    </div>\r\n                                    <div style="width: 22px">\r\n                                        <p ng-show="!!ctrl.totalSelectQues[unit.id]"\r\n                                           style="color: brown;font-size: 18px;font-weight: 600;"\r\n                                           ng-bind="ctrl.totalSelectQues[unit.id]&&ctrl.totalSelectQues[unit.id].questionNum"></p>\r\n                                    </div>\r\n                                    <div style="width: 24px">\r\n                                        <i class="ion-plus-circled"\r\n                                           ng-click="ctrl.changeSelectNum(unit,\'add\',$event)"\r\n                                           ng-show="!ctrl.totalSelectQues[unit.id]||ctrl.totalSelectQues[unit.id] && ctrl.totalSelectQues[unit.id].questionNum < 30"></i>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </li>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n    <div class="fooler_content" ng-if="ctrl.getTextBookStatus==\'success\'">\r\n        <span>\r\n            <p>已选</p>\r\n            <p ng-bind="ctrl.totalSelectNum" style="color: #FFFF00;font-weight: 800;margin: 0 5px;"></p>\r\n            <p>题</p>\r\n        </span>\r\n        <img ng-src="{{$root.loadImg(\'pub_work_type/pub_type_butn03.png\')}}" style="height: 35px"\r\n             ng-click="ctrl.gotoMackPaper()">\r\n    </div>\r\n\r\n    <loading-processing></loading-processing>\r\n    <script id="textbookSelect.html" type="text/ng-template">\r\n        <ion-modal-view class="work_paper_bank">\r\n            <ion-header-bar class="bar-balanced" align-title="center">\r\n                <button class="button buttons  button-clear header-item" ng-click="ctrl.closeModal()">\r\n                    <i class="icon ion-ios-arrow-back" style="padding-left: 10px"></i>\r\n                    &nbsp;&nbsp;\r\n                </button>\r\n                <h1 class="title" align-title="center">请选择教材</h1>\r\n            </ion-header-bar>\r\n            <ion-content class="bank_content" overflow-scroll="true">\r\n                <ul class="list">\r\n                    <div ng-repeat="version in ctrl.textbooks">\r\n                        <li class="item unit_bg" ng-click="version.isOpened = !version.isOpened">\r\n                        <span class="icon"\r\n                              ng-class="version.isOpened?\'ion-chevron-down\':\'ion-chevron-right\'"\r\n                              style="font-weight: bold;margin-right: 5px">\r\n                        </span>{{version.text}}\r\n                        </li>\r\n\r\n                        <div class="list" style="margin-left: 10px;" ng-show="version.isOpened">\r\n                            <div ng-repeat="book in version.subTags | filter:search">\r\n                                <li ng-click="ctrl.selectCurrentTextbook(book)" class="item lesson_bg item-for-img">\r\n                                    <img ng-src="{{$root.loadImg(\'work/work_material.png\')}}">\r\n                                    <span class="first-text" style="font-weight: bold;margin-right: 5px"></span>\r\n                                    {{book.text}}\r\n                                </li>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n            </ion-content>\r\n            <loading-processing></loading-processing>\r\n        </ion-modal-view>\r\n    <\/script>\r\n\r\n    <teaching-guide ng-if="ctrl.guideFlag && ctrl.guideFlag.isSameUser && !ctrl.guideFlag.hasPubedSimulationWork"\r\n                    current-show-ele="ctrl.currentShowEle"\r\n                    step-count="2"\r\n                    current-step="ctrl.currentStep"\r\n                    get-high-light-ele="ctrl.getHighLightEle()">\r\n    </teaching-guide>\r\n</ion-view>\r\n\r\n'},5657:function(e,t,n){var r=n(5658);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},5658:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,".pub_review_work .new-icon-title {\n  position: absolute;\n  right: 19px;\n  top: 1px;\n}\n.pub_review_work .new-icon {\n  position: absolute;\n  top: 13px;\n  left: 12px;\n  width: 28px;\n  height: 15px;\n}\n.pub_review_work .item-for-img {\n  margin: 10px auto;\n  color: #2e3969;\n  position: relative;\n}\n.pub_review_work .item-for-img img {\n  width: 30px;\n  position: absolute;\n}\n.pub_review_work .item-for-img .first-text {\n  margin-left: 36px;\n}\n.pub_review_work .content-img {\n  border-radius: 0px !important;\n  margin-right: 14px;\n}\n.pub_review_work .item {\n  border: none;\n}\n.pub_review_work .me_content ion-list .list .item:nth-child(odd) {\n  background: #FEFAF1;\n}\n.pub_review_work .me_content ion-list .item {\n  color: #4A3C37;\n  border: none;\n}\n.pub_review_work .me_content .content-left {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.pub_review_work .me_content .content-left p {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.pub_review_work .me_content .content-right {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.pub_review_work .me_content .content-right .right-main {\n  float: right;\n  text-align: center;\n  background: #FA7B75;\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  -webkit-border-radius: 15px;\n  line-height: 30px;\n}\n.pub_review_work .me_content .content-right .right-main i {\n  color: #fff;\n  font-size: 24px;\n}\n.pub_review_work .bank_content .common_sty {\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.pub_review_work .bank_content .list .unit_bg {\n  background: #B4D0ED;\n  margin-left: 13px;\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.pub_review_work .bank_content .list .lesson_bg {\n  background: #BEE7F1;\n  margin-left: 18px;\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.pub_review_work .bank_content .list .work_bg {\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n  margin-left: 23px;\n  background: #D2F7EF;\n  padding-left: 50px;\n}\n.pub_review_work .bank_content .list .work_bg img {\n  width: 30px;\n  position: absolute;\n  top: 6px;\n  left: 12px;\n  vertical-align: middle;\n}\n.pub_review_work .bank_content .list .list_content_layout {\n  position: relative;\n}\n.pub_review_work .bank_content .list .list_content_layout .option-butn {\n  position: absolute;\n  right: 5%;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.pub_review_work .bank_content .list .list_content_layout .option-butn i {\n  width: 24px;\n  font-size: 30px;\n  color: #367dda;\n}\n.pub_review_work .bank_content .list .list_content_layout .option-butn p {\n  width: 22px;\n  text-align: center;\n  overflow: visible;\n}\n.pub_review_work .bank_content .ion-chevron-down:before {\n  width: 18px;\n}\n.pub_review_work .bank_content .ion-chevron-right:before {\n  width: 18px;\n}\n.pub_review_work .fooler_content {\n  width: 100%;\n  height: 50px;\n  position: absolute;\n  bottom: 0;\n  background-color: #3F4A5A;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-around;\n  -webkit-justify-content: space-around;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.pub_review_work .fooler_content span {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.pub_review_work .fooler_content span p {\n  margin: 0;\n  font-size: 18px;\n  color: #ffffff;\n}\n.pub_review_work .fooler_content button {\n  border-radius: 12px;\n  height: 30px;\n  width: 80px;\n  border: none;\n  background-color: #91f086;\n  color: #34745C;\n}\n.pub_review_work .overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n",""])},5659:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var l,c,s,u,p,f,d,m,h,g,b,_,v,y,w,x,k,S,P,T,A,O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=n(4487),I=r(E),L=n(4485),z=r(L),R=n(5644),C=n(414),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),q=(l=(0,R.Directive)({selector:"pubOralAssemblePaper",template:n(5660),styles:n(5661),replace:!0}),c=(0,R.View)("pub_oral_assemble_paper",{url:"pub_oral_assemble_paper/:from/",template:"<pub-oral-assemble-paper></pub-oral-assemble-paper>"}),s=(0,R.Inject)("$scope","$ngRedux","$state","$log","$ionicHistory","$ionicPopup","$ionicModal","finalData","commonService","workManageService","$ionicActionSheet","$rootScope","oralAssemblePaperService"),u=(0,R.select)(function(e){return e.profile_user_auth.user.name}),p=(0,R.select)(function(e){return e.compose_temp_oral_paper.paperName}),f=(0,R.select)(function(e){return e.wl_selected_clazz.gradeName}),d=(0,R.select)(function(e){return e.compose_oral_multi_unit_paper}),m=(0,R.select)(function(e){return e.wr_selected_unit}),h=(0,R.select)(function(e){return e.compose_temp_oral_paper.tempPaperSetParams}),g=(0,R.select)(function(e){return e.profile_user_auth.user.userId}),b=(0,R.select)(function(e){return e.compose_temp_oral_paper.periodQuestionMapItems}),l(_=c(_=s((v=function(){function e(){o(this,e),i(this,"teacherName",y,this),i(this,"paperName",w,this),i(this,"selectedClazzGradeName",x,this),i(this,"bookMarkId",k,this),i(this,"selectUnit",S,this),i(this,"allSelectQues",P,this),i(this,"userId",T,this),i(this,"periodQuestionMapItems",A,this),this.isPubWorkSuccess=!1,this.contStr="立即布置",this.formData={},this.clazzList=[],this.assignee=[],this.startDateTime={},this.pubPaperSucceedFlag=!1,this.pubBtnDisabled=!1,this.isWin=3===this.commonService.judgeSYS(),this.isIos=2===this.commonService.judgeSYS(),this.isAndroid=1===this.commonService.judgeSYS(),this.fromStr=this.getStateService().params.from,this.initCtrl=!1,this.limitTime=0,this.defaultLimitTime=10,this.optionHandwrite=!0,this.limitTimeOptions=[],this.showSelectLimitTImeFlag=!1}return O(e,[{key:"initData",value:function(){var e=this;this.limitTimeOptions=j.range(61).slice(1),angular.forEach(this.limitTimeOptions,function(t,n){e.limitTimeOptions[n]=t+"分钟"})}},{key:"onAfterEnterView",value:function(){this.initData(),this.countQuesNum()}},{key:"countQuesNum",value:function(){var e=this,t=0;angular.forEach(this.allSelectQues,function(n,r){t+=e.allSelectQues[r].questionNum}),this.defaultLimitTime=t<30?10:t>=30&&t<50?20:t>=50&&t<80?30:45,this.limitTimeOptions[this.defaultLimitTime-1]="推荐时长"+this.limitTimeOptions[this.defaultLimitTime-1],this.limitTime=this.limitTimeOptions[this.defaultLimitTime-1]}},{key:"onBeforeLeaveView",value:function(){this.initCtrl=!1}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){return e.initCtrl=!0}).then(function(){e.workManageService.getPubClazzList().then(function(t){t&&t.length&&angular.forEach(t,function(t){t.className.indexOf(e.selectedClazzGradeName)>-1&&100==t.type&&e.clazzList.push(t)})})})}},{key:"checkSetTimeAndCurrentTime",value:function(e){return Number(new Date(e.year+"-"+e.mouth+"-"+e.date+" "+e.hour+":"+e.minutes).getTime())>=Number((new Date).getTime())+60}},{key:"minTimeSet",value:function(){if(!this.isWin){var e=$scope.formData.startTime;e&&new Date(e).getTime()<=(new Date).getTime()&&this.commonService.alertDialog("不符合预发布时间，已默认为“立即布置”",2e3)}}},{key:"showDateTime",value:function(){var e=(new Date).getTime();if(this.isWin){var t=this.getDateTime();t&&(e=new Date(t).getTime())}else{var n=this.formData.startTime;e=new Date(n).getTime()}var r="";return(!this.formData.startTime||this.formData.startTime&&e<=(new Date).getTime())&&(r="立即布置"),r}},{key:"getCurrentDateTimeStr",value:function(){var e=new Date,t="-";return this.isIos&&(t="/"),e.getFullYear()+t+(e.getMonth()+1)>9?e.getMonth()+1:"0"+(e.getMonth()+1)+t+e.getDate()>9?e.getDate():"0"+e.getDate()+" "+e.getHours()>9?e.getHours():"0"+e.getHours()+":"+e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes()}},{key:"getDateTime",value:function(){return!this.startDateTime||this.startDateTime&&!this.startDateTime.year?"":this.startDateTime.year+"-"+this.startDateTime.mouth+"-"+this.startDateTime.date+" "+this.startDateTime.hour+":"+this.startDateTime.minutes}},{key:"showShareMenu",value:function(){var e=this,t=this.teacherName,n=t+'老师在智算365已布置了作业"'+this.paperName+'"，抓紧去完成吧！';this.$ionicActionSheet.show({buttons:[{text:'<img class="weChat-share-img" src="'+z.default+'">通知到微信'},{text:'<img class="qq-share-img" src="'+I.default+'">通知到QQ'}],titleText:'<div>\n                    <div class="share-title">通知内容：</div>\n                        <div class="share-content">'+n+"</div>\n                    </div>",cancelText:"取消",buttonClicked:function(t){if(1==t&&(QQ.setOptions({appId:"1105576253",appName:"XiaoGou",appKey:"IaDN9O8abL0FJ6gT"}),QQ.share(n,"智算365通知","http://xuexiv.com/img/icon.png",e.finalData.GONG_ZHONG_HAO_QRIMG_URL,function(){e.commonService.showAlert("提示","通知成功！")},function(t){e.commonService.showAlert("提示",t)})),0==t){if(!e.getRootScope().weChatInstalled)return void e.commonService.showAlert("提示","没有安装微信！");Wechat.share({scene:Wechat.Scene.SESSION,message:{title:"智算365",description:n,thumb:"http://xuexiv.com/img/icon.png",mediaTagName:"TEST-TAG-001",messageExt:"这个字段没有用",messageAction:"<action>dotalist</action>",media:{type:Wechat.Type.WEBPAGE,webpageUrl:e.finalData.GONG_ZHONG_HAO_QRIMG_URL}}},function(){e.commonService.showAlert("提示","通知成功！")},function(t){e.commonService.showAlert("提示",t)})}return!0}})}},{key:"selectAll",value:function(e){if(e.isClicked){if(!e.studentCount)return this.commonService.alertDialog("该班还没有学生.",1500),void(e.isClicked=!1);for(var t in e.levelClick)e.levelClick[t].isClicked=!1}}},{key:"selectLevel",value:function(e){this.clazzList[e].isClicked=!1}},{key:"handleClazzPubStatus",value:function(e,t){var n=this;angular.forEach(e,function(e){for(var r=0;r<n.clazzList.length;r++){if("break"===function(r){if(n.clazzList[r].id===e.groupId)return t.CODE===n.finalData.PUB_CLAZZ_STATUS.SUCCESS.CODE?(n.clazzList[r].isClicked&&(n.clazzList[r].hasPubed=!0,n.clazzList[r].isClicked=!1,n.clazzList[r].hasPubedSuccess=!0,n.clazzList[r].code=t.CODE,n.clazzList[r].msg=t.MSG),angular.forEach(n.clazzList[r].levels,function(e,i){n.clazzList[r].levelClick[i].isClicked&&(n.clazzList[r].levelClick[i].isClicked=!1,n.clazzList[r].levelClick[i].hasPubedSuccess=!0,n.clazzList[r].levelClick[i].hasPubed=!0,n.clazzList[r].levelClick[i].code=t.CODE,n.clazzList[r].levelClick[i].msg=t.MSG)})):(n.clazzList[r].isClicked&&(n.clazzList[r].hasPubed=!0),n.clazzList[r].hasPubedSuccess||(n.clazzList[r].code=t.CODE,n.clazzList[r].msg=t.MSG),angular.forEach(n.clazzList[r].levels,function(e,i){n.clazzList[r].levelClick[i].isClicked&&(n.clazzList[r].levelClick[i].hasPubed=!0,n.clazzList[r].levelClick[i].code=t.CODE,n.clazzList[r].levelClick[i].msg=t.MSG)})),"break"}(r))break}})}},{key:"handlePubWork",value:function(e){var t=this,n=this.assignee[this.groupIndex],r=[];r.push(n);var i=angular.copy(e),o=function(){t.groupIndex===t.assignee.length-1?t.pubBtnDisabled=!1:(t.groupIndex++,t.handlePubWork(e))};i.assignee=JSON.stringify(r),this.workManageService.pubWork(i).then(function(e){if(200===e.code){t.isPubWorkSuccess=!0,t.pubPaperSucceedFlag=!0,t.oralAssemblePaperService.pubPaperSucceed(t.$ngRedux.dispatch,t.$ngRedux.getState);var n=e[r[0].groupId],i=200===n?t.finalData.PUB_CLAZZ_STATUS.SUCCESS:t.finalData.PUB_CLAZZ_STATUS.FAIL;t.handleClazzPubStatus(r,i)}else t.handleClazzPubStatus(r,t.finalData.PUB_CLAZZ_STATUS.FAIL),t.commonService.alertDialog(e.msg,2e3);o()},function(e){t.handleClazzPubStatus(r,t.finalData.PUB_CLAZZ_STATUS.FAIL),o()})}},{key:"pubStartTime",value:function(){var e=this;if(this.validateForm()){var t=this.formData.startTime||new Date,n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes();if(3===this.commonService.judgeSYS()){var r=this.getDateTime();r&&(n=r)}var i=0;this.limitTime&&(i=Number(this.limitTime.match(/\d+/)[0]));var o={};o.uId=this.userId,o.tagId=this.allSelectQues[this.allSelectQues.length-1].tagId,o.paperName=this.paperName,o.limitTime=i||this.defaultLimitTime;var a=[];angular.forEach(this.periodQuestionMapItems,function(t,n){angular.forEach(e.periodQuestionMapItems[n].questions,function(e,t){a.push(e.integrateQuestionItem.id)})}),o.qIds=JSON.stringify(a),this.oralAssemblePaperService.composePaper(o).then(function(t,r){t?e.handleConfirmBtnClick(n):e.commonService.showAlert("警告",r||"组卷失败")})}}},{key:"handleConfirmBtnClick",value:function(e){var t=this,n={bookMarkId:this.bookMarkId,publishType:6,paperName:this.paperName,startTime:e+":00",endTime:this.formData.endTime+":00"};n.bookMarkId=this.bookMarkId,n.paperName=this.paperName,n.publishType=this.optionHandwrite?11:10,(!this.formData.startTime&&!this.startDateTime||!this.formData.startTime&&this.startDateTime&&!this.startDateTime.year)&&delete n.startTime;var r=n.startTime.replace(/\-/g,"/");n.startTime&&new Date(r).getTime()<=(new Date).getTime()&&delete n.startTime,this.formData.endTime||delete n.endTime;this.commonService.showConfirm("信息提示","是否要布置？").then(function(e){e&&(t.groupIndex=0,t.pubBtnDisabled=!0,t.handleClazzPubStatus(t.assignee,t.finalData.PUB_CLAZZ_STATUS.PROCESSING),t.handlePubWork(n))})}},{key:"validateForm",value:function(){var e=this;return this.assignee.length=0,this.clazzList.forEach(function(t){var n=[],r={};if(t.isClicked)r.groupId=t.id,e.assignee.push(r);else{for(var i in t.levelClick)t.levelClick[i].isClicked&&n.push(i);n.length&&(r.groupId=t.id,r.levels=n.join(","),e.assignee.push(r))}}),!!this.assignee.length||(this.commonService.alertDialog("至少选择一个布置对象!",1500),!1)}},{key:"back",value:function(){this.selectUnit;this.pubPaperSucceedFlag?this.go("pub_work_type"):this.go("oral_assemble_preview")}},{key:"isShowIosShare",value:function(){return this.commonService.judgeAppVersion()}},{key:"showSelectDateTimeDiagnose",value:function(){3===this.commonService.judgeSYS()&&(this.getRootScope().selectDateTimeFlag=!0)}},{key:"changeHandWrite",value:function(){this.optionHandwrite?this.commonService.alertDialog("答题方式修改为手写输入",2500):this.commonService.alertDialog("答题方式修改为键盘输入",2500)}},{key:"selectLimitTime",value:function(e){}},{key:"showSelectLimitTime",value:function(){this.showSelectLimitTImeFlag=!this.showSelectLimitTImeFlag}},{key:"hideSelectLimitTime",value:function(){}}]),e}(),y=a(v.prototype,"teacherName",[u],{enumerable:!0,initializer:null}),w=a(v.prototype,"paperName",[p],{enumerable:!0,initializer:null}),x=a(v.prototype,"selectedClazzGradeName",[f],{enumerable:!0,initializer:null}),k=a(v.prototype,"bookMarkId",[d],{enumerable:!0,initializer:null}),S=a(v.prototype,"selectUnit",[m],{enumerable:!0,initializer:null}),P=a(v.prototype,"allSelectQues",[h],{enumerable:!0,initializer:null}),T=a(v.prototype,"userId",[g],{enumerable:!0,initializer:null}),A=a(v.prototype,"periodQuestionMapItems",[b],{enumerable:!0,initializer:null}),_=v))||_)||_)||_);t.default=q},5660:function(e,t){e.exports='<ion-view title="布置作业" hide-nav-bar="true" class="oral_work_pub_file">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"> </i>&nbsp;&nbsp;\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\'">布置作业</h1>\r\n    </ion-header-bar>\r\n    <ion-content padding="true">\r\n        <ng-form name="pubWorkForm" novalidate class="pub-content">\r\n            <div class="paper-title-wrap">\r\n                <span class="paper-name padding-better">作业名称:</span>\r\n                <span class="paper-title" ng-bind="ctrl.paperName"></span>\r\n            </div>\r\n            <div class="pub-conctroll-wrap">\r\n                <span class="pub-controll-name padding-better">发布时间：</span>\r\n                <div style="position: relative;min-width: 45%;">\r\n                    <input ng-if="!ctrl.isWin" type="datetime-local" name="subject"\r\n                           min="{{ctrl.getCurrentDateTimeStr()}}"\r\n                           ng-model="ctrl.formData.startTime"\r\n                           placeholder="立即布置"\r\n                           ng-change="ctrl.minTimeSet()"\r\n                           style="pointer-events:auto;background-color: rgba(220, 224, 255, 0.9);border: solid 1px #566093;border-radius: 0 !important;width: 100%;height:35px;line-height:35px"/>\r\n                    \x3c!--TODO 设置浮动在上面也可点击--\x3e\r\n                    <span ng-if="!!ctrl.showDateTime()&&!ctrl.isWin" style="pointer-events: none;"\r\n                          class="pub-right-now pub-right-now-win">\r\n                        立即布置\r\n                        <i class="ion-arrow-down-b"></i>\r\n                    </span>\r\n                    <p ng-if="ctrl.isWin" style="margin: 0;pointer-events:auto;"\r\n                       ng-bind="ctrl.checkSetTimeAndCurrentTime(ctrl.startDateTime)?ctrl.startDateTime.year+ \'-\' + ctrl.startDateTime.mouth+ \'-\' + ctrl.startDateTime.date+ \' \' + ctrl.startDateTime.hour+ \':\' + ctrl.startDateTime.minutes:\'立即布置\'"\r\n                       ng-click="ctrl.showSelectDateTimeDiagnose()"></p>\r\n                    <alr-select-date-time date-time="ctrl.startDateTime"></alr-select-date-time>\r\n                </div>\r\n\r\n            </div>\r\n            <div class="pub-conctroll-wrap">\r\n                <span class="pub-controll-name padding-better">比赛时长：</span>\r\n                <div style="position: relative;min-width: 45%;" class="limit-time">\r\n                    \x3c!-- <input placeholder="{{\'推荐用时\'+ctrl.defaultLimitTime+\'分钟 >\'}}" type="text" readonly="true"\r\n                            ng-bind="ctrl.limitTime?ctrl.limitTime+\'分钟\':\'推荐用时\'+ctrl.defaultLimitTime+\'分钟 >\'"\r\n                            ng-click="ctrl.showSelectLimitTime()" ng-blur="ctrl.hideSelectLimitTime()">\r\n                     <div class="select-limit-time" ng-if="ctrl.showSelectLimitTImeFlag">\r\n                         <p ng-repeat="t in ctrl.limitTimeOptions" ng-bind="t+\'分钟\'"\r\n                            ng-click="ctrl.selectLimitTime(t)"></p>\r\n                     </div>--\x3e\r\n                    \x3c!--ng-model="ctrl.limitTime"--\x3e\r\n                    <select ng-model="ctrl.limitTime"\r\n                            ng-options="item for item in ctrl.limitTimeOptions"\r\n                            ng-change="ctrl.selectLimitTime($event)" class="select-options">\r\n                    </select>\r\n                    \x3c!-- <select ng-model="ctrl.limitTime" ng-change="ctrl.selectLimitTime(item)" class="year_select">\r\n                         <option value="{{item}}" ng-repeat="item in ctrl.limitTimeOptions" ng-selected="ctrl.limitTime == item">\r\n                             {{item}}\r\n                         </option>\r\n                     </select>--\x3e\r\n                </div>\r\n\r\n            </div>\r\n            <div class="pub-conctroll-wrap">\r\n                <span class="pub-controll-name padding-better">答题方式：</span>\r\n                <div style="position: relative;min-width: 45%;" class="input-type">\r\n                    <ion-toggle ng-model="ctrl.optionHandwrite" ng-change="ctrl.changeHandWrite()">手写输入</ion-toggle>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="pub-list-wrap" style="margin-bottom: 60px">\r\n                <div class="item has-no-clazz" ng-show="!ctrl.clazzList || ctrl.clazzList.length<=0">布置作业前请先创建班级哦！</div>\r\n                <div class="pub-clazz-name-wrap padding-better">\r\n                    <span>选择布置对象：</span>\r\n                </div>\r\n                <div class="card card-better" ng-class="{\'clazz_margin_bottom_last\':$last}"\r\n                     ng-repeat="clazz in ctrl.clazzList track by $index" ng-init="idx=$index">\r\n                    <div class="clazz-name-wrap">\r\n                        <span class="clazz-name" ng-bind="clazz.name"></span>\r\n                    </div>\r\n                    <ion-checkbox ng-model="clazz.isClicked"\r\n                                  ng-click="clazz.hasPubedSuccess?\'\':ctrl.selectAll(clazz)"\r\n                                  ng-disabled="clazz.hasPubedSuccess?true:false">\r\n                        全班（{{clazz.studentCount}}人）- 包含所有层\r\n                        <span style="float: right;color: red"\r\n                              ng-if="clazz.hasPubed&&clazz.msg&&clazz.code!=2"\r\n                              ng-bind="clazz.msg">\r\n                        </span>\r\n                        <img ng-src="{{$root.loadImg(\'work/work_pub_succuss.png\')}}"\r\n                             ng-if="clazz.code===2"\r\n                             style="width: 70px;float: right;">\r\n                    </ion-checkbox>\r\n                    <ion-checkbox ng-repeat="(name,level) in clazz.levels"\r\n                                  ng-class="$even?\'clazz-even\':\'\'"\r\n                                  ng-model="clazz.levelClick[name].isClicked"\r\n                                  ng-click="clazz.levelClick[name].hasPubedSuccess?\'\':ctrl.selectLevel(idx)"\r\n                                  ng-disabled="clazz.levelClick[name].hasPubedSuccess?true:false"\r\n                                  ng-if="clazz.studentCount != level">\r\n                        {{name}}层（{{level}}人）\r\n                        <span style="float: right"\r\n                              ng-if="clazz.levelClick[name].hasPubed&&clazz.levelClick[name].msg&&clazz.levelClick[name].code!=2"\r\n                              ng-bind="clazz.levelClick[name].msg"\r\n                              style="color: red">\r\n                        </span>\r\n                        <img ng-src="{{$root.loadImg(\'work/work_pub_succuss.png\')}}"\r\n                             ng-if="clazz.levelClick[name].code===2"\r\n                             style="width: 70px;float: right;">\r\n                    </ion-checkbox>\r\n                </div>\r\n                <div class="pub-text-tip"\r\n                     ng-if="$root.platform.isMobile()&&$root.platform.IS_ANDROID&&$root.weChatPluginInstalled">\r\n                    作业布置成功后，可点击“通知”告诉学生和家长\r\n                </div>\r\n            </div>\r\n        </ng-form>\r\n    </ion-content>\r\n    <loading-processing></loading-processing>\r\n    <div class="bar bar-footer bar-balanced" ng-show="ctrl.clazzList && ctrl.clazzList.length>0">\r\n        <button class="button-clear bg-calm  bar-item"\r\n                ng-click="ctrl.pubStartTime()"\r\n                ng-disabled="ctrl.pubBtnDisabled"\r\n                ng-class="ctrl.pubBtnDisabled?\'btn-disabled-color\':\'\'">\r\n            <i class="icon ion-ios-paperplane">\r\n            </i>\r\n            布置\r\n        </button>\r\n        <button class="button-clear bg-calm  bar-item"\r\n                ng-click="ctrl.showShareMenu()"\r\n                ng-if="$root.platform.isMobile()&&$root.weChatPluginInstalled && ctrl.isShowIosShare()&&ctrl.isPubWorkSuccess">\r\n            \x3c!-- ng-if="$root.platform.isMobile()&&$root.platform.IS_ANDROID&&$root.weChatPluginInstalled">--\x3e\r\n            <i class="icon ion-aperture">\r\n            </i>\r\n            通知\r\n        </button>\r\n    </div>\r\n\r\n    \x3c!--  <teaching-guide ng-if="guideFlag && !guideFlag.isGuideAnimationEnd && guideFlag.isSameUser"\r\n                      current-show-ele="currentShowEle"\r\n                      step-count="2"\r\n                      current-step="currentStep"\r\n                      get-high-light-ele="getHighLightEle()">\r\n      </teaching-guide>--\x3e\r\n</ion-view>\r\n\r\n'},5661:function(e,t,n){var r=n(5662);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},5662:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n/*==============统一强制覆盖ionic样式Start==============*/\n.input-area {\n  display: inline-block !important;\n}\n.tab-item-active {\n  /*  color:#89B64B !important; */\n  color: #6B94D6 !important;\n}\n.bar-header {\n  background: #fff !important;\n  /*color: #fff !important;\n  background: #89B64B !important;*/\n}\n.bar .title {\n  color: #4A6B9D!important;\n}\n.bar-footer {\n  background: #5c6761 !important;\n  color: #fff!important;\n}\n.defined_bg {\n  background: #6B94D6 !important;\n  color: #fff !important;\n}\n.defined_bg_tint {\n  background: #A3B6DA !important;\n  color: #fff !important;\n}\n.item-divider {\n  /*background-color:#B8CFE4!important;*/\n  background-color: #fff !important;\n  font-size: 17px;\n  font-color: #6B94D6;\n  color: #6B94D6!important;\n  /*color:#233152!important;*/\n  /*margin: 10px auto;*/\n}\n.item-divider span {\n  margin-left: 5px;\n}\n/*==============强制覆盖ionic样式End==============*/\n/*==============公用样式Start==============*/\n.text-font-color {\n  color: #553333!important;\n}\n.text-align-left {\n  text-align: center;\n}\n.text-align-center {\n  text-align: center;\n}\n.text-align-right {\n  text-align: center;\n}\n.border-solid {\n  border: 1px solid;\n}\n.border-bottom-solid {\n  border-bottom: 1px solid;\n}\n.border-color {\n  border-color: #D7AD97;\n}\n.table-header-color {\n  background: #d2f7ef;\n}\n.table-tr-color,\n.row-color {\n  background: #fbf7db;\n}\n.ion-item-even {\n  background: #FFF;\n}\n.ion-item-odd {\n  background: #F3F3F3;\n}\n.work-correct-font {\n  font-weight: bold;\n  font-size: 19px;\n  color: #003366;\n}\n.button-color {\n  background: #5c6761 !important;\n  color: #fff!important;\n}\n.item-input-height {\n  height: 40px;\n}\n.item-input-height input {\n  font-size: 18px;\n  color: #553333!important;\n}\n.content-font-color h2,\n.content-font-color p {\n  color: #553333!important;\n}\n.theme-color {\n  color: #6B94D6;\n}\n.pull-icon {\n  color: #6B94D6;\n  font-size: 30px;\n  position: absolute;\n  right: 0;\n  bottom: 0px;\n}\n.card-better {\n  border-radius: 10px;\n  box-shadow: 0px 0px 18px #D0C4C4;\n  padding-bottom: 0px;\n  padding-top: 0px;\n}\n.card-better .card-title {\n  color: #273A43;\n  background: #D2F7EF;\n}\n.card-better .card-body {\n  color: #4a3c37;\n}\n.list-even {\n  background: #FDF8EE;\n}\n.small_q_bg {\n  background: #daf5fe;\n}\n.small_q_bg .q-context {\n  color: #17233e;\n  margin-top: 20px;\n}\n/*===========弹出框样式====================*/\n.popup-container .popup {\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n}\n.popup-container .popup .popup-head {\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  -webkit-border-top-left-radius: 10px;\n  -webkit-border-top-right-image: 10px;\n  background: #6B94D6 !important;\n}\n.popup-container .popup .popup-head .popup-title {\n  color: #fff;\n  font-size: 16px;\n}\n.popup-container .popup .popup-buttons .button {\n  background: #58D152 !important;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  border-color: #58D152 !important;\n  color: #fff;\n}\n/*==============统一强制覆盖ionic样式End==============*/\n.scrollToTop {\n  height: 48px;\n  width: 48px;\n  position: fixed;\n  bottom: 15%;\n  right: 5%;\n  z-index: 1000;\n  display: none;\n  opacity: 0.6;\n  background: url("+n(4666)+') no-repeat;\n}\n/*==================公共图标样式=======================*/\n.common-help {\n  width: 30px;\n  border-radius: 15px;\n}\n.common-help-tip {\n  width: 24px;\n  border-radius: 15px;\n  /* margin-top: 0px; */\n  position: absolute;\n  top: 22px;\n  left: 36px;\n}\n.btn-disabled-color {\n  color: #C7B7B7!important;\n}\nh1.title {\n  overflow: hidden;\n}\n.circle-input-area {\n  border-radius: 50%!important;\n}\n.pane[hide-nav-bar="true"] .has-tabs-top {\n  top: 0px;\n}\nion-header-bar .button i,\nion-header-bar .title {\n  color: #4a6b9d;\n}\n.common-back-btn {\n  width: 50px;\n  text-align: left;\n}\n.common-help-tip-wrap {\n  border-radius: 8px;\n  margin: 20px 10px 0px 10px;\n  background-color: #ffffff;\n}\n.common-help-tip-wrap .common-help-bar {\n  color: #838E92;\n  font-size: 15px;\n  text-align: left;\n  margin: 0;\n  padding: 5px 10px;\n}\n.common-help-tip-wrap .common-help-bar .common-help-bar-icon {\n  margin-right: 10px;\n  color: #F26691;\n  font-size: 25px;\n  vertical-align: sub;\n}\n.oral_work_pub_file .clazz_margin_bottom {\n  margin-bottom: 15px;\n}\n.oral_work_pub_file .clazz_margin_bottom_last {\n  margin-bottom: 20px;\n}\n.oral_work_pub_file .padding-better {\n  padding-left: 10px;\n}\n.oral_work_pub_file .pub-content {\n  padding-top: 20px;\n  font-size: 17px;\n  color: #293d69;\n  background-color: #E9EDF3;\n}\n.oral_work_pub_file .pub-content .paper-title-wrap {\n  height: 55px;\n  line-height: 55px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.oral_work_pub_file .pub-content .paper-title-wrap .paper-name {\n  float: left;\n}\n.oral_work_pub_file .pub-content .paper-title-wrap .paper-title {\n  text-align: center;\n}\n.oral_work_pub_file .pub-content .pub-conctroll-wrap {\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  box-shadow: 2px 2px 0px #aaaaaa;\n  height: 55px;\n  line-height: 55px;\n  padding-right: 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n  margin: 10px 0;\n}\n.oral_work_pub_file .pub-content .pub-conctroll-wrap select {\n  height: 50px;\n  float: right;\n  border: none;\n  width: 100%;\n  font-size: 16px;\n  color: #293d69;\n  background-color: #ffffff;\n}\n.oral_work_pub_file .pub-content .pub-conctroll-wrap .limit-time input {\n  color: #444444;\n}\n.oral_work_pub_file .pub-content .pub-conctroll-wrap .limit-time .select-limit-time {\n  position: absolute;\n  top: 40px;\n  right: 5px;\n  width: 180px;\n  max-height: 200px;\n  overflow-y: scroll;\n  background-color: #e0e4e4;\n  text-align: center;\n  border-radius: 5px;\n}\n.oral_work_pub_file .pub-content .pub-conctroll-wrap .pub-right-now {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  pointer-events: none;\n  width: 100%;\n  height: 35px;\n  line-height: 35px;\n  background-color: #fff;\n  border: solid 1px #566093;\n  border-left: solid 2px #566093;\n  border-right: solid 2px #566093;\n}\n.oral_work_pub_file .pub-content .pub-conctroll-wrap .pub-right-now-win {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.oral_work_pub_file .pub-content .pub-conctroll-wrap .input-type .item {\n  padding: 0px !important;\n  border: none !important;\n  background-color: inherit !important;\n}\n.oral_work_pub_file .pub-content .pub-list-wrap .has-no-clazz {\n  margin-top: 20px;\n}\n.oral_work_pub_file .pub-content .pub-list-wrap .item {\n  border: none;\n}\n.oral_work_pub_file .pub-content .pub-list-wrap .clazz-even {\n  background-color: #FEFAF1;\n}\n.oral_work_pub_file .pub-content .pub-list-wrap .pub-clazz-name-wrap {\n  height: 40px;\n  line-height: 40px;\n  margin-top: 20px;\n}\n.oral_work_pub_file .pub-content .pub-list-wrap .clazz-name-wrap {\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  background-color: #aff1e1;\n}\n',""])},5663:function(e,t,n){"use strict";n(5664)},5664:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var o,a,l,c,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(5644),f=n(5647),d=n(283),m=(o=(0,p.Service)("oralAssemblePaperService"),a=(0,p.Inject)("$q","workPublish4Interface","commonService","$ngRedux"),o(l=a((c=function(){function e(){r(this,e)}return u(e,[{key:"parseQuestion",value:function(e){e.forEach(function(e){e.inputList=[];var t=function(e){return e==d.VERTICAL_CALC_SCOREPOINT_TYPE||e==d.VERTICAL_ERROR_SCOREPOINT_TYPE||e==d.VERTICAL_FILLBLANKS_SCOREPOINT_TYPE},n=function(t){t.scorePoints.forEach(function(n){var r={};r.spList=[],n.referInputBoxes.forEach(function(e){var i=e.uuid,o=null,a=function(e){var t=null;return Object.keys(e).forEach(function(n){"preset"!=n&&e[n]instanceof Array&&(t={verticalId:n,matrix:e[n]})}),t};if(e.info)r.spList.push({inputBoxUuid:i,scorePointId:n.uuid,currentQSelectItem:e.info.selectItem});else{var l=t.vfMatrix;if(l&&l.length)l.forEach(function(e){e.preset&&(o=a(e))}),l.forEach(function(e){if(e[i]){var a={inputBoxUuid:i,scorePointId:n.uuid,matrix:e[i],type:t.type};o&&o.matrix&&o.matrix.length&&(a.presetMatrixInfo=o),r.spList.push(a)}});else{var c={inputBoxUuid:i,scorePointId:n.uuid,type:t.type};r.spList.push(c)}}}),e.inputList.push(r)})};JSON.parse(e.answerKey).forEach(function(e){t(e.type)&&n(e)})})}},{key:"getComposePaperQues",value:function(e,t){var n=this,r={tempPaperSetParams:JSON.stringify(e),qReplaceMode:1};return function(e,t){var i=n.$q.defer();return e({type:f.PUB_ORAL_WORK_DIFF_UNIT.FETCH_TEMP_ORAL_PAPER_QUES_START}),n.commonService.commonPost(n.workPublish4Interface.GET_TEMP_ORAL_PAPER_QUES,r).then(function(r){if(200===r.code){var o=r.periodQuestionMapItems,a=[];angular.forEach(o,function(e,t){a[t]||(a[t]={}),a[t].tagId=o[t].periodTagId,a[t].periodTagName=o[t].periodTagName,a[t].includeQIds=[],a[t].selectedQIds=[],a[t].questionNum=o[t].questions.length,angular.forEach(o[t].questions,function(e,t){e.referAnswer&&"object"!=s(e.referAnswer)?e.referAnswer=JSON.parse(e.referAnswer):e.referAnswer=e.referAnswer}),n.parseQuestion(o[t].questions)}),e({type:f.PUB_ORAL_WORK_DIFF_UNIT.FETCH_TEMP_ORAL_PAPER_QUES_SUCCESS,payload:{selectBookText:t().wl_selected_clazz.teachingMaterial,setParams:a,periodQuestionMapItems:o,paperName:r.paperName}}),i.resolve(!0)}else e({type:f.PUB_ORAL_WORK_DIFF_UNIT.FETCH_TEMP_ORAL_PAPER_QUES_FAIL}),i.resolve(!1,r.msg)},function(t){e({type:f.PUB_ORAL_WORK_DIFF_UNIT.FETCH_TEMP_ORAL_PAPER_QUES_FAIL}),i.resolve(!1)}),i.promise}}},{key:"composePaper",value:function(e){var t=this;return function(n,r){var i=t.$q.defer();return n({type:f.PUB_ORAL_WORK_DIFF_UNIT.COMPOSE_ORAL_MULTI_UNIT_PAPER_START}),t.commonService.commonPost(t.workPublish4Interface.GET_ORAL_MULTI_UNITS_PAPER,e).then(function(e){200===e.code?(n({type:f.PUB_ORAL_WORK_DIFF_UNIT.COMPOSE_ORAL_MULTI_UNIT_PAPER_SUCCESS,payload:{paper:e.paper}}),i.resolve(!0)):(n({type:f.PUB_ORAL_WORK_DIFF_UNIT.COMPOSE_ORAL_MULTI_UNIT_PAPER_FAIL}),i.resolve(!1,e.msg))},function(e){n({type:f.PUB_ORAL_WORK_DIFF_UNIT.COMPOSE_ORAL_MULTI_UNIT_PAPER_FAIL}),i.resolve(!1)}),i.promise}}},{key:"deleteSelectQues",value:function(e,t){var n=this;return function(r,i){var o=n.$q.defer();return r({type:f.PUB_ORAL_WORK_DIFF_UNIT.CHANGE_ORAL_PAPER_SET_PARAMS,payload:{setParams:e,periodQuestionMapItems:t}}),o.resolve(!0),o.promise}}},{key:"changePaperName",value:function(e){return function(t,n){t({type:f.PUB_ORAL_WORK_DIFF_UNIT.CHANGE_ORAL_PAPER_NAME,payload:{paperName:e}})}}},{key:"pubPaperSucceed",value:function(){return function(e,t){e({type:f.PUB_ORAL_WORK_DIFF_UNIT.CHANGE_ORAL_PAPER_SET_PARAMS,payload:{setParams:[],periodQuestionMapItems:[]}})}}},{key:"clearPaperDate",value:function(){var e=this;return function(t,n){var r=e.$q.defer();return t({type:f.PUB_ORAL_WORK_DIFF_UNIT.CHANGE_ORAL_PAPER_SET_PARAMS,payload:{setParams:[],periodQuestionMapItems:[],tempPaperSetParams:"",paperName:""}}),r.resolve(!0),r.promise}}}]),e}(),i(c.prototype,"getComposePaperQues",[p.actionCreator],Object.getOwnPropertyDescriptor(c.prototype,"getComposePaperQues"),c.prototype),i(c.prototype,"composePaper",[p.actionCreator],Object.getOwnPropertyDescriptor(c.prototype,"composePaper"),c.prototype),i(c.prototype,"deleteSelectQues",[p.actionCreator],Object.getOwnPropertyDescriptor(c.prototype,"deleteSelectQues"),c.prototype),i(c.prototype,"changePaperName",[p.actionCreator],Object.getOwnPropertyDescriptor(c.prototype,"changePaperName"),c.prototype),i(c.prototype,"pubPaperSucceed",[p.actionCreator],Object.getOwnPropertyDescriptor(c.prototype,"pubPaperSucceed"),c.prototype),i(c.prototype,"clearPaperDate",[p.actionCreator],Object.getOwnPropertyDescriptor(c.prototype,"clearPaperDate"),c.prototype),l=c))||l)||l);t.default=m},5665:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i,o,a=n(5644);(i=(0,a.Constant)("workPublish4Interface",{GET_TEMP_ORAL_PAPER_QUES:"/rqb/question/getQuestionListForTempRapidPaper",GET_ORAL_MULTI_UNITS_PAPER:"/pqb/api/paper/multiUnits/saveRapidPaper"}))(o=function e(){r(this,e)})}});