webpackJsonp([16],{0:function(e,t,n){"use strict";n(2399),n(2409),n(2410),n(2400),n(2411),n(2415),n(2419),n(2423),n(2427),n(2431),n(2435),n(2439),n(2443),n(2447),n(2451),n(2455),n(2459),n(2463)},151:function(e,t,n){var r,r;(function(t){!function(t){e.exports=t()}(function(){return function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof r&&r;if(!l&&c)return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,r){(function(e){"use strict";function t(){u=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}u=!1}function r(e){1!==d.push(e)||u||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(t),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),i=function(){l.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(t,0)};else{var c=new e.MessageChannel;c.port1.onmessage=t,i=function(){c.port2.postMessage(0)}}var u,d=[];n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,e!==r&&l(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){v(function(){var r;try{r=t(n)}catch(t){return h.reject(e,t)}r===e?h.reject(e,new TypeError("Cannot resolve promise with itself")):h.resolve(e,r)})}function s(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){o||(o=!0,h.reject(e,t))}function r(t){o||(o=!0,h.resolve(e,t))}function i(){t(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function u(e){return e instanceof this?e:h.resolve(new this(r),e)}function d(e){var t=new this(r);return h.reject(t,e)}function p(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,l=new this(r);++s<n;)!function(e,r){function s(e){o[r]=e,++a!==n||i||(i=!0,h.resolve(l,o))}t.resolve(e).then(s,function(e){i||(i=!0,h.reject(l,e))})}(e[s],s);return l}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,a=new this(r);++o<n;)!function(e){t.resolve(e).then(function(e){i||(i=!0,h.resolve(a,e))},function(e){i||(i=!0,h.reject(a,e))})}(e[o]);return a}var v=e(1),h={},g=["REJECTED"],m=["FULFILLED"],b=["PENDING"];t.exports=n=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==b){a(n,this.state===m?e:t,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){h.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){h.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},h.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return h.reject(e,n.value);var r=n.value;if(r)l(e,r);else{e.state=m,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},h.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},n.resolve=u,n.reject=d,n.all=p,n.race=f},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}function o(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function l(e){return new oe(function(t){var n=e.transaction(ae,"readwrite"),r=i([""]);n.objectStore(ae).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function c(e){return"boolean"==typeof re?oe.resolve(re):l(e).then(function(e){return re=e})}function u(e){var t=ie[e.name],n={};n.promise=new oe(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function d(e){var t=ie[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function p(e,t){return new oe(function(n,r){if(e.db){if(!t)return n(e.db);u(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=ne.open.apply(ne,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(ae)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),d(e)}})}function f(e){return p(e,!1)}function v(e){return p(e,!0)}function h(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function g(e){return new oe(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function m(e){return i([s(atob(e.data))],{type:e.type})}function b(e){return e&&e.__local_forage_encoded_blob}function y(e){var t=this,n=t._initReady().then(function(){var e=ie[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(n,e,e),n}function x(e){function t(){return oe.resolve()}var n=this,r={db:null};if(e)for(var i in e)r[i]=e[i];ie||(ie={});var o=ie[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},ie[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=y);for(var a=[],s=0;s<o.forages.length;s++){var l=o.forages[s];l!==n&&a.push(l._initReady().catch(t))}var c=o.forages.slice(0);return oe.all(a).then(function(){return r.db=o.db,f(r)}).then(function(e){return r.db=e,h(r,n._defaultConfig.version)?v(r):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<c.length;t++){var i=c[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})}function _(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new oe(function(t,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=o.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),b(e)&&(e=m(e)),t(e)},a.onerror=function(){r(a.error)}}).catch(r)});return o(r,t),r}function w(e,t){var n=this,r=new oe(function(t,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=o.openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;b(r)&&(r=m(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}).catch(r)});return o(r,t),r}function k(e,t,n){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new oe(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===se.call(t)?c(o.db).then(function(e){return e?t:g(t)}):t}).then(function(t){var r=o.db.transaction(o.storeName,"readwrite"),a=r.objectStore(o.storeName),s=a.put(t,e);null===t&&(t=void 0),r.oncomplete=function(){void 0===t&&(t=null),n(t)},r.onabort=r.onerror=function(){var e=s.error?s.error:s.transaction.error;i(e)}}).catch(i)});return o(i,n),i}function S(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new oe(function(t,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readwrite"),a=o.objectStore(i.storeName),s=a.delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}).catch(r)});return o(r,t),r}function I(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readwrite"),o=i.objectStore(r.storeName),a=o.clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}).catch(n)});return o(n,e),n}function C(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}).catch(n)});return o(n,e),n}function T(e,t){var n=this,r=new oe(function(t,r){if(e<0)return void t(null);n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=!1,s=o.openCursor();s.onsuccess=function(){var n=s.result;if(!n)return void t(null);0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e))},s.onerror=function(){r(s.error)}}).catch(r)});return o(r,t),r}function P(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.openCursor(),a=[];o.onsuccess=function(){var t=o.result;if(!t)return void e(a);a.push(t.key),t.continue()},o.onerror=function(){n(o.error)}}).catch(n)});return o(n,e),n}function O(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=ce.indexOf(e[t]),r=ce.indexOf(e[t+1]),i=ce.indexOf(e[t+2]),o=ce.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}function E(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=ce[n[t]>>2],r+=ce[(3&n[t])<<4|n[t+1]>>4],r+=ce[(15&n[t+1])<<2|n[t+2]>>6],r+=ce[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function L(e,t){var n="";if(e&&(n=Ce.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Ce.call(e.buffer))){var r,i=pe;e instanceof ArrayBuffer?(r=e,i+=ve):(r=e.buffer,"[object Int8Array]"===n?i+=ge:"[object Uint8Array]"===n?i+=me:"[object Uint8ClampedArray]"===n?i+=be:"[object Int16Array]"===n?i+=ye:"[object Uint16Array]"===n?i+=_e:"[object Int32Array]"===n?i+=xe:"[object Uint32Array]"===n?i+=we:"[object Float32Array]"===n?i+=ke:"[object Float64Array]"===n?i+=Se:t(new Error("Failed to get type for BinaryArray"))),t(i+E(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=ue+e.type+"~"+E(this.result);t(pe+he+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function $(e){if(e.substring(0,fe)!==pe)return JSON.parse(e);var t,n=e.substring(Ie),r=e.substring(fe,Ie);if(r===he&&de.test(n)){var o=n.match(de);t=o[1],n=n.substring(o[0].length)}var a=O(n);switch(r){case ve:return a;case he:return i([a],{type:t});case ge:return new Int8Array(a);case me:return new Uint8Array(a);case be:return new Uint8ClampedArray(a);case ye:return new Int16Array(a);case _e:return new Uint16Array(a);case xe:return new Int32Array(a);case we:return new Uint32Array(a);case ke:return new Float32Array(a);case Se:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function j(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new oe(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){r(t)})})});return n.serializer=Te,i}function z(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new oe(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function D(e,t){var n=this,r=new oe(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function A(e,t,n,r){var i=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=new oe(function(o,a){i.ready().then(function(){void 0===t&&(t=null);var s=t,l=i._dbInfo;l.serializer.serialize(t,function(t,c){c?a(c):l.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){o(s)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(A.apply(i,[e,s,n,r-1]));a(t)}})})}).catch(a)});return o(a,n),a}function R(e,t,n){return A.apply(this,[e,t,n,1])}function F(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new oe(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function N(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return o(n,e),n}function M(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return o(n,e),n}function W(e,t){var n=this,r=new oe(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return o(r,t),r}function Q(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return o(n,e),n}function B(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=n.name+"/",n.storeName!==t._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),t._dbInfo=n,n.serializer=Te,oe.resolve()}function q(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return o(n,e),n}function V(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return o(r,t),r}function U(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),a++)))return c}}});return o(r,t),r}function H(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return o(r,t),r}function G(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++)0===localStorage.key(i).indexOf(e.keyPrefix)&&r.push(localStorage.key(i).substring(e.keyPrefix.length));return r});return o(n,e),n}function K(e){var t=this,n=t.keys().then(function(e){return e.length});return o(n,e),n}function Y(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return o(r,t),r}function X(e,t,n){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new oe(function(i,o){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})});return o(i,n),i}function J(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function Z(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ae(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function ee(e){for(var t in Le)if(Le.hasOwnProperty(t)&&Le[t]===e)return!0;return!1}var te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}();"undefined"==typeof Promise&&e(3);var re,ie,oe=Promise,ae="local-forage-detect-blob-support",se=Object.prototype.toString,le={_driver:"asyncStorage",_initStorage:x,iterate:w,getItem:_,setItem:k,removeItem:S,clear:I,length:C,key:T,keys:P},ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ue="~~local_forage_type~",de=/^~~local_forage_type~([^~]+)~/,pe="__lfsc__:",fe=pe.length,ve="arbf",he="blob",ge="si08",me="ui08",be="uic8",ye="si16",xe="si32",_e="ur16",we="ui32",ke="fl32",Se="fl64",Ie=fe+ve.length,Ce=Object.prototype.toString,Te={serialize:L,deserialize:$,stringToBuffer:O,bufferToString:E},Pe={_driver:"webSQLStorage",_initStorage:j,iterate:D,getItem:z,setItem:R,removeItem:F,clear:N,length:M,key:W,keys:Q},Oe={_driver:"localStorageWrapper",_initStorage:B,iterate:U,getItem:V,setItem:X,removeItem:Y,clear:q,length:K,key:H,keys:G},Ee={},Le={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},$e=[Le.INDEXEDDB,Le.WEBSQL,Le.LOCALSTORAGE],je=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],ze={description:"",driver:$e.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},De={};De[Le.INDEXEDDB]=function(){try{if(!ne)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),De[Le.WEBSQL]=function(){return"function"==typeof openDatabase}(),De[Le.LOCALSTORAGE]=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}();var Ae=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Re=function(){function e(t){r(this,e),this.INDEXEDDB=Le.INDEXEDDB,this.LOCALSTORAGE=Le.LOCALSTORAGE,this.WEBSQL=Le.WEBSQL,this._defaultConfig=Z({},ze),this._config=Z({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":te(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new oe(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),o=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(i);if(ee(e._driver))return void n(o);for(var a=je.concat("_initStorage"),s=0;s<a.length;s++){var l=a[s];if(!l||!e[l]||"function"!=typeof e[l])return void n(i)}var c=oe.resolve(!0);"_support"in e&&(c=e._support&&"function"==typeof e._support?e._support():oe.resolve(!!e._support)),c.then(function(n){De[r]=n,Ee[r]=e,t()},n)}catch(e){n(e)}});return a(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=this,i=oe.resolve().then(function(){if(!ee(e)){if(Ee[e])return Ee[e];throw new Error("Driver not found.")}switch(e){case r.INDEXEDDB:return le;case r.LOCALSTORAGE:return Oe;case r.WEBSQL:return Pe}});return a(i,t,n),i},e.prototype.getSerializer=function(e){var t=oe.resolve(Te);return a(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return a(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){s._config.driver=s.driver()}function i(e){return s._extend(e),r(),s._ready=s._initStorage(s._config),s._ready}function o(e){return function(){function t(){for(;n<e.length;){var o=e[n];return n++,s._dbInfo=null,s._ready=null,s.getDriver(o).then(i).catch(t)}r();var a=new Error("No available storage method found.");return s._driverSet=oe.reject(a),s._driverSet}var n=0;return t()}}var s=this;Ae(e)||(e=[e]);var l=this._getSupportedDrivers(e),c=null!==this._driverSet?this._driverSet.catch(function(){return oe.resolve()}):oe.resolve();return this._driverSet=c.then(function(){var e=l[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then(function(e){s._driver=e._driver,r(),s._wrapLibraryMethodsWithReady(),s._initDriver=o(l)})}).catch(function(){r();var e=new Error("No available storage method found.");return s._driverSet=oe.reject(e),s._driverSet}),a(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!De[e]},e.prototype._extend=function(e){Z(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<je.length;e++)J(this,je[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),Fe=new Re;t.exports=Fe},{3:3}]},{},[4])(4)})}).call(t,function(){return this}())},171:function(e,t,n){"use strict";function r(e,t,n){w=e,t&&(k=t),n&&(S=n);var r=angular.element("body").injector(),i=r.get("$rootScope"),o=r.get("$ngRedux");k&&n?o?o.mergeReducer(k,S).then(function(){console.log(e.name+"-storeReady!!!!!!!!!!"),i.$$listeners[e.name+"-storeReady"]?i.$broadcast(e.name+"-storeReady"):i[e.name+"-storeReady"]=!0}):(console.error("$ngRedux not found!"),i[e.name+"-storeReady"]=!0):i[e.name+"-storeReady"]=!0}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){function n(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return I(t,e,r),e.$inject=t,e.instance=new(Function.prototype.bind.apply(e,[null].concat(r))),e.instance}return n.prototype=e.prototype,n.$inject=t,n}}function o(e,t){return function(n){var r=function(e){return e.targetScope.ctrl},i=function(e,t){Object.keys(t).concat(Object.getOwnPropertyNames(t.__proto__)).forEach(function(n){if("constructor"!==n)if(e[n])if(angular.isFunction(e[n])&&angular.isFunction(t[n])){var r=e[n];e[n]=function(){var e=this,i=arguments;r.call(this,arguments).then(function(){t[n].call(e,i)})}}else e[n]=t[n];else e[n]=t[n]})};w.run(["$rootScope","$injector",function(o,a){o.$on("$ionicView.loaded",function(o,s){if(s.stateName===e){var l=r(o),c=new n;t.inject&&t.inject.length&&t.inject.forEach(function(e){c[e]=a.get(e)}),i(l,c)}})}])}}function a(e,t){return function(n){function r(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];t.inject&&t.inject.length&&I(t.inject,n,r);var o=new(Function.prototype.bind.apply(n,[null].concat(r)));o.selectorList=o.selectorList?o.selectorList:[];var a=function(){},s={initFlags:a,initData:a,mapStateToThis:a,mapActionToThis:a,componentWillReceiveProps:a,onBeforeEnterView:a,onAfterEnterView:a,onBeforeLeaveView:a,onLoadedView:a,onUpdate:a,configDataPipe:a,onReceiveProps:a},l={viewEntered:!1,hasPageRefreshManger:!1,dataPipe:new g.default},c=a,u=a;Object.keys(s).forEach(function(e){o[e]||(o[e]=s[e])}),Object.assign(o,l),o.configDataPipe(),o.mapStateObj={selectorList:o.selectorList,mapStateToThis:o.mapStateToThis};var d=o.getScope();if(!d)throw new Error('$scope must be injected with Decorator "@View"');var p=o.$ngRedux;if(!p)throw new Error('$ngRedux must be injected with Decorator "@View"');var f=o.pageRefreshManager;if(!o.getStateService)throw new Error("$state is required with pageRefreshManager");if(o.go=function(e,t,n){if(!o.getStateService||!o.getStateService())return console.error("$state service is not injected!");"string"!=typeof t&&(n=t,t="forward");var r=o.$injector.get("$ionicViewSwitcher");o.viewEntered=!1,"none"!=t?r.nextDirection(t):r.nextDirection("none"),o.getStateService().go(e,n)},f&&f.getListenerName&&(o.hasPageRefreshManger=!0,o.hasPageRefreshManger)){var v=o.getStateService();u=d.$on(f.getListenerName(v.current,v.params),function(e,t){f.shouldUpdate(v,t.url)&&o.onUpdate()})}var h=d.$on("$ionicView.beforeEnter",function(){if(o.onBeforeEnterView(),o.getRootScope&&o.back){o.getRootScope().viewGoBack=o.back.bind(o)}}),m=d.$on("$ionicView.beforeLeave",function(){c(),o.viewEntered=!1,o.onBeforeLeaveView()}),b=d.$on("$ionicView.loaded",function(){o.onLoadedView()}),y=d.$on("$ionicView.afterEnter",function(){d.$evalAsync(function(){o.viewEntered=!0,c=p.connect(o.mapStateObj,o.mapActionToThis(),o)(function(e,t){o.viewEntered&&(Object.assign(o,e,t),o.dataPipe.run(o),d.$evalAsync(function(){o.onReceiveProps(e,t)}))}),o.onAfterEnterView()})});return d.$on("$destroy",function(){c(),u(),y(),h(),m(),b()}),o}return r.prototype=n.prototype,r.$inject=n.$inject,t.inject&&t.inject.length&&(r.$inject=t.inject),r.$inject.push("$injector"),w.config(["$stateProvider",function(n){if(t.views){var i=Object.keys(t.views)[0],o=t.views[i];o.controller=r,o.controllerAs=o.controllerAs||"ctrl"}else t.controller=r,t.controllerAs=t.controllerAs||"ctrl";n.state(e,t)}]),r}}function s(e){return function(t){if(!e.selector)throw new Error("selector must be provided!");e.controller=t,e.controllerAs||(e.controllerAs="ctrl"),w.directive(e.selector,function(){return e})}}function l(e){return function(t){t.controller=t,w.component(e.selector,e)}}function c(e){return function(t,n,r){if(r.writable=!0,t.selectorList||(t.selectorList=[]),e)if("string"==typeof e)t.selectorList.push({type:_,key:n,selector:e});else if(e instanceof Array)t.selectorList.push({type:y,key:n,selector:e});else{if(!(e instanceof Function))throw new Error("unknown selector type!");t.selectorList.push({type:x,key:n,selector:e})}else t.selectorList.push({type:b,key:n})}}function u(e,t,n){var r=n.value,i=void 0;return n.value=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=e.$ngRedux;if(!a)throw new Error("$ngRedux is required by decorator @actionCreator");var s=(0,m.bindActionCreators)(r.bind(e.constructor.instance),a.dispatch);return i=s.apply(e,n)},n}function d(e,t){return function(n){w.constant(e,t)}}function p(e,t){return function(n){t&&t.inject&&t.inject.length&&(n.$inject=t.inject),w.service(e,n)}}function f(e,t,n){var r=n.value;return n.value=function(){var e=this;return new Promise(function(t){r.call(e,t)})},n}Object.defineProperty(t,"__esModule",{value:!0}),t.registerModule=r,t.Inject=i,t.ViewDecorator=o,t.View=a,t.Directive=s,t.Component=l,t.select=c,t.actionCreator=u,t.Constant=d,t.Service=p,t.PromiseFn=f;var v=n(172),h=n(174),g=function(e){return e&&e.__esModule?e:{default:e}}(h),m=n(176),b="EMPTY_SELECTOR_TYPE",y="PATH_SELECTOR_TYPE",x="FUNCTION_SELECTOR_TYPE",_="STR_SELECTOR_TYPE",w=v.ngDecModule,k=void 0,S=void 0,I=function(e,t,n){e.forEach(function(e,r){"$scope"==e?t.prototype.getScope=function(){return n[r]}:"$rootScope"==e?t.prototype.getRootScope=function(){return n[r]}:"$state"==e?t.prototype.getStateService=function(){return n[r]}:"$ngRedux"==e?(t.prototype.getState=function(){return n[r].getState()},t.prototype[e]=n[r]):t.prototype[e]=n[r]})}},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngDecModule=void 0,n(173);var r=angular.module("ngDecModule",[]);t.ngDecModule=r},174:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(175),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,i){r(this,e),this.id=(0,a.default)(),this.criteriaList=t||[],this.invokeList=n||[],this.sequence=i||0}return i(e,[{key:"pushCriteria",value:function(e){this.criteriaList.push(e)}},{key:"pushInvoke",value:function(e){this.invokeList.push(e)}}]),e}(),l=function(){function e(){r(this,e),this.configList=[],this.lastConfigId=null,this.lastActionType=u.PUSH_CRITERIA}return i(e,[{
key:"getLastConfig",value:function(){var e=this,t=null,n=void 0;switch(this.lastActionType){case u.PUSH_CRITERIA:return this.lastConfigId?this.configList.forEach(function(n){n.id==e.lastConfigId&&(t=n)}):(t=new s,t.sequence=1,this.configList.push(t),this.lastConfigId=t.id),t;case u.PUSH_INVOKE:case u.NEXT:return this.configList.forEach(function(n){n.id==e.lastConfigId&&(t=n)}),n=new s,n.sequence=t.sequence++,this.configList.push(n),this.lastConfigId=n.id,n}}},{key:"when",value:function(e){return"function"!=typeof e?console.error(c.CRITERIA_ERROR):(this.getLastConfig().pushCriteria(e),this.lastActionType=u.PUSH_CRITERIA,this)}},{key:"then",value:function(e){return"function"!=typeof e?console.error(c.INVOKE_ERROR):(this.getLastConfig().pushInvoke(e),this.lastActionType=u.PUSH_INVOKE,this)}},{key:"next",value:function(){return this.lastActionType=u.NEXT,this}},{key:"run",value:function(e){for(var t=!0,n=this.configList.slice(0,this.configList.length);t&&n.length;){for(var r=[n.shift()];n[0]&&r[0].sequence==n[0].sequence;)r.push(n.shift());for(var i=0;i<r.length;i++)!function(n){var i=r[n],o=!0;i.criteriaList.forEach(function(t){o=o&&t.call(e)}),o?i.invokeList.forEach(function(t){t.call(e)}):t=!1}(i)}}}]),e}(),c={CRITERIA_ERROR:"criteria should be function!",INVOKE_ERROR:"invoke should be function"},u={PUSH_CRITERIA:"PUSH_CRITERIA",PUSH_INVOKE:"PUSH_INVOKE",NEXT:"NEXT"};window.dataPipe=new l,t.default=l},175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Math.pow(2,e)},r=(n(4),n(6)),i=n(8),o=n(12),a=(n(14),n(16)),s=n(32),l=(n(40),n(48),function(e,t){return Math.floor(Math.random()*(t-e+1))+e}),c=function(){return l(0,r-1)},u=function(){return l(0,i-1)},d=function(){return l(0,o-1)},p=function(){return l(0,a-1)},f=function(){return l(0,s-1)},v=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},h=function(e,t,n){e=String(e),n=n||"0";for(var r=t-e.length;r>0;r>>>=1,n+=n)1&r&&(e=n+e);return e},g=function(e,t,n,r,i,o){return h(e.toString(16),8)+"-"+h(t.toString(16),4)+"-"+h(n.toString(16),4)+"-"+h(r.toString(16),2)+h(i.toString(16),2)+"-"+h(o.toString(16),12)},m=function(){return g(f(),p(),16384|d(),128|c(),u(),v())};t.default=m},235:function(e,t,n){function r(e,t,n){for(var r=-1,i=a(t),o=i.length;++r<o;){var s=i[r],l=e[s],c=n(l,t[s],s,e,t);(c===c?c===l:l!==l)&&(void 0!==l||s in e)||(e[s]=c)}return e}var i=n(236),o=n(242),a=n(246),s=o(function(e,t,n){return n?r(e,t,n):i(e,t)});e.exports=s},236:function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=n(237),o=n(238);e.exports=r},237:function(e,t){function n(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}e.exports=n},238:function(e,t,n){function r(e){return null!=e&&o(m(e))}function i(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&e<t}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function a(e){for(var t=l(e),n=t.length,r=n&&e.length,a=!!r&&o(r)&&(d(e)||u(e)),s=-1,c=[];++s<n;){var p=t[s];(a&&i(p,r)||v.call(e,p))&&c.push(p)}return c}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(d(e)||u(e))&&t||0;for(var n=e.constructor,r=-1,a="function"==typeof n&&n.prototype===e,l=Array(t),c=t>0;++r<t;)l[r]=r+"";for(var p in e)c&&i(p,t)||"constructor"==p&&(a||!v.call(e,p))||l.push(p);return l}var c=n(239),u=n(240),d=n(241),p=/^\d+$/,f=Object.prototype,v=f.hasOwnProperty,h=c(Object,"keys"),g=9007199254740991,m=function(e){return function(t){return null==t?void 0:t[e]}}("length"),b=h?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):s(e)?h(e):[]}:a;e.exports=b},239:function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function i(e){return o(e)&&p.call(e)==s}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?f.test(u.call(e)):n(e)&&l.test(e))}var s="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,d=c.hasOwnProperty,p=c.toString,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},240:function(e,t){function n(e){return i(e)&&v.call(e,"callee")&&(!g.call(e,"callee")||h.call(e)==u)}function r(e){return null!=e&&a(e.length)&&!o(e)}function i(e){return l(e)&&r(e)}function o(e){var t=s(e)?h.call(e):"";return t==d||t==p}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return!!e&&"object"==typeof e}var c=9007199254740991,u="[object Arguments]",d="[object Function]",p="[object GeneratorFunction]",f=Object.prototype,v=f.hasOwnProperty,h=f.toString,g=f.propertyIsEnumerable;e.exports=n},241:function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function i(e){return o(e)&&p.call(e)==s}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?f.test(u.call(e)):n(e)&&l.test(e))}var s="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,d=c.hasOwnProperty,p=c.toString,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=function(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}(Array,"isArray"),h=9007199254740991,g=v||function(e){return n(e)&&r(e.length)&&"[object Array]"==p.call(e)};e.exports=g},242:function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),l&&o(n[0],n[1],l)&&(s=a<3?void 0:s,a=1);++r<a;){var u=n[r];u&&e(t,u,s)}return t})}var i=n(243),o=n(244),a=n(245);e.exports=r},243:function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function r(e){return e}e.exports=n},244:function(e,t){function n(e){return null!=e&&o(c(e))}function r(e,t){return e="number"==typeof e||s.test(e)?+e:-1,t=null==t?l:t,e>-1&&e%1==0&&e<t}function i(e,t,i){if(!a(i))return!1;var o=typeof t;if("number"==o?n(i)&&r(t,i.length):"string"==o&&t in i){var s=i[t];return e===e?e===s:s!==s}return!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var s=/^\d+$/,l=9007199254740991,c=function(e){return function(t){return null==t?void 0:t[e]}}("length");e.exports=i},245:function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",i=Math.max;e.exports=n},246:function(e,t,n){function r(e){return null!=e&&o(m(e))}function i(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&e<t}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function a(e){for(var t=l(e),n=t.length,r=n&&e.length,a=!!r&&o(r)&&(d(e)||u(e)),s=-1,c=[];++s<n;){var p=t[s];(a&&i(p,r)||v.call(e,p))&&c.push(p)}return c}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(d(e)||u(e))&&t||0;for(var n=e.constructor,r=-1,a="function"==typeof n&&n.prototype===e,l=Array(t),c=t>0;++r<t;)l[r]=r+"";for(var p in e)c&&i(p,t)||"constructor"==p&&(a||!v.call(e,p))||l.push(p);return l}var c=n(239),u=n(240),d=n(241),p=/^\d+$/,f=Object.prototype,v=f.hasOwnProperty,h=c(Object,"keys"),g=9007199254740991,m=function(e){return function(t){return null==t?void 0:t[e]}}("length"),b=h?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):s(e)?h(e):[]}:a;e.exports=b},282:function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function o(e){return function(t){return null==t?void 0:t[e]}}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function s(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function d(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(){this.__data__=Gt?Gt(null):{}}function f(e){return this.has(e)&&delete this.__data__[e]}function v(e){var t=this.__data__;if(Gt){var n=t[e];return n===Ne?void 0:n}return zt.call(t,e)?t[e]:void 0}function h(e){var t=this.__data__;return Gt?void 0!==t[e]:zt.call(t,e)}function g(e,t){return this.__data__[e]=Gt&&void 0===t?Ne:t,this}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function b(){this.__data__=[]}function y(e){var t=this.__data__,n=N(t,e);return!(n<0)&&(n==t.length-1?t.pop():Mt.call(t,n,1),!0)}function x(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]}function _(e){return N(this.__data__,e)>-1}function w(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(){this.__data__={hash:new d,map:new(qt||m),string:new d}}function I(e){return ie(this,e).delete(e)}function C(e){return ie(this,e).get(e)}function T(e){return ie(this,e).has(e)}function P(e,t){return ie(this,e).set(e,t),this}function O(e){var t=-1,n=e?e.length:0;for(this.__data__=new k;++t<n;)this.add(e[t])}function E(e){return this.__data__.set(e,Ne),this}function L(e){return this.__data__.has(e)}function $(e){this.__data__=new m(e)}function j(){this.__data__=new m}function z(e){return this.__data__.delete(e)}function D(e){return this.__data__.get(e)}function A(e){return this.__data__.has(e)}function R(e,t){var n=this.__data__;if(n instanceof m){var r=n.__data__;if(!qt||r.length<Re-1)return r.push([e,t]),this;n=this.__data__=new k(r)}return n.set(e,t),this}function F(e,t){var n=sn(e)||xe(e)?a(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!zt.call(e,o)||i&&("length"==o||le(o,r))||n.push(o);return n}function N(e,t){for(var n=e.length;n--;)if(ye(e[n][0],t))return n;return-1}function M(e,t){t=ce(t,e)?[t]:ee(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[he(t[n++])];return n&&n==r?e:void 0}function W(e){return Dt.call(e)}function Q(e,t){return null!=e&&t in Object(e)}function B(e,t,n,r,i){return e===t||(null==e||null==t||!Ie(e)&&!Ce(t)?e!==e&&t!==t:q(e,t,B,n,r,i))}function q(e,t,n,r,i,o){var a=sn(e),s=sn(t),c=He,u=He;a||(c=rn(e),c=c==Ue?tt:c),s||(u=rn(t),u=u==Ue?tt:u);var d=c==tt&&!l(e),p=u==tt&&!l(t),f=c==u;if(f&&!d)return o||(o=new $),a||ln(e)?te(e,t,n,r,i,o):ne(e,t,c,n,r,i,o);if(!(i&We)){var v=d&&zt.call(e,"__wrapped__"),h=p&&zt.call(t,"__wrapped__");if(v||h){var g=v?e.value():e,m=h?t.value():t;return o||(o=new $),n(g,m,r,i,o)}}return!!f&&(o||(o=new $),re(e,t,n,r,i,o))}function V(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new $;if(r)var p=r(c,u,l,e,t,d);if(!(void 0===p?B(u,c,r,Me|We,d):p))return!1}}return!0}function U(e){return!(!Ie(e)||de(e))&&(ke(e)||l(e)?At:vt).test(ge(e))}function H(e){return Ce(e)&&Se(e.length)&&!!mt[Dt.call(e)]}function G(e){return"function"==typeof e?e:null==e?De:"object"==typeof e?sn(e)?X(e[0],e[1]):Y(e):Ae(e)}function K(e){if(!pe(e))return Wt(e);var t=[];for(var n in Object(e))zt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Y(e){var t=oe(e);return 1==t.length&&t[0][2]?ve(t[0][0],t[0][1]):function(n){return n===e||V(n,e,t)}}function X(e,t){return ce(e)&&fe(t)?ve(he(e),t):function(n){var r=$e(n,e);return void 0===r&&r===t?je(n,e):B(t,r,void 0,Me|We)}}function J(e){return function(t){return M(t,e)}}function Z(e){if("string"==typeof e)return e;if(Te(e))return nn?nn.call(e):"";var t=e+"";return"0"==t&&1/e==-Qe?"-0":t}function ee(e){return sn(e)?e:on(e)}function te(e,t,n,i,o,a){var s=o&We,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var d=-1,p=!0,f=o&Me?new O:void 0;for(a.set(e,t),a.set(t,e);++d<l;){var v=e[d],h=t[d];if(i)var g=s?i(h,v,d,t,e,a):i(v,h,d,e,t,a);if(void 0!==g){if(g)continue;p=!1;break}if(f){if(!r(t,function(e,t){if(!f.has(t)&&(v===e||n(v,e,i,o,a)))return f.add(t)})){p=!1;break}}else if(v!==h&&!n(v,h,i,o,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ne(e,t,n,r,i,o,a){switch(n){case st:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case at:return!(e.byteLength!=t.byteLength||!r(new Ft(e),new Ft(t)));case Ge:case Ke:case et:return ye(+e,+t);case Ye:return e.name==t.name&&e.message==t.message;case nt:case it:return e==t+"";case Ze:var s=c;case rt:var l=o&We;if(s||(s=u),e.size!=t.size&&!l)return!1;var d=a.get(e);if(d)return d==t;o|=Me,a.set(e,t);var p=te(s(e),s(t),r,i,o,a);return a.delete(e),p;case ot:if(tn)return tn.call(e)==tn.call(t)}return!1}function re(e,t,n,r,i,o){var a=i&We,s=ze(e),l=s.length;if(l!=ze(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:zt.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){u=s[c];var v=e[u],h=t[u];if(r)var g=a?r(h,v,u,t,e,o):r(v,h,u,e,t,o);if(!(void 0===g?v===h||n(v,h,r,i,o):g)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var m=e.constructor,b=t.constructor;m!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}function ie(e,t){var n=e.__data__;return ue(t)?n["string"==typeof t?"string":"hash"]:n.map}function oe(e){for(var t=ze(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fe(i)]}return t}function ae(e,t){var n=s(e,t);return U(n)?n:void 0}function se(e,t,n){t=ce(t,e)?[t]:ee(t);for(var r,i=-1,o=t.length;++i<o;){var a=he(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&Se(o)&&le(a,o)&&(sn(e)||xe(e))}function le(e,t){return!!(t=null==t?Be:t)&&("number"==typeof e||gt.test(e))&&e>-1&&e%1==0&&e<t}function ce(e,t){if(sn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Te(e))||(ct.test(e)||!lt.test(e)||null!=t&&e in Object(t))}function ue(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function de(e){return!!$t&&$t in e}function pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Et)}function fe(e){return e===e&&!Ie(e)}function ve(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function he(e){if("string"==typeof e||Te(e))return e;var t=e+"";return"0"==t&&1/e==-Qe?"-0":t}function ge(e){if(null!=e){try{return jt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function me(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:Oe(n);return o<0&&(o=Qt(r+o,0)),i(e,G(t,3),o)}function be(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Fe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(be.Cache||k),n}function ye(e,t){return e===t||e!==e&&t!==t}function xe(e){return we(e)&&zt.call(e,"callee")&&(!Nt.call(e,"callee")||Dt.call(e)==Ue)}function _e(e){return null!=e&&Se(e.length)&&!ke(e)}function we(e){return Ce(e)&&_e(e)}function ke(e){var t=Ie(e)?Dt.call(e):"";return t==Xe||t==Je}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Be}function Ie(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ce(e){return!!e&&"object"==typeof e}function Te(e){return"symbol"==typeof e||Ce(e)&&Dt.call(e)==ot}function Pe(e){if(!e)return 0===e?e:0;if((e=Ee(e))===Qe||e===-Qe){return(e<0?-1:1)*qe}return e===e?e:0}function Oe(e){var t=Pe(e),n=t%1;return t===t?n?t-n:t:0}function Ee(e){if("number"==typeof e)return e;if(Te(e))return Ve;if(Ie(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ie(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(dt,"");var n=ft.test(e);return n||ht.test(e)?bt(e.slice(2),n?2:8):pt.test(e)?Ve:+e}function Le(e){return null==e?"":Z(e)}function $e(e,t,n){var r=null==e?void 0:M(e,t);return void 0===r?n:r}function je(e,t){return null!=e&&se(e,t,Q)}function ze(e){return _e(e)?F(e):K(e)}function De(e){return e}function Ae(e){return ce(e)?o(he(e)):J(e)}var Re=200,Fe="Expected a function",Ne="__lodash_hash_undefined__",Me=1,We=2,Qe=1/0,Be=9007199254740991,qe=1.7976931348623157e308,Ve=NaN,Ue="[object Arguments]",He="[object Array]",Ge="[object Boolean]",Ke="[object Date]",Ye="[object Error]",Xe="[object Function]",Je="[object GeneratorFunction]",Ze="[object Map]",et="[object Number]",tt="[object Object]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object Symbol]",at="[object ArrayBuffer]",st="[object DataView]",lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/,ut=/^\./,dt=/^\s+|\s+$/g,pt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt[Ue]=mt[He]=mt[at]=mt[Ge]=mt[st]=mt[Ke]=mt[Ye]=mt[Xe]=mt[Ze]=mt[et]=mt[tt]=mt[nt]=mt[rt]=mt[it]=mt["[object WeakMap]"]=!1;var bt=parseInt,yt="object"==typeof e&&e&&e.Object===Object&&e,xt="object"==typeof self&&self&&self.Object===Object&&self,_t=yt||xt||Function("return this")(),wt="object"==typeof t&&t&&!t.nodeType&&t,kt=wt&&"object"==typeof n&&n&&!n.nodeType&&n,St=kt&&kt.exports===wt,It=St&&yt.process,Ct=function(){try{return It&&It.binding("util")}catch(e){}}(),Tt=Ct&&Ct.isTypedArray,Pt=Array.prototype,Ot=Function.prototype,Et=Object.prototype,Lt=_t["__core-js_shared__"],$t=function(){var e=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),jt=Ot.toString,zt=Et.hasOwnProperty,Dt=Et.toString,At=RegExp("^"+jt.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=_t.Symbol,Ft=_t.Uint8Array,Nt=Et.propertyIsEnumerable,Mt=Pt.splice,Wt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Qt=Math.max,Bt=ae(_t,"DataView"),qt=ae(_t,"Map"),Vt=ae(_t,"Promise"),Ut=ae(_t,"Set"),Ht=ae(_t,"WeakMap"),Gt=ae(Object,"create"),Kt=ge(Bt),Yt=ge(qt),Xt=ge(Vt),Jt=ge(Ut),Zt=ge(Ht),en=Rt?Rt.prototype:void 0,tn=en?en.valueOf:void 0,nn=en?en.toString:void 0;d.prototype.clear=p,d.prototype.delete=f,d.prototype.get=v,d.prototype.has=h,d.prototype.set=g,m.prototype.clear=b,m.prototype.delete=y,m.prototype.get=x,m.prototype.has=_,m.prototype.set=w,k.prototype.clear=S,k.prototype.delete=I,k.prototype.get=C,k.prototype.has=T,k.prototype.set=P,O.prototype.add=O.prototype.push=E,O.prototype.has=L,$.prototype.clear=j,$.prototype.delete=z,$.prototype.get=D,$.prototype.has=A,$.prototype.set=R;var rn=W;(Bt&&rn(new Bt(new ArrayBuffer(1)))!=st||qt&&rn(new qt)!=Ze||Vt&&"[object Promise]"!=rn(Vt.resolve())||Ut&&rn(new Ut)!=rt||Ht&&"[object WeakMap]"!=rn(new Ht))&&(rn=function(e){var t=Dt.call(e),n=t==tt?e.constructor:void 0,r=n?ge(n):void 0;if(r)switch(r){case Kt:return st;case Yt:return Ze;case Xt:return"[object Promise]";case Jt:return rt;case Zt:return"[object WeakMap]"}return t});var on=be(function(e){e=Le(e);var t=[];return ut.test(e)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,n,r,i){t.push(r?i.replace(/\\(\\)?/g,"$1"):n||e)}),t}),an=function(e){return function(t,n,r){var i=Object(t);if(!_e(t)){var o=G(n,3);t=ze(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}(me);be.Cache=k;var sn=Array.isArray,ln=Tt?function(e){return function(t){return e(t)}}(Tt):H;n.exports=an}).call(t,function(){return this}(),n(190)(e))},283:function(e,t){"use strict";e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.VERTICAL_CALC_SCOREPOINT_TYPE="vertical",t.VERTICAL_ERROR_SCOREPOINT_TYPE="verticalErr",t.VERTICAL_FILLBLANKS_SCOREPOINT_TYPE="vertical"}])},438:function(e,t){function n(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){var n=L(e)||u(e)?r(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!I.call(e,a)||o&&("length"==a||s(a,i))||n.push(a);return n}function o(e,t){return e&&E(e,t,m)}function a(e){if(!l(e))return P(e);var t=[];for(var n in Object(e))I.call(e,n)&&"constructor"!=n&&t.push(n);return t}function s(e,t){return!!(t=null==t?y:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function l(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function c(e,t){return(L(e)?n:O)(e,"function"==typeof t?t:b)}function u(e){return p(e)&&I.call(e,"callee")&&(!T.call(e,"callee")||C.call(e)==x)}function d(e){return null!=e&&v(e.length)&&!f(e)}function p(e){return g(e)&&d(e)}function f(e){var t=h(e)?C.call(e):"";return t==_||t==w}function v(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=y}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){return!!e&&"object"==typeof e}function m(e){return d(e)?i(e):a(e)}function b(e){return e}var y=9007199254740991,x="[object Arguments]",_="[object Function]",w="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,S=Object.prototype,I=S.hasOwnProperty,C=S.toString,T=S.propertyIsEnumerable,P=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),O=function(e,t){return function(n,r){if(null==n)return n;if(!d(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(o),E=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}(),L=Array.isArray;e.exports=c},439:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(151),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){r(this,e),window.paperStore=this.paperStore=a.default.createInstance({name:"PAPER_STORE"}),window.doPaperStore=this.doPaperStore=a.default.createInstance({name:"DO_PAPER_STORE"}),window.paperAnsStore=this.paperAnsStore=a.default.createInstance({name:"PAPER_ANS_STORE"}),window.workListStore=this.workListStore=a.default.createInstance({name:"WORK_LIST_STORE"}),window.gameListStore=this.gameListStore=a.default.createInstance({name:"GAME_LIST_STORE"}),window.diagnoseKnowledgeQStore=this.diagnoseKnowledgeQStore=a.default.createInstance({name:"DIAGNOSE_KNOWLEDGE_Q"}),this.tempWorkContentInfo={id:null,qsList:null},this.stateWorkContentInfo={id:null,qsList:null},this.diagnoseKnowledgeQContentInfo={id:null,question:null,answer:null},this.localforage=a.default,this.tempPaperContentInfo={id:null,data:null}}return i(e,[{key:"setTempWork",value:function(e,t){this.tempWorkContentInfo.id=e,this.tempWorkContentInfo.qsList=t}},{key:"getTempWork",value:function(){return this.tempWorkContentInfo}},{key:"setStateWork",value:function(e,t){this.stateWorkContentInfo.id=e,this.stateWorkContentInfo.qsList=t}},{key:"getStateWork",value:function(){return this.stateWorkContentInfo}},{key:"setTempPaper",value:function(e,t){this.tempPaperContentInfo.id=e,this.tempPaperContentInfo.data=t}},{key:"getTempPaper",value:function(){return this.tempPaperContentInfo}},{key:"setDiagnoseKnowledgeQ",value:function(e,t,n){this.diagnoseKnowledgeQContentInfo.id=e,this.diagnoseKnowledgeQContentInfo.question=t,this.diagnoseKnowledgeQContentInfo.answer=n}},{key:"getDiagnoseKnowledgeQ",value:function(){return this.diagnoseKnowledgeQContentInfo}},{key:"getLocalForage",value:function(){return this.localforage}},{key:"clear",value:function(){this.localforage.clear()}}]),e}(),l=new s;t.default=l},2246:function(e,t,n){e.exports=n.p+"images/live_course_title_bg.png"},2249:function(e,t,n){e.exports=n.p+"images/live-home-code.png"},2260:function(e,t,n){e.exports=n.p+"images/live_home_banner_bg.png"},2264:function(e,t,n){e.exports=n.p+"images/live_home_course_handle.png"},2272:function(e,t,n){e.exports=n.p+"images/live_home_modal_bg.png"},2273:function(e,t,n){e.exports=n.p+"images/live_home_num_dialog.png"},2399:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i,o,a=n(2400);(i=(0,a.Constant)("liveInterface",{GET_COURSE_LIST:"/video/live/get/public/lessons",GET_COURSE_DETAIL:"/video/live/get/public/lesson/detail",VERIFY_MSG:"/vc/video/live/verifyTelVC",SEND_MSG:"/vc/web/getTelVC",GET_PAPER_STATUS_LIST:"/terminal/paper/status",CREATE_LIVE_GOODS_ORDER:"/vip/order",LIVE_GOODS_ORDER_QUERY:"/vip/orderQuery",GET_ACCESS_TOKEN:"/video/live/get/accessToken",GET_VIDEO_URL:"/video/live/get/playbackUrl",GET_COURSE_LESSONS:"/video/live/get/course/lessons"}))(o=function e(){r(this,e)})},2400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liveModule=void 0;var r=n(171);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(2401),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(2403),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l=angular.module("m_live",[]);(0,r.registerModule)(l,o.default,s),l.config(["$ngReduxProvider",function(e){console.log(e)}]),l.run(["$state","$rootScope","$ngRedux",function(e,t,n){console.log("model live install======================")}]),t.liveModule=l},2401:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2402),o=r(i),a=n(2405),s=r(a),l=n(2406),c=r(l),u=n(2407),d=r(u),p=n(2408),f=r(p),v={select_course:o.default,select_my_course:s.default,live_goods_created_order_info:c.default,alert_watch_video_flag:d.default,refresh_current_course_flag:f.default};t.default=v},2402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2403),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),o=n(2404);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.select_course,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.assign({},e);switch(t.type){case o.SELECT_COURSE:return t.payload;default:return e}}},2403:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.select_course={},t.select_my_course={},t.alert_watch_video_flag=!0,t.refresh_current_course_flag="2018518",t.live_goods_created_order_info={app:"",scan:""}},2404:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SELECT_COURSE="SELECT_COURSE_SUCCESS",t.SELECT_MY_COURSE="SELECT_MY_COURSE_SUCCESS",t.SET_WATCH_VIDEO_FLAG="SET_WATCH_VIDEO_FLAG",t.SET_CURRENT_COURSE_FLAG="SET_CURRENT_COURSE_FLAG",t.LIVE_GOODS={LIVE_GOODS_CREATE_ORDER_START:"LIVE_GOODS_CREATE_ORDER_START",LIVE_GOODS_CREATE_ORDER_SUCCESS:"LIVE_GOODS_CREATE_ORDER_SUCCESS",LIVE_GOODS_CREATE_ORDER_FAIL:"LIVE_GOODS_CREATE_ORDER_FAIL",CHANGE_LIVE_GOODS_CREATE_ORDER_STATUS:"CHANGE_LIVE_GOODS_CREATE_ORDER_STATUS",LIVE_GOODS_QUERY_ORDER_INFO_START:"LIVE_GOODS_QUERY_ORDER_INFO_START",LIVE_GOODS_QUERY_ORDER_INFO_SUCCESS:"LIVE_GOODS_QUERY_ORDER_INFO_SUCCESS",LIVE_GOODS_QUERY_ORDER_INFO_FAIL:"LIVE_GOODS_QUERY_ORDER_INFO_FAIL"}},2405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2403),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),o=n(2404);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.select_my_course,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.assign({},e);switch(t.type){case o.SELECT_MY_COURSE:return t.payload;default:return e}}},2406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2403),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),o=n(2404),a=n(235),s=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.live_goods_created_order_info,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,s.default)({},e),r=t.payload;switch(t.type){case o.LIVE_GOODS.LIVE_GOODS_CREATE_ORDER_SUCCESS:var a={order:r.order,orderNo:r.orderNo,productId:r.productId};switch(r.orderType){case"app":n.app=a;break;case"scan":n.scan=a}return n;case o.LIVE_GOODS.CHANGE_LIVE_GOODS_CREATE_ORDER_STATUS:var l={status:r.status};switch(r.orderType){case"app":n.app=(0,s.default)(l,e.app);break;case"scan":n.scan=(0,s.default)(l,e.scan)}return n;case o.LIVE_GOODS.LIVE_GOODS_CREATE_ORDER_START:case o.LIVE_GOODS.LIVE_GOODS_CREATE_ORDER_FAIL:default:return e}}},2407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2403),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),o=n(2404);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.alert_watch_video_flag,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.assign({},e);switch(t.type){case o.SET_WATCH_VIDEO_FLAG:return t.payload;default:return e}}},2408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2403),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),o=n(2404);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.refresh_current_course_flag,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.assign({},e);switch(t.type){case o.SET_CURRENT_COURSE_FLAG:return t.payload;default:return e}}},2409:function(e,t){
"use strict"},2410:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var o,a,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2400),d=n(2404),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),f=(o=(0,u.Service)("liveService"),a=(0,u.Inject)("$q","$rootScope","commonService","liveInterface","$ngRedux","$state"),o(s=a((l=function(){function e(){r(this,e),this.cancelRequestList=[]}return c(e,[{key:"selectCourse",value:function(e){return function(t,n){t({type:p.SELECT_COURSE,payload:e})}}},{key:"selectMyCourse",value:function(e){return function(t,n){t({type:p.SELECT_MY_COURSE,payload:e})}}},{key:"setSharingInfo",value:function(e){return function(t){t({type:"WORK_LIST_CHANGE_CLAZZ",payload:e})}}},{key:"setDiagnoseSelectedClazz",value:function(e){return function(t){t({type:"DIAGNOSE_CHANGE_CLAZZ",payload:e})}}},{key:"setWorkList",value:function(e){return function(t){t({type:"FETCH_WORK_LIST_SUCCESS",payload:e})}}},{key:"fetchCourseList",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.GET_COURSE_LIST,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,200==e.code?t.resolve(e):t.resolve(!1)},function(){r=null,t.reject()}),t.promise}},{key:"sendMsgCode",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.SEND_MSG,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,200==e.code?t.resolve(e):t.reject(!1)},function(){r=null,t.reject()}),t.promise}},{key:"verifyMsgCode",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.VERIFY_MSG,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,t.resolve(e)},function(){r=null,t.reject()}),t.promise}},{key:"getCourseDetail",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.GET_COURSE_DETAIL,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,200==e.code?t.resolve(e.result):t.resolve(!1)},function(){r=null,t.reject()}),t.promise}},{key:"fetchPaperStatusList",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.GET_PAPER_STATUS_LIST,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,200==e.code?t.resolve(e):t.resolve(!1)},function(){r=null,t.reject()}),t.promise}},{key:"createOrder",value:function(e,t,n){var r=this;return function(i){var o=r.$q.defer();return i({type:p.LIVE_GOODS.LIVE_GOODS_CREATE_ORDER_START}),r.commonService.commonPost(r.liveInterface.CREATE_LIVE_GOODS_ORDER,{goodsId:e,thirdPayCode:t,type:n}).then(function(t){200==t.code?(i({type:p.LIVE_GOODS.LIVE_GOODS_CREATE_ORDER_SUCCESS,payload:{orderType:n,orderNo:t.orderNo,order:t.order,productId:e}}),o.resolve(t)):(i({type:p.LIVE_GOODS.LIVE_GOODS_CREATE_ORDER_FAIL}),o.resolve(t))},function(e){i({type:p.LIVE_GOODS.LIVE_GOODS_CREATE_ORDER_FAIL}),o.reject(e)}),o.promise}}},{key:"queryOrder",value:function(e){var t=this;return function(n,r){var i=t.$q.defer(),o=r().live_goods_created_order_info[e];return!o||o&&!o.orderNo?(i.resolve(!1),i.promise):(t.commonService.commonPost(t.liveInterface.LIVE_GOODS_ORDER_QUERY,{orderNo:o.orderNo}).then(function(e){200==e.code?(e.status,i.resolve(e)):i.resolve(e)},function(e){i.reject(e)}),i.promise)}}},{key:"fetchCourseLessons",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.GET_COURSE_LESSONS,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,200==e.code?t.resolve(e):t.resolve(!1)},function(){r=null,t.reject()}),t.promise}},{key:"fetchAccessToken",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.GET_ACCESS_TOKEN,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,200==e.code?t.resolve(e):t.resolve(!1)},function(){r=null,t.reject()}),t.promise}},{key:"fetchVideoUrl",value:function(e){var t=this.$q.defer(),n=this.commonService.commonPost(this.liveInterface.GET_VIDEO_URL,e,!0);this.cancelRequestList.push(n.cancelDefer);var r=n.cancelDefer;return n.requestPromise.then(function(e){r=null,200==e.code?t.resolve(e):t.resolve(!1)},function(){r=null,t.reject()}),t.promise}},{key:"setWatchVideoFlag",value:function(e){return function(t){t({type:p.SET_WATCH_VIDEO_FLAG,payload:e})}}},{key:"setCurrentCourseFlag",value:function(e){return function(t){t({type:p.SET_CURRENT_COURSE_FLAG,payload:e})}}}]),e}(),i(l.prototype,"selectCourse",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"selectCourse"),l.prototype),i(l.prototype,"selectMyCourse",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"selectMyCourse"),l.prototype),i(l.prototype,"setSharingInfo",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"setSharingInfo"),l.prototype),i(l.prototype,"setDiagnoseSelectedClazz",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"setDiagnoseSelectedClazz"),l.prototype),i(l.prototype,"setWorkList",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"setWorkList"),l.prototype),i(l.prototype,"createOrder",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"createOrder"),l.prototype),i(l.prototype,"queryOrder",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"queryOrder"),l.prototype),i(l.prototype,"setWatchVideoFlag",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"setWatchVideoFlag"),l.prototype),i(l.prototype,"setCurrentCourseFlag",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"setCurrentCourseFlag"),l.prototype),s=l))||s)||s);t.default=f},2411:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f,v,h,g,m,b,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=n(2249),_=function(e){return e&&e.__esModule?e:{default:e}}(x),w=n(2400),k=(a=(0,w.View)("home.live_home",{url:"/live_home",views:{live_home:{template:n(2412),styles:n(2413)}},inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicPopup","$ionicLoading","paperService","$timeout","$ocLazyLoad","$ionicActionSheet","commonService","$ionicScrollDelegate","liveService"]}),s=(0,w.select)(function(e){return e.profile_clazz.passClazzList}),l=(0,w.select)(function(e){return e.select_my_course}),c=(0,w.select)(function(e){return e.refresh_current_course_flag}),u=(0,w.select)(function(e){return e.wl_selected_clazz.id}),d=(0,w.select)(function(e){return e.profile_user_auth.user}),a((f=function(){function e(){i(this,e),r(this,"clazzList",v,this),r(this,"currentCourse",h,this),r(this,"markTime",g,this),r(this,"clazzId",m,this),r(this,"userInfo",b,this),this.showCourseModal=!1,this.showSuccessModal=!1,this.allCourseList=[],this.liveUrl="",this.liveTxt="",this.myCourseList=[],this.isWin=3===this.commonService.judgeSYS(),this.clazzArr=["","","","","","",""]}return y(e,[{key:"onBeforeLeaveView",value:function(){}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){if(this.showCourseModal)this.showCourseModal=!1;else{if(!this.showSuccessModal)return"exit";this.showSuccessModal=!1}this.getScope().$digest()}}]),y(e,[{key:"initData",value:function(){var e=this.clazzList.find(function(e){return 200==e.type});null==e&&(e=this.clazzList[0]),this.liveService.setSharingInfo(e),this.liveService.setDiagnoseSelectedClazz(e)}},{key:"initFn",value:function(){this.getCourseList()}},{key:"getCourseList",value:function(){var e=this,t=["","","","","","",""];this.liveService.fetchCourseList().then(function(n){var r=n.result;r.forEach(function(e){var n=new Date(e.startTime.replace(/-/g,"/"));e.showTime=n.getMonth()+1+""+n.getDate()+" "+t[n.getDay()]+" "+e.startTime.slice(11,16)+"-"+e.endTime.slice(11,16),e.showDate=e.startTime.slice(0,10),e.showDateTime=e.startTime.slice(11,16)+"-"+e.endTime.slice(11,16),e.feeName=e.fee?"":"",e.starArr=new Array(e.lessionDifficulty),e.secondaryTeacherName=JSON.parse(e.secondaryTeacherName),e.btnText=1==e.type?"":"",e.studentCount>=e.limitTotal&&0==e.type&&(e.btnText=""),-1!=e.lessionName.indexOf("")&&-1!=e.lessionName.indexOf("")?e.showLessionName="":e.showLessionName=""+e.lessionName,e.discountPercent&&(e.discountPercentObj=JSON.parse(e.discountPercent))}),e.allCourseList=r,e.getPaperStatus(n.videoPaperList),e.getScope().$broadcast("scroll.refreshComplete")})}},{key:"getPaperStatus",value:function(e){var t=this;if(void 0===e)return void this.liveService.selectMyCourse({});var n=new Date,r=""+n.getFullYear()+n.getMonth()+n.getDate();this.markTime!=r&&(this.liveService.setCurrentCourseFlag(r),this.liveService.selectMyCourse({})),e=e.slice();var i=[],o=[];e.forEach(function(e,t){e.videoLiveCoursePapers.forEach(function(t,n){i.push(t.previewPaper),i.push(t.paperId),t.difficultyArr=new Array(t.difficulty).fill("");var r=new Date(t.lessionStartTime.replace(/-/g,"/"));t.showTime=r.getMonth()+1+""+r.getDate()+" "+t.lessionStartTime.slice(11,16)+"-"+t.lessionStopTime.slice(11,16),t.showTime1=t.lessionStartTime.slice(0,-3)+"-"+t.lessionStopTime.slice(11,16),t.topTitle=e.courseName;var a=new Date(t.lessionStopTime.replace(/-/g,"/"));(new Date).getTime()>a.getTime()?t.liveStatus=2:(new Date).getTime()<r.getTime()?t.liveStatus=0:t.liveStatus=1;var s={time:r.getTime(),id:t.courseId,title:e.courseName};o.push(s)})});var a="";if(o.sort(function(e,t){return t.time-e.time}),o.forEach(function(e,t){e.time>=(new Date).getTime()&&(a=e.id)}),a||(a=o[0].id),!a)return void this.liveService.selectMyCourse({});var s=!1;this.currentCourse.courseId?s=!0:e.forEach(function(e,n){var r=e.videoLiveCoursePapers.find(function(e){return e.courseId==a});if(null!=r)return t.liveService.selectMyCourse(r),!1}),this.liveService.fetchPaperStatusList({filter:JSON.stringify({paper:{paperInstanceId:i,paperId:i,name:new Array(i.length).fill("test")}}),shardingId:this.clazzId}).then(function(n){var r=0,i=[],a=n.fullScore,l=void 0,c=void 0;n=n.status,e.forEach(function(e,o){e.videoLiveCoursePapers.forEach(function(e,o){e.preStatus=n[r].key,e.preStatusFullFlag=a[r].fullScore,e.preStatusName=n[r++].value,e.nextStatus=n[r].key,e.nextStatusFullFlag=a[r].fullScore,e.nextStatusName=n[r++].value,e.courseId==t.currentCourse.courseId&&(l=e);var s={canFetchDoPaper:!0,canFetchPaper:!0,instanceId:e.previewPaper,paperInfo:{doPaper:{instanceId:e.previewPaper,paperId:e.previewPaper,paperName:e.lessonName,history:{paperId:e.previewPaper,paperInstanceId:e.previewPaper,status:{key:e.preStatus,value:e.preStatusName}}},paperName:e.lessonName}};i.push(s);var c={canFetchDoPaper:!0,canFetchPaper:!0,instanceId:e.paperId,paperInfo:{doPaper:{instanceId:e.paperId,paperId:e.paperId,paperName:e.lessonName,history:{paperId:e.paperId,paperInstanceId:e.paperId,status:{key:e.nextStatus,value:e.nextStatusName}}},paperName:e.lessonName}};i.push(c)})});var u=o.findIndex(function(e){return e.id==t.currentCourse.courseId});if(-1==u)t.liveService.selectMyCourse(e[0].videoLiveCoursePapers[0]);else if(u==o.length-1||s)t.liveService.selectMyCourse(l);else{var d=o[u+1].id;e.forEach(function(e,t){var n=e.videoLiveCoursePapers.findIndex(function(e){return e.courseId==d});-1!=n&&(c=e.videoLiveCoursePapers[n])}),!(o[u].time+1728e5>=(new Date).getTime())||c.preStatusFullFlag&&c.nextStatusFullFlag?t.liveService.selectMyCourse(l):t.liveService.selectMyCourse(c)}t.setWorkList(i),t.myCourseList=e})}},{key:"changeCurrentCourse",value:function(e,t,n){if(0!=n){var r=e.videoLiveCoursePapers[n-1],i=new Date(r.lessionStopTime.replace(/-/g,"/")).getTime();if((new Date).getTime()<i)return void this.$ionicPopup.alert({title:"",template:""})}this.liveService.selectMyCourse(t),this.hideModal()}},{key:"hideModal",value:function(){this.showCourseModal=!1}},{key:"showModal",value:function(){this.btnProxy()||(this.showCourseModal=!0)}},{key:"goToEnter",value:function(e){this.liveService.selectCourse(e),e.fee?this.go("live_course_enter"):this.go("live_course_detail")}},{key:"btnProxy",value:function(){return!this.currentCourse.courseId&&(this.$ionicPopup.alert({title:"",template:"~"}),!0)}},{key:"goToPaperDetail",value:function(e){if(!this.btnProxy()){var t=this.currentCourse.previewPaper,n=this.currentCourse.preStatus,r="-";if(2==e&&(t=this.currentCourse.paperId,n=this.currentCourse.nextStatus,r="-",2!=this.currentCourse.liveStatus))return void this.$ionicPopup.alert({title:"",template:"~"});if(t&&n)if(4!=n){var i={paperId:t,paperInstanceId:t,redoFlag:"false",urlFrom:"live"};this.selectWork({instanceId:i.paperInstanceId,paperId:i.paperId,paperName:this.currentCourse.lessonName,publishType:17,liveType:r}),this.go("live_select_question",i)}else{var o={paperId:t,paperInstanceId:t,urlFrom:"live"};this.selectWork({instanceId:o.paperInstanceId,paperId:o.paperId,paperName:this.currentCourse.lessonName,publishType:17,liveType:r}),this.go("live_work_detail",o)}}}},{key:"goToLive",value:function(){if(!this.btnProxy()){var e=new Date(this.currentCourse.lessionStartTime.replace(/-/g,"/")),t=new Date(this.currentCourse.lessionStopTime.replace(/-/g,"/"));if((new Date).getTime()>e.getTime()&&0==this.currentCourse.liveStatus&&(this.currentCourse.liveStatus=1),(new Date).getTime()>t.getTime()&&1==this.currentCourse.liveStatus&&(this.currentCourse.liveStatus=2),0==this.currentCourse.liveStatus){var n=this.currentCourse.showTime1.split(" ");return void this.$ionicPopup.alert({title:"",template:'<p style="text-align: center;margin-bottom: 0">: '+n[0]+"</br>"+n[1]+"~</p>"})}1==this.currentCourse.liveStatus?this.isWin?this.getAccessToken():this.go("live_course_iframe"):this.currentCourse.playbackUrl?"ready"==this.currentCourse.playbackUrl?this.isWin?this.getVideoUrl():this.go("live_course_video_iframe"):this.go("live_course_video"):this.$ionicPopup.alert({title:"",template:""})}}},{key:"getAccessToken",value:function(){var e=this;return this.liveService.fetchAccessToken({uid:this.userInfo.userId,nickName:this.userInfo.name,courseId:this.currentCourse.courseId,id:this.currentCourse.id}).then(function(t){200==t.code?(e.liveTxt="",e.liveUrl="http://www.xuexiv.com/live_pc_2/live.html?access_token="+t.accessToken,e.showSuccessModal=!0):e.$ionicPopup.alert({title:"",template:"~"}).then(function(t){e.back()})})}},{key:"getVideoUrl",value:function(){var e=this;return this.liveService.fetchVideoUrl({uid:this.userInfo.userId,nickName:this.userInfo.name,courseId:this.currentCourse.courseId,id:this.currentCourse.id}).then(function(t){200==t.code?(e.liveTxt="",e.liveUrl=t.playbackUrl,e.showSuccessModal=!0):e.$ionicPopup.alert({title:"",template:"~"}).then(function(t){e.back()})})}},{key:"mapActionToThis",value:function(){return{selectWork:this.paperService.selectWork}}},{key:"setWorkList",value:function(e){this.liveService.setWorkList({clzId:this.clazzId,list:e})}},{key:"closeModal",value:function(){this.showSuccessModal=!1}},{key:"callPhone",value:function(){this.$ionicActionSheet.show({buttons:[],titleText:'<div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-content" style="padding-left: 0;padding-top: 10px;text-align: center"><img src="'+_.default+'" alt="" width="150"></div>\n                        </div>',cancelText:"",buttonClicked:function(e){return!1}})}}]),e}(),v=o(f.prototype,"clazzList",[s],{enumerable:!0,initializer:null}),h=o(f.prototype,"currentCourse",[l],{enumerable:!0,initializer:null}),g=o(f.prototype,"markTime",[c],{enumerable:!0,initializer:null}),m=o(f.prototype,"clazzId",[u],{enumerable:!0,initializer:null}),b=o(f.prototype,"userInfo",[d],{enumerable:!0,initializer:null}),p=f))||p);t.default=k},2412:function(e,t){e.exports='<ion-view id="live-home" ng-class="ctrl.currentCourse.courseId?\'hasData\':\'\'">\r\n    <div class="head-box">\r\n        <div class="head-banner-box">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_banner_img_1.png\')}}" alt="" class="banner-img-1">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_banner_img_2.png\')}}" alt="" class="banner-img-2">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_banner_img_3.png\')}}" alt="" class="banner-img-3">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_call_btn.png\')}}" class="call-btn" ng-click="ctrl.callPhone()">\r\n        </div>\r\n        <div class="head-task-box">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_title.png\')}}" alt="" class="head-task-title">\r\n            \x3c!--<div class="task-all-btn"><span ng-click="ctrl.showModal()"> <i class="ion-ios-arrow-right"></i></span></div>--\x3e\r\n            <div class="task-all-btn"><img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_btn.png\')}}" ng-click="ctrl.showModal()"></div>\r\n            <div class="task-des" ng-if="!ctrl.currentCourse.courseId">~</div>\r\n            <div class="task-des" ng-if="ctrl.currentCourse.courseId">\r\n                <span class="title">{{ctrl.currentCourse.topTitle}}</span>\r\n                <span class="subtitle">{{ctrl.currentCourse.lessonName}}</span>\r\n                <span class="time">{{ctrl.currentCourse.showTime1}}</span>\r\n            </div>\r\n            <div class="task-progress">\r\n                <div class="task-progress-item prepare" ng-click="ctrl.goToPaperDetail(1)">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_1.png\')}}" alt="" class="img-step">\r\n                    <span> <i class="ion-ios-arrow-right"></i></span>\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_finish.png\')}}" alt="" class="img-status" ng-if="ctrl.currentCourse.preStatus==4&&ctrl.currentCourse.preStatusFullFlag">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_error.png\')}}" alt="" class="img-status" ng-if="ctrl.currentCourse.preStatus==4&&!ctrl.currentCourse.preStatusFullFlag">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_wait.png\')}}" alt="" class="img-status" ng-if="ctrl.currentCourse.preStatus<4">\r\n                </div>\r\n                <div class="task-progress-item  live" ng-click="ctrl.goToLive()">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_2.png\')}}" alt="" class="img-step">\r\n                    <span ng-if="ctrl.currentCourse.liveStatus!=2"> <i class="ion-ios-arrow-right"></i></span>\r\n                    <span ng-if="ctrl.currentCourse.liveStatus==2"> <i class="ion-ios-arrow-right"></i></span>\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_finish.png\')}}" alt="" class="img-status"  ng-if="ctrl.currentCourse.liveStatus==2">\r\n                </div>\r\n                <div class="task-progress-item  exercise" ng-click="ctrl.goToPaperDetail(2)">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_3.png\')}}" alt="" class="img-step">\r\n                    <span> <i class="ion-ios-arrow-right"></i></span>\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_finish.png\')}}" alt="" class="img-status"  ng-if="ctrl.currentCourse.nextStatus==4&&ctrl.currentCourse.nextStatusFullFlag">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_error.png\')}}" alt="" class="img-status"  ng-if="ctrl.currentCourse.nextStatus==4&&!ctrl.currentCourse.nextStatusFullFlag">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_task_wait.png\')}}" alt="" class="img-status"  ng-if="ctrl.currentCourse.nextStatus!=4&&ctrl.currentCourse.liveStatus==2">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_title.png\')}}" class="course-title">\r\n    </div>\r\n    <ion-content padding="false" class="home-content" delegate-handle="liveHomeScroll">\r\n        <ion-refresher\r\n                pulling-text="..."\r\n                on-refresh="ctrl.getCourseList()">\r\n        </ion-refresher>\r\n        <div class="list-box">\r\n            <div class="list-item" ng-repeat="v in ctrl.allCourseList  track by $index">\r\n                <div class="item-header">\r\n                    <img class="item-discount" ng-src="{{v.discountPercentObj.discountURL}}" alt="" ng-if="v.discountPercentObj&&v.discountPercentObj.discount<10">\r\n                    <div class="item-title">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_type_\'+v.publicClassType+\'.png\')}}" alt="">\r\n                        <span>{{v.courseName}}<span></span></span>\r\n                    </div>\r\n                    <div class="item-star">\r\n                        <span></span>\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}" alt="" ng-repeat="v1 in v.starArr track by $index">\r\n                        <span style="margin-left: 10px"></span>\r\n                        <span style="font-weight: bold">{{ctrl.clazzArr[v.secondaryTeacherName.grade]}}</span>\r\n                    </div>\r\n                    <div class="item-time">{{v.showTime}}<span ng-show="!v.fee"></span></div>\r\n                    <div class="item-teacher">\r\n                        <div class="teacher-box">\r\n                            <img ng-src="{{v.secondaryTeacherName.liveImageUrl}}" alt="">\r\n                            <div class="teacher-des">\r\n                                <p class="teacher-type"></p>\r\n                                <p class="teacher-name">{{v.secondaryTeacherName.teacherName}}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="teacher-box">\r\n                            <img ng-src="{{v.secondaryTeacherName.imageURL}}" alt="">\r\n                            <div class="teacher-des">\r\n                                <p class="teacher-type"></p>\r\n                                <p class="teacher-name">{{v.secondaryTeacherName.teacher}}</p>\r\n                            </div>\r\n                            <div class="enter-num">{{v.limitTotal-v.studentCount}}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="item-bottom" ng-click="ctrl.goToEnter(v)">\r\n                    <span class="course-num"> {{v.paperCount}} </span>\r\n                    <span class="course-handle">{{v.btnText}} <i class="ion-ios-arrow-right"></i></span>\r\n                    <span class="course-type">{{v.feeName}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n    <div class="list-modal" ng-if="ctrl.showCourseModal">\r\n        <div class="list-modal-task"  ng-click="ctrl.hideModal()"></div>\r\n        <div class="list-modal-box">\r\n            <ion-scroll class="list-modal-scroll">\r\n                <div class="list-box" ng-repeat="v in ctrl.myCourseList track by $index">\r\n                    <div class="title">{{v.courseName}}</div>\r\n                    <div class="modal-course-list">\r\n                         <div class="modal-course-item" ng-repeat="v1 in v.videoLiveCoursePapers track by $index" ng-click="ctrl.changeCurrentCourse(v,v1,$index)">\r\n                             <div class="item-num">{{v1.lesson}}</div>\r\n                             <div class="item-content">\r\n                                 <div class="item-content-head">{{v1.lessonName}}</div>\r\n                                 <div class="item-content-middle">\r\n                                     <span></span>\r\n                                     <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}" alt="" ng-repeat="v2 in v1.difficultyArr track by $index">\r\n                                 </div>\r\n                                 <div class="item-content-bottom">{{v1.showTime}}</div>\r\n                                 <i class="ion-ios-arrow-right item-content-arrow"></i>\r\n                             </div>\r\n                         </div>\r\n                    </div>\r\n                </div>\r\n            </ion-scroll>\r\n        </div>\r\n    </div>\r\n    <div class="success-modal" ng-if="ctrl.showSuccessModal">\r\n        <div class="modal-inner">\r\n            <div class="modal-title">{{ctrl.liveTxt}}</div>\r\n            <div class="modal-text-box">\r\n                <p class="title">Ctrl+ACtrl+C</p>\r\n                <textarea name="" id="" rows="8">{{ctrl.liveUrl}}</textarea>\r\n                <p class="title">{{ctrl.liveTxt}}</p>\r\n            </div>\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_success_btn.png\')}}" alt="" class="modal-btn" ng-click="ctrl.closeModal()">\r\n        </div>\r\n    </div>\r\n</ion-view>'},2413:function(e,t,n){var r=n(2414);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2414:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,".platform-ios.platform-cordova:not(.fullscreen) #live-home .head-box {\n  height: 265px;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-home .head-box .head-banner-box {\n  height: 80px;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-home .home-content {\n  top: 310px !important;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-home .call-btn {\n  top: 30px !important;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-home.hasData .head-box {\n  height: 295px;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-home.hasData .home-content {\n  top: 340px !important;\n}\n#live-home {\n  /**/\n  background-color: #e8e8ee;\n}\n#live-home.hasData .head-box {\n  height: 275px;\n}\n#live-home.hasData .home-content {\n  top: 320px;\n}\n#live-home .head-box {\n  background: #ca75ea;\n  position: relative;\n  padding: 0 0 14px;\n  height: 245px;\n}\n#live-home .head-box .head-banner-box {\n  background: #fed845 url("+n(2260)+") no-repeat center / cover;\n  width: 100%;\n  position: relative;\n  height: 60px;\n  padding-right: 50px;\n  margin-bottom: 25px;\n  overflow: hidden;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-home .head-box .head-banner-box .banner-img-1 {\n  width: 87px;\n  margin-bottom: -28px;\n  margin-right: -12px;\n}\n#live-home .head-box .head-banner-box .banner-img-2 {\n  width: 145px;\n  margin-bottom: -2px;\n}\n#live-home .head-box .head-banner-box .banner-img-3 {\n  width: 72px;\n  margin-bottom: -26px;\n  margin-right: -16px;\n}\n#live-home .head-box .head-banner-box .call-btn {\n  position: absolute;\n  height: 24px;\n  right: 3px;\n  top: 10px;\n}\n#live-home .head-box .head-task-box {\n  position: relative;\n  width: 94%;\n  background: #ae62e1;\n  border-radius: 8px;\n  padding: 10px 10px 10px;\n  margin: 0 auto;\n}\n#live-home .head-box .head-task-box .head-task-title {\n  position: absolute;\n  width: 125px;\n  height: 33.4px;\n  left: 50%;\n  margin-left: -62.5px;\n  top: -16px;\n}\n#live-home .head-box .head-task-box .task-des {\n  text-align: center;\n  color: #fff;\n  font-size: 14px;\n  opacity: .9;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-home .head-box .head-task-box .task-des .title,\n#live-home .head-box .head-task-box .task-des .subtitle {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: bold;\n}\n#live-home .head-box .head-task-box .task-des .time {\n  color: #fbf54e;\n  font-size: 12px;\n}\n#live-home .head-box .head-task-box .task-progress {\n  height: 85px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: space-around;\n  -webkit-justify-content: space-around;\n}\n#live-home .head-box .head-task-box .task-progress .task-progress-item {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  position: relative;\n}\n#live-home .head-box .head-task-box .task-progress .task-progress-item .img-step {\n  height: 45px;\n  margin-bottom: 4px;\n}\n#live-home .head-box .head-task-box .task-progress .task-progress-item span {\n  color: #fff;\n  font-size: 14px;\n  opacity: .9;\n}\n#live-home .head-box .head-task-box .task-progress .task-progress-item .img-status {\n  position: absolute;\n  height: 17px;\n  z-index: 10;\n  right: -20px;\n  top: -4px;\n}\n#live-home .head-box .head-task-box .task-all-btn {\n  text-align: left;\n  position: relative;\n  top: -20px;\n  left: -17px;\n  margin-bottom: -6px;\n}\n#live-home .head-box .head-task-box .task-all-btn span {\n  font-size: 12px;\n  background: #9142d7;\n  padding: 4px 6px;\n  color: #fff;\n  border-radius: 20px;\n  text-align: center;\n}\n#live-home .head-box .head-task-box .task-all-btn img {\n  height: 22px;\n}\n#live-home .head-box .course-title {\n  width: 125px;\n  height: 33.4px;\n  display: block;\n  position: absolute;\n  bottom: -37px;\n  left: 0;\n  right: 0;\n  margin: auto;\n}\n#live-home .home-content {\n  top: 290px;\n}\n#live-home .home-content .list-box {\n  width: 94%;\n  margin: 0 auto;\n  padding-bottom: 20px;\n}\n#live-home .home-content .list-box .list-item {\n  background: #fff;\n  border-radius: 8px;\n  margin-bottom: 10px;\n}\n#live-home .home-content .list-box .item-header {\n  height: 160px;\n  padding: 18px 17px 0;\n  position: relative;\n}\n#live-home .home-content .list-box .item-header .item-discount {\n  position: absolute;\n  width: 90px;\n  right: -5px;\n  top: -5px;\n}\n#live-home .home-content .list-box .item-header .item-title {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  height: 30px;\n  font-size: 14px;\n  color: #726c8c;\n  font-weight: bold;\n}\n#live-home .home-content .list-box .item-header .item-title img {\n  width: 20px;\n  margin-right: 4px;\n}\n#live-home .home-content .list-box .item-header .item-title > span {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n#live-home .home-content .list-box .item-header .item-star {\n  font-size: 12px;\n  color: #726c8c;\n}\n#live-home .home-content .list-box .item-header .item-star img {\n  width: 12px;\n  margin-right: 2px;\n}\n#live-home .home-content .list-box .item-header .item-time {\n  font-size: 12px;\n  color: #726c8c;\n  margin: 4px 0;\n}\n#live-home .home-content .list-box .item-header .item-teacher {\n  margin-top: 14px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n#live-home .home-content .list-box .item-header .item-teacher .teacher-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  color: #726c8c;\n  margin-right: 20px;\n  position: relative;\n}\n#live-home .home-content .list-box .item-header .item-teacher .teacher-box img {\n  width: 46px;\n  margin-right: 5px;\n  border-radius: 50%;\n}\n#live-home .home-content .list-box .item-header .item-teacher .teacher-box p {\n  margin: 0;\n}\n#live-home .home-content .list-box .item-header .item-teacher .teacher-box .teacher-type {\n  font-size: 12px;\n  margin-bottom: 4px;\n}\n#live-home .home-content .list-box .item-header .item-teacher .teacher-box .teacher-name {\n  font-size: 14px;\n  font-weight: bold;\n}\n#live-home .home-content .list-box .item-header .item-teacher .teacher-box .enter-num {\n  position: absolute;\n  width: 80px;\n  height: 26px;\n  background: url("+n(2273)+") no-repeat;\n  background-size: 100% 100%;\n  color: #726c8c;\n  font-size: 12px;\n  left: 80px;\n  top: -21px;\n  padding-left: 8px;\n}\n#live-home .home-content .list-box .item-bottom {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  height: 46px;\n  width: 100%;\n  background: url("+n(2264)+") no-repeat;\n  background-size: 100% 100%;\n  position: relative;\n  bottom: -3px;\n}\n#live-home .home-content .list-box .item-bottom .course-num {\n  font-size: 12px;\n  color: #fff;\n  opacity: .9;\n  padding-left: 36px;\n}\n#live-home .home-content .list-box .item-bottom .course-handle {\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n#live-home .home-content .list-box .item-bottom .course-type {\n  font-size: 16px;\n  color: #ffff33;\n  font-weight: bold;\n  padding-right: 36px;\n}\n#live-home .list-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10000;\n}\n#live-home .list-modal .list-modal-task {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10001;\n  background: rgba(0, 0, 0, 0.5);\n}\n#live-home .list-modal .list-modal-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10002;\n  margin: auto;\n  width: 90%;\n  max-width: 400px;\n  height: 80%;\n  max-height: 500px;\n  background: transparent url("+n(2272)+") no-repeat;\n  background-size: 100% 100%;\n  padding: 0 12px 72px 8px;\n}\n#live-home .list-modal .list-modal-box .title {\n  color: #8a1c1c;\n  font-size: 16px;\n  font-weight: bold;\n  height: 40px;\n  line-height: 50px;\n  text-align: center;\n}\n#live-home .list-modal .list-modal-box .list-modal-scroll {\n  height: 100%;\n}\n#live-home .list-modal .list-modal-box .modal-course-list {\n  padding: 0 10px 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  flex-wrap: wrap;\n  -webkit-flex-wrap: wrap;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item {\n  width: 49%;\n  margin-top: 20px;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item:nth-child(odd) {\n  margin-right: 2%;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item .item-num {\n  font-size: 14px;\n  color: #8a1c1c;\n  text-align: center;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item .item-content {\n  height: 80px;\n  background: #f19b54;\n  border-radius: 10px;\n  color: #8a1c1c;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  position: relative;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item .item-content .item-content-head {\n  font-size: 14px;\n  font-weight: bold;\n  margin-bottom: 11px;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item .item-content .item-content-middle {\n  font-size: 10px;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item .item-content .item-content-middle img {\n  width: 12px;\n  margin-right: 2px;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item .item-content .item-content-bottom {\n  font-size: 10px;\n  color: red;\n}\n#live-home .list-modal .list-modal-box .modal-course-list .modal-course-item .item-content .item-content-arrow {\n  font-size: 30px;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 10px;\n  margin: auto;\n  color: #8a1c1c;\n  height: 48px;\n}\n#live-home .success-modal {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  z-index: 999;\n  margin: auto;\n  background: rgba(0, 0, 0, 0.5);\n}\n#live-home .success-modal .modal-inner {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  margin: auto;\n  width: 94%;\n  max-width: 600px;\n  height: 400px;\n  background: #fff;\n  border-radius: 10px;\n  padding: 30px 0 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n#live-home .success-modal textarea {\n  border: 1px solid #efefef;\n  width: 100%;\n  margin: 8px 0;\n  color: #4747f1;\n  font-size: 12px;\n  padding: 10px;\n}\n#live-home .success-modal .modal-title {\n  font-size: 20px;\n  color: #2eaf58;\n  font-weight: bold;\n}\n#live-home .success-modal .modal-text-box {\n  padding: 0  40px;\n  font-size: 14px;\n  color: #726c8c;\n  width: 100%;\n}\n#live-home .success-modal .modal-text-box .title {\n  font-weight: bold;\n}\n#live-home .success-modal .modal-text-box p {\n  line-height: 20px;\n  margin-bottom: 0;\n}\n#live-home .success-modal .modal-btn {\n  width: 160px;\n}\n.live-share-title {\n  text-align: left;\n  font-size: 18px;\n  color: #726c8c;\n  padding-left: 20px;\n}\n.live-share-content {\n  padding-top: 10px;\n  color: #726c8c;\n  text-align: center;\n}\n",""])},2415:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f,v,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(2400),m=n(2249),b=function(e){return e&&e.__esModule?e:{default:e}}(m),y=(a=(0,g.View)("live_course_enter",{url:"/live_course_enter",template:n(2416),styles:n(2417),inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicPopup","$ionicLoading","paperService","$timeout","$ocLazyLoad","$ionicActionSheet","liveService"]}),s=(0,g.select)(function(e){return e.select_course}),l=(0,g.select)(function(e){return e.profile_user_auth.user}),c=(0,g.select)(function(e){return e.wl_selected_clazz}),a((d=function(){function e(){i(this,e),r(this,"selectCourse",p,this),r(this,"userInfo",f,this),r(this,"clazzInfo",v,this),this.courseDetail={}}return h(e,[{key:"onBeforeLeaveView",value:function(){}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){this.go("home.live_home")}}]),h(e,[{key:"initData",value:function(){}},{key:"initFn",value:function(){this.getCourseDetail()}},{key:"getCourseDetail",value:function(){var e=this;this.liveService.getCourseDetail({id:this.selectCourse.id}).then(function(t){t.teacherIntroduce=JSON.parse(t.teacherIntroduce),t.lessionContent=JSON.parse(t.lessionContent),t.lessionHarvest=JSON.parse(t.lessionHarvest),t.teacherIntroduce.teacherStarArr=new Array(t.teacherIntroduce.teacherStar),console.log(t),e.courseDetail=t})}},{key:"enterCourse",value:function(){if(1!=this.selectCourse.type)return this.selectCourse.limitTotal==this.selectCourse.studentCount?void this.$ionicPopup.alert({title:"",template:":17780695191"}):5!=this.clazzInfo.grade?void this.$ionicPopup.alert({title:"",template:"~"}):void this.go("live_course_verify")}},{key:"callPhone",value:function(){this.$ionicActionSheet.show({buttons:[],titleText:'<div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-content" style="padding-left: 0;padding-top: 10px;text-align: center"><img src="'+b.default+'" alt="" width="150"></div>\n                        </div>',cancelText:"",buttonClicked:function(e){return!1}})}}]),e}(),p=o(d.prototype,"selectCourse",[s],{enumerable:!0,initializer:null}),f=o(d.prototype,"userInfo",[l],{enumerable:!0,initializer:null}),v=o(d.prototype,"clazzInfo",[c],{enumerable:!0,initializer:null}),u=d))||u);t.default=y},2416:function(e,t){e.exports='<ion-view id="live-course-enter">\r\n    <ion-header-bar class="bar-balanced enter-bar" align-title="center">\r\n        <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"></i>\r\n        </button>\r\n        <h1 class="title"></h1>\r\n        <button class="button buttons button-clear item-call"  ng-click="ctrl.callPhone()">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_call_btn.png\')}}" class="pay-water">\r\n        </button>\r\n    </ion-header-bar>\r\n    <ion-content padding="false" class="enter-content">\r\n        <div class="content-banner">\r\n            <div class="content-title"></div>\r\n            <div class="banner-box" ng-if="ctrl.courseDetail.teacherIntroduce">\r\n                <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_banner_bg_2.png\')}}" class="banner-box-bg">\r\n                <div class="text-box">\r\n                    <div class="star-box" ng-if="ctrl.courseDetail.teacherIntroduce.teacherStarArr.length>0">\r\n                        <span>{{ctrl.courseDetail.teacherIntroduce.teacherType}}</span>\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_enter_star.png\')}}" alt="" ng-repeat="v1 in ctrl.courseDetail.teacherIntroduce.teacherStarArr track by $index">\r\n                    </div>\r\n                    <div class="name">\r\n                        <img ng-src="{{ctrl.courseDetail.teacherIntroduce.teacherNameURL}}" alt="">\r\n                    </div>\r\n                    <div class="normal" ng-repeat="v2 in ctrl.courseDetail.teacherIntroduce.headTitle track by $index">{{v2}}</div>\r\n                </div>\r\n                <img ng-src="{{ctrl.courseDetail.teacherIntroduce.imageURL}}" class="banner-teacher">\r\n            </div>\r\n        </div>\r\n        <div class="content-section-2">\r\n            <div class="content-title"></div>\r\n            <div class="normal-box">\r\n                <div class="title"></div>\r\n                <div class="text">\r\n                    <span class="text-margin">{{ctrl.selectCourse.lessionName}}</span>\r\n                    <span class="star">\r\n                        <span></span>\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}" alt=""  ng-repeat="v in ctrl.selectCourse.starArr track by $index">\r\n                    </span>\r\n                </div>\r\n                <div class="text">\r\n                    <span class="text-margin">{{ctrl.selectCourse.showDate}}</span>\r\n                    <span>{{ctrl.selectCourse.showDateTime}}</span>\r\n                </div>\r\n                <div class="text">\r\n                    <span class="text-margin-2">{{ctrl.selectCourse.teacherName}}</span>\r\n                    <span>{{ctrl.selectCourse.secondaryTeacherName.teacher}}</span>\r\n                </div>\r\n            </div>\r\n            <div class="normal-box" ng-if="ctrl.courseDetail.lessionContent">\r\n                <div class="title"></div>\r\n                <div class="text" ng-repeat="v in ctrl.courseDetail.lessionContent track by $index">\r\n                    {{v}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="content-section-3">\r\n            <div class="content-title"></div>\r\n            <div class="normal-box">\r\n                <div ng-repeat="v in ctrl.courseDetail.lessionHarvest track by $index">\r\n                    {{v}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="content-section-4">\r\n            <div class="content-title"></div>\r\n            <div class="normal-box">\r\n                <div class="box-item  step-3">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_step_1.png\')}}">\r\n                    </div>\r\n                    <div class="bottom">\r\n                        <p></p>\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-arrow">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_arrow.png\')}}">\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-2">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_step_2.png\')}}">\r\n                    </div>\r\n                    <div class="bottom">\r\n                        <p>15</p>\r\n                        <p>365</p>\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-arrow">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_arrow.png\')}}">\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-3">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_step_3.png\')}}">\r\n                    </div>\r\n                    <div class="bottom">\r\n                        <p></p>\r\n                        <p></p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_erweima.png\')}}" class="erweima">\r\n            <div class="notice">365</div>\r\n        </div>\r\n    </ion-content>\r\n    <div class="live-course-bottom">\r\n        <span class="btn-text" ng-if="ctrl.selectCourse.type==1"></span>\r\n        <img  ng-if="ctrl.selectCourse.type==0" ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_bottom_btn_\'+ctrl.selectCourse.type+\'.png\')}}" ng-if="ctrl.selectCourse.type!==undefined" ng-click="ctrl.enterCourse()">\r\n    </div>\r\n</ion-view>'},2417:function(e,t,n){var r=n(2418);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2418:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"#live-course-enter {\n  /**/\n  background-color: #ca75ea;\n}\n#live-course-enter .enter-bar {\n  background-color: #ca75ea !important;\n  border: none !important;\n}\n#live-course-enter .enter-bar .title {\n  font-weight: bold;\n}\n#live-course-enter .enter-bar .item-back {\n  padding-right: 20px;\n}\n#live-course-enter .enter-bar .item-back i:before {\n  font-size: 28px;\n}\n#live-course-enter .enter-bar .item-call img {\n  width: 70px;\n}\n#live-course-enter .enter-content {\n  background-color: #ca75ea;\n}\n#live-course-enter .enter-content .content-title {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n  color: #fff;\n  position: relative;\n  z-index: 1000;\n  width: 100px;\n  height: 38px;\n  background: url("+n(2246)+") no-repeat;\n  background-size: 100% 100%;\n  margin: 0 auto 5px;\n}\n#live-course-enter .enter-content .content-banner {\n  background: #f9d251 url("+n(2260)+") repeat;\n  height: 234px;\n  position: relative;\n  padding-top: 10px;\n  overflow: hidden;\n}\n#live-course-enter .enter-content .content-banner .banner-box-bg {\n  position: absolute;\n  z-index: 0;\n  width: 400px;\n  height: 280px;\n  left: 50%;\n  margin-left: -172px;\n  top: 50%;\n  margin-top: -111px;\n}\n#live-course-enter .enter-content .content-banner .text-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n  position: relative;\n  z-index: 2;\n  width: 270px;\n  height: 180px;\n  font-size: 12px;\n  margin: 0 auto;\n  color: #bf4e16;\n  padding-right: 80px;\n}\n#live-course-enter .enter-content .content-banner .text-box .star-box img {\n  width: 12px;\n  margin-right: 2px;\n}\n#live-course-enter .enter-content .content-banner .text-box .name img {\n  height: 30px;\n  margin: 6px 0;\n}\n#live-course-enter .enter-content .content-banner .text-box .normal {\n  line-height: 16px;\n  margin-bottom: 3px;\n}\n#live-course-enter .enter-content .content-banner .banner-teacher {\n  position: absolute;\n  z-index: 1;\n  width: 110px;\n  left: 50%;\n  margin-left: 52px;\n  top: 53px;\n}\n#live-course-enter .enter-content .content-section-2 {\n  background: #fff;\n  padding: 10px 10px 1px;\n  margin-top: 10px;\n}\n#live-course-enter .enter-content .content-section-2 .normal-box {\n  border: 1px solid #efefef;\n  border-radius: 6px;\n  padding: 10px 30px;\n  margin-bottom: 10px;\n}\n#live-course-enter .enter-content .content-section-2 .normal-box .title {\n  font-size: 16px;\n  color: #716c8c;\n  margin-bottom: 8px;\n  font-weight: bold;\n}\n#live-course-enter .enter-content .content-section-2 .normal-box .text {\n  font-size: 14px;\n  color: #716c8c;\n  line-height: 20px;\n}\n#live-course-enter .enter-content .content-section-2 .normal-box .text .text-margin {\n  margin-right: 20px;\n}\n#live-course-enter .enter-content .content-section-2 .normal-box .text .text-margin-2 {\n  margin-right: 40px;\n}\n#live-course-enter .enter-content .content-section-2 .normal-box .text .star img {\n  width: 12px;\n  margin-right: 2px;\n}\n#live-course-enter .enter-content .content-section-3 {\n  background: #fff;\n  padding: 10px 40px 20px;\n  margin-top: 10px;\n}\n#live-course-enter .enter-content .content-section-3 .normal-box {\n  font-size: 14px;\n  color: #716c8c;\n  line-height: 20px;\n  margin-top: 20px;\n}\n#live-course-enter .enter-content .content-section-4 {\n  background: #fff;\n  padding: 10px 17px 60px;\n  margin-top: 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n  padding-top: 20px;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n  width: 80px;\n  font-size: 12px;\n  color: #716c8c;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item.step-arrow {\n  width: 40px;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item.step-arrow .header img {\n  width: 30px;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item.step-1 .header img {\n  width: 51px;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item.step-2 {\n  width: 100px;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item.step-2 .header img {\n  width: 51px;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item .header {\n  width: 100%;\n  height: 95px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item .header img {\n  width: 50px;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item .bottom {\n  width: 100%;\n  text-align: center;\n}\n#live-course-enter .enter-content .content-section-4 .normal-box .box-item .bottom p {\n  margin-bottom: 3px;\n}\n#live-course-enter .enter-content .content-section-4 .erweima {\n  width: 120px;\n  margin: 10px 0;\n}\n#live-course-enter .enter-content .content-section-4 .notice {\n  width: 280px;\n  font-size: 12px;\n  color: #716c8c;\n}\n#live-course-enter .live-course-bottom {\n  position: fixed;\n  z-index: 11000;\n  height: 40px;\n  background: #f59e3f;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n#live-course-enter .live-course-bottom img {\n  width: 186px;\n  position: relative;\n  top: -8px;\n}\n#live-course-enter .live-course-bottom .btn-text {\n  font-size: 18px;\n  font-weight: bold;\n  color: #fff;\n  line-height: 40px;\n}\n#live-course-enter .success-modal {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  margin: auto;\n  background: rgba(0, 0, 0, 0.5);\n}\n#live-course-enter .success-modal .modal-inner {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  margin: auto;\n  width: 94%;\n  max-width: 400px;\n  height: 290px;\n  background: #fff;\n  border-radius: 10px;\n  padding: 30px 0 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n#live-course-enter .success-modal .modal-title {\n  font-size: 20px;\n  color: #2eaf58;\n  font-weight: bold;\n}\n#live-course-enter .success-modal .modal-text-box {\n  padding: 0  40px;\n  font-size: 14px;\n  color: #726c8c;\n}\n#live-course-enter .success-modal .modal-text-box .title {\n  font-weight: bold;\n}\n#live-course-enter .success-modal .modal-text-box p {\n  line-height: 20px;\n}\n#live-course-enter .success-modal .modal-btn {\n  width: 160px;\n}\n.live_course_phone {\n  font-size: 14px;\n  color: #ccc;\n  padding: 15px 55px;\n  text-decoration: none;\n}\n.live_course_phone span {\n  color: red;\n  font-size: 16px;\n}\n",""])},2419:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(282),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(2400),d=(i=(0,u.View)("live_select_question",{url:"/live_select_question/:paperId/:paperInstanceId/:redoFlag/:urlFrom/:questionIndex/:urlFromMark",template:n(2420),styles:n(2421),inject:["$scope","$rootScope","$log","$state","commonService","paperService","uuid4","$ionicPopup","$ngRedux","$ionicSlideBoxDelegate","$ionicTabsDelegate","ngLocalStore","$timeout","$ionicHistory","finalData","workStatisticsServices","pageRefreshManager","countDownService","competitionFinalData"]}))((a=function(){function e(){r(this,e),this.initFlags()}return s(e,[{key:"initFlags",value:function(){this.paperDataInitializedFlag=!1,this.qsList=[],this.regFlag=!1,this.onLine=!0}},{key:"onReceiveProps",value:function(){this.ensurePageData()}},{key:"onUpdate",value:function(){}},{key:"onBeforeEnterView",value:function(){this.regFlag=!1,
this.paperDataInitializedFlag=!1}},{key:"onAfterEnterView",value:function(){this.timerMark="liveTimer"+this.userInfo.userId+this.selectCourse.id}},{key:"onBeforeLeaveView",value:function(){}},{key:"parseSeqNumToInt",value:function(e){return parseInt(e)}},{key:"ensurePageData",value:function(){function e(){var e=this;(0,c.default)(this.qsList,function(t){return(0,c.default)(t.qsList,function(t){return void 0===e.statusMapForQuestions[t.id]})})&&this.getPaperDataFromService()}var t=this;this.getStateService().params;if(this.btnText="","doQuestion"!=this.getRootScope().selectQuestionUrlFrom&&!this.paperDataInitializedFlag&&this.selectedWork&&this.selectedWork.paperId&&(this.paperDataInitializedFlag=!0,this.getPaperDataFromService()),this.canFetchDoPaper&&!this.paperDataInitializedFlag&&!this.isFetchDoPaperLoading&&this.selectedWork&&this.selectedWork.paperId&&(this.paperDataInitializedFlag=!0,this.getPaperDataFromService()),this.paperDataInitializedFlag&&!this.paperService.startPaperTimeCollectorFlag&&this.selectedPaperId&&(this.paperService.startPaperTimeCollectorFlag=!0,this.paperService.timeCollector.checkStatusForPaper(this.selectedPaperInstanceId,this.paperStatus,this.title)),!this.canFetchDoPaper&&!this.paperDataInitializedFlag&&this.selectedWork&&this.selectedWork.paperId||!this.onLine&&!this.paperDataInitializedFlag){this.regFlag=!0,this.paperDataInitializedFlag=!0;var n=this.ngLocalStore.getTempWork();n.id==this.bigQList?(this.qsList=n.qsList,e.call(this)):this.ngLocalStore.doPaperStore.getItem(this.loginName+"/"+this.selectedWork.instanceId).then(function(n){n&&(t.ngLocalStore.setTempWork(t.loginName+"/"+t.bigQList,n),t.getScope().$apply(function(){t.qsList=n,e.call(t)}))},function(){e.call(t)})}}},{key:"getPaperDataFromService",value:function(e){var t=this;this.fetchPaper(this.getStateService().params.redoFlag,!1).then(function(n){if(t.regFlag=!0,n){if(t.getRootScope().$emit("fetch_competition_info_from_server"),t.selectedWork.publishType===t.finalData.WORK_TYPE.MATCH_WORK){var r=t.commonService.getLocalStorage(t.competitionFinalData.COMPETITION_PAPER_COUNT_DOWN_TIME),i=60*t.selectedWork.limitTime,o=r&&r[t.loginName+t.selectedWork.instanceId];r&&void 0!==o&&(i=o),t.countDownService.updateTime(i)}var a=t.ngLocalStore.getTempWork();a.id==t.bigQList&&(t.qsList=a.qsList),t.getScope().$broadcast("scroll.refreshComplete"),e()}},function(){t.regFlag=!0,t.getScope().$broadcast("scroll.refreshComplete")})}},{key:"mapStateToThis",value:function(e){var t=e.work_list_route.urlFrom,n=e.profile_user_auth.user.userId,r="olympic_math_t"===e.work_list_route.urlFrom?e.olympic_math_selected_clazz.id:"olympic_math_s"===e.work_list_route.urlFrom?n:e.wl_selected_clazz.id,i=e.wl_clazz_list_with_works,o=(e.wl_selected_clazz.id,e.wl_selected_work),a=i[r]&&(0,c.default)(i[r],{instanceId:o.instanceId}),s=a?a.paperInfo.doPaper:null,l=s&&s.history.paperId,u=s&&s.history.paperInstanceId,d=s&&s.availableTime,p=e.wl_selected_work.instanceId,f=e.oral_calculation_limittime[p],v=e.final_access_limittime[p];return{loginName:e.profile_user_auth.user.loginName,isFetchDoPaperLoading:e.wl_is_fetch_doPaper_loading,isLoadingProcessing:(e.wl_is_fetch_doPaper_loading||e.wl_is_paper_submitting||e.wl_is_post_answer_loading)&&"oral_work"!=t,isLoadingProcessingOral:"oral_work"==t,ansChanged:e.wl_is_local_ans_changed,selectedWork:o,stateUrlFrom:e.work_list_route.urlFrom,selectedPaperId:l,selectedPaperInstanceId:u,canFetchDoPaper:a&&a.canFetchDoPaper,paperStatus:s&&s.history.status.key,title:a&&a.paperInfo.paperName,bigQList:s&&s.bigQList,statusMapForQuestions:s&&s.statusMapForQuestions||[],availableTime:d,onLine:e.app_info.onLine,paperTime:13==o.publishType?v:f,selectWork:e.wl_selected_work,selectCourse:e.select_course,userInfo:e.profile_user_auth.user}}},{key:"mapActionToThis",value:function(){return{fetchPaper:this.paperService.fetchPaper,submitPaper:this.paperService.submitPaper,submitAnsAndPaper:this.paperService.submitAnsAndPaper.bind(this.paperService),postAnsToServer:this.paperService.postAnsToServer,checkAssignedQuestion:this.paperService.checkAssignedQuestion,fillSlideBoxData:this.paperService.fillSlideBoxData,deleteOralPaperLimitTime:this.workStatisticsServices.deleteLimitTimeByOralPaperId}}},{key:"goToCheck",value:function(e,t){var n=this,r=localStorage.getItem(this.timerMark+"max"),i=localStorage.getItem(this.timerMark),o=(new Date).getTime();if(r-Math.floor((o-i)/1e3)<=0&&1==this.selectWork.liveToPay)return void this.$ionicPopup.alert({title:"",template:"<p></p>",okText:""});this.checkAssignedQuestion(e,t),this.fillSlideBoxData(this.qsList);var a=e.qsList.filter(function(e){return 0==n.statusMapForQuestions[e.id]}),s={paperId:this.selectedPaperId,paperInstanceId:this.selectedPaperInstanceId,urlFrom:this.getStateService().params.urlFrom,urlFromMark:this.getStateService().params.urlFromMark||""};a.length==e.qsList.length&&(s.isFirst="yes"),this.go("live_do_question","forward",s)}},{key:"goUrlHandle",value:function(){var e=this.getStateService().params;return this.selectWork.liveToPay?void this.go("live_course_fee_paper"):"live"==e.urlFrom?void this.go("home.live_home"):"detail"==e.urlFrom&&"live"==e.urlFromMark?void this.go("live_work_detail","back",{urlFrom:"live"}):void this.go("live_work_detail","back")}},{key:"back",value:function(){var e=this,t=this;if(this.paperService.timeCollector.stopCollectTimeForPaper(),this.selectedWork.publishType==this.finalData.WORK_TYPE.FINAL_ACCESS&&this.paperTime&&this.paperTime.startTime)return void this.commonService.showConfirm("","<p></p>").then(function(n){n&&t.postAnsToServer().then(function(){t.goUrlHandle(),e.paperService.startPaperTimeCollectorFlag=!1,t.paperService.timeCollector.clearIntervalTime(t.selectedPaperInstanceId)})});this.ansChanged[this.selectedPaperInstanceId]?this.onLine?this.$ionicPopup.alert({title:"",template:"<p></p>",okText:""}).then(function(){t.postAnsToServer().then(function(){t.goUrlHandle(),e.paperService.startPaperTimeCollectorFlag=!1,t.paperService.timeCollector.clearIntervalTime(t.selectedPaperInstanceId)})}):this.$ionicPopup.alert({title:"",template:"<p>,,,</p>",okText:""}).then(function(){e.paperService.startPaperTimeCollectorFlag=!1,t.goUrlHandle()}):(t.goUrlHandle(),this.paperService.startPaperTimeCollectorFlag=!1)}},{key:"submitCallback",value:function(e){var t=this;console.log(""),this.$timeout(function(){t.selectedWork.publishType!=t.finalData.WORK_TYPE.ORAL_WORK_KEYBOARD&&t.selectedWork.publishType!=t.finalData.WORK_TYPE.ORAL_WORK&&t.selectedWork.publishType!=t.finalData.WORK_TYPE.FINAL_ACCESS||t.deleteOralPaperLimitTime(t.selectedWork.paperId),t.paperService.timeCollector.stopCollectTimeForPaper(),t.paperService.startPaperTimeCollectorFlag=!1,t.paperService.timeCollector.clearIntervalTime(t.selectedPaperInstanceId),t.selectWork.liveToPay?t.go("live_course_fee_paper"):t.go("home.live_home")},100)}},{key:"submitPaperHandle",value:function(){var e=this,t={title:"",msg:""},n=this;this.selectedWork.publishType===this.finalData.WORK_TYPE.FINAL_ACCESS&&(t.msg=""),this.commonService.showConfirm(t.title,t.msg).then(function(t){if(t){var r=void 0;if((e.selectedWork.publishType==e.finalData.WORK_TYPE.ORAL_WORK_KEYBOARD||e.selectedWork.publishType==e.finalData.WORK_TYPE.ORAL_WORK||e.selectedWork.publishType==e.finalData.WORK_TYPE.FINAL_ACCESS)&&e.paperTime){var i=Math.floor(((new Date).getTime()-e.paperTime.startTime)/1e3);r=i>60*e.selectedWork.limitTime||i<0?60*e.selectedWork.limitTime:i}n.submitAnsAndPaper(n.submitCallback.bind(n),!1,void 0,r?1e3*r:void 0)}})}}]),e}(),function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(a.prototype,"getPaperDataFromService",[u.PromiseFn],Object.getOwnPropertyDescriptor(a.prototype,"getPaperDataFromService"),a.prototype),o=a))||o;t.default=d},2420:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="select_question_file">\r\n    <loading-processing-v2></loading-processing-v2>\r\n    \x3c!----\x3e\r\n    <div class="bar bar-header page_header">\r\n        <button ng-click="ctrl.back()"\r\n                class="button buttons  button-clear page_header_btn_back common-back-btn">\r\n            <i class="icon ion-ios-arrow-back page_header_btn_back_i"></i>\r\n        </button>\r\n        \x3c!----\x3e\r\n        <h1 class="title page_header_content"\r\n            style="margin-left: 72px;margin-right: 72px;">\r\n            {{ctrl.title}}{{ctrl.selectedWork.liveType}}\r\n        </h1>\r\n    </div>\r\n\r\n\r\n\r\n    \x3c!----\x3e\r\n    <ion-content class="page_content">\r\n        <div ng-show="!ctrl.onLine" class="offline-alert-container">\r\n            <span class="alert-text"> <i class="icon ion-alert-circled"></i>&nbsp;</span>\r\n        </div>\r\n        \x3c!--  <ion-refresher pulling-text="..." on-refresh="ctrl.getPaperDataFromService()"></ion-refresher>--\x3e\r\n\r\n        \x3c!----\x3e\r\n        <div class="card page_content_box" ng-repeat="bigQ in ctrl.qsList"\r\n             ng-init="firstIndex=$index">\r\n            \x3c!----\x3e\r\n            <div class="page_content_bigTitle"\r\n                 ng-bind="bigQ.bigQVoIndex + \'\' + bigQ.title + \'(\'+bigQ.score+\')\'">\r\n            </div>\r\n            \x3c!----\x3e\r\n            <div class="list page_content_list">\r\n                \x3c!----\x3e\r\n                <a class="item item-icon-left page_content_list_cell"\r\n                   ng-repeat="qs in  bigQ.qsList"\r\n                   ng-click="ctrl.goToCheck(bigQ,qs)">\r\n\r\n                    <span class="page_content_list_left" ng-bind="\'\'+(ctrl.parseSeqNumToInt(qs.seqNum)+1)+\'\'"></span>\r\n                    <span class="page_content_list_right page_content_list_right_todo"\r\n                          ng-if="ctrl.statusMapForQuestions[qs.id]==0"></span>\r\n                    <span class="page_content_list_right page_content_list_right_modify"\r\n                          ng-if="ctrl.statusMapForQuestions[qs.id]==1"></span>\r\n                    <span class="page_content_list_right page_content_list_right_check"\r\n                          ng-if="ctrl.statusMapForQuestions[qs.id]==2"></span>\r\n                    <span class="page_content_list_right page_content_list_right_ok"\r\n                          ng-if="ctrl.statusMapForQuestions[qs.id]==3"></span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n\r\n    \x3c!--loading--\x3e\r\n    \x3c!--<loading-processing load-top="200"></loading-processing>--\x3e\r\n    \x3c!--<loading-processing-oral></loading-processing-oral>--\x3e\r\n    \x3c!----\x3e\r\n    <ion-footer-bar class="page_footer">\r\n        <button class="button-clear bg-calm  bar-item flex_1 button" ng-click="ctrl.submitPaperHandle()"\r\n                ng-if="ctrl.qsList&&ctrl.qsList.length>0">\r\n            <i class="icon ion-paper-airplane"></i>\r\n            {{ctrl.btnText}}\r\n        </button>\r\n    </ion-footer-bar>\r\n</ion-view>'},2421:function(e,t,n){var r=n(2422);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2422:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"",""])},2423:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(282),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(2400),u=(i=(0,c.View)("live_work_detail",{url:"/live_work_detail/:paperId/:paperInstanceId/:urlFrom",template:n(2424),styles:n(2425),inject:["$scope","$rootScope","$ngRedux","$state","$ionicScrollDelegate","$ionicPopup","$ionicHistory","paperService","workStatisticsServices","ngLocalStore","commonService","finalData","olympicMathService","subHeaderService"]}))(o=function(){function e(){r(this,e)}return a(e,[{key:"onReceiveProps",value:function(){this.ensurePaperFetched()}},{key:"onUpdate",value:function(){this.paperFetched=!1,this.retFlag=!1}},{key:"loadCallback",value:function(){this.getScope().$broadcast("scroll.refreshComplete")}},{key:"pullRefresh",value:function(){var e=this;this.fetchPaper("false",!0,this.loadCallback.bind(this)).then(function(){if(e.paper&&e.paper.bigQList){var t=e.ngLocalStore.getStateWork();e.parseWasteTime(e.paper.wasteTime),t.id==e.paper.bigQList&&(e.qsList=t.qsList)}})}},{key:"onAfterEnterView",value:function(){}},{key:"initFlags",value:function(){this.paperFetched=!1,this.tabFlags={WORK_DETAIL:"work_detail",WORK_STAR:"work_star"},this.onLine=!0,this.currentTab=this.tabFlags.WORK_DETAIL,this.qsList=[],this.alertTipInfo={workDetail:this.commonService.getLocalStorage(this.getState().profile_user_auth.user.userId+"workDetail")},this.noTip={status:!1},this.retFlag=!1}},{key:"initData",value:function(){this.isIos=this.getRootScope().platform.IS_IPHONE||this.getRootScope().platform.IS_IPAD,this.WORK_TYPE=this.finalData.WORK_TYPE}},{key:"ensurePaperFetched",value:function(){var e=this;!this.paperFetched&&!this.isLoadingProcessing&&this.selectedWork&&this.selectedWork.paperId&&(this.paperFetched=!0,this.fetchPaper("false",!0,null).then(function(t){if(e.retFlag=!0,t&&e.paper&&e.paper.bigQList){var n=e.ngLocalStore.getStateWork();e.parseWasteTime(e.paper.wasteTime),n.id==e.paper.bigQList&&(e.qsList=n.qsList)}})),!this.paperFetched&&!this.onLine&&this.selectedWork&&this.selectedWork.paperId&&(this.paperFetched=!0,this.ngLocalStore.paperStore.getItem(this.loginName+"/"+this.selectedWork.instanceId).then(function(t){e.retFlag=!0,e.getScope().$apply(function(){return e.qsList=t})}))}},{key:"parseWasteTime",value:function(e){e=parseInt(e);var t=Math.floor(e/60),n=e%60;this.paper.wasteTime={minutes:t,seconds:n}}},{key:"showQ",value:function(e,t){e.showQFlag=!e.showQFlag,t.stopPropagation()}},{key:"hideAllQ",value:function(){$.each(this.qsList,function(e,t){$.each(t.qsList,function(e,t){console.log("smallQStuAnsMapList",t.smallQStuAnsMapList),t.smallQStuAnsMapList||(t.smallQStuAnsMapList={}),$.each(t.smallQStuAnsMapList,function(e,t){t.showQFlag=!1})})})}},{key:"getScrollPosition",value:function(){var e=this.getScope();e.moveData=this.$ionicScrollDelegate.getScrollPosition().top,e.moveData>=250?$(".scrollToTop").fadeIn():e.moveData<250&&$(".scrollToTop").fadeOut()}},{key:"scrollTop",value:function(){this.$ionicScrollDelegate.scrollTop(!0)}},{key:"redoWork",value:function(){var e=this.commonService,t={paperId:this.selectedWork.paperId,paperInstanceId:this.selectedWork.instanceId};if(this.selectedWork.failMsg&&(this.selectedWork.failMsg=""),this.getPaperStatus(t,!0),this.selectedWork.failMsg)return void e.alertDialog(this.selectedWork.failMsg,1500);if(-1==this.selectedWork.status)return void e.showAlert("","").then(function(){this.workList.splice($index,1)});if(3==this.selectedWork.status)return void $ionicPopup.alert({title:"",template:"<p></p>",okText:""});this.selectedWork.status;var n={paperId:this.selectedWork.paperId,paperInstanceId:this.selectedWork.instanceId,redoFlag:"true",urlFrom:"detail"};"live"==this.getStateService().params.urlFrom&&(n.urlFromMark="live"),this.getRootScope().selectQuestionUrlFrom="detail",this.go("live_select_question",n)}},{key:"mapActionToThis",value:function(){return{changeUrlFromForStore:this.olympicMathService.changeUrlFromForStore.bind(this.olympicMathService),fetchPaper:this.paperService.fetchPaper,getPaperStatus:this.workStatisticsServices.getPaperStatus}}},{key:"mapStateToThis",value:function(e){var t=e.profile_user_auth.user.userId,n=e.wl_selected_clazz.id,r="olympic_math_s"===e.work_list_route.urlFrom,i=e.wl_clazz_list_with_works[n],o=e.wl_selected_work,a=e.profile_user_auth.user.name,s=i&&(0,l.default)(i,{instanceId:o.instanceId});if(!s)return{};var c=e.wl_selected_clazz.name;return{isLoadingProcessing:e.wl_is_fetch_paper_loading,comeFromOlympicMathS:r,urlFrom:e.work_list_route.urlFrom,clzName:c,selectedWork:o,isFinalSprint:!0,paper:s&&s.paperInfo.paper,canFetchPaper:s&&s.canFetchPaper,title:s&&s.paperInfo.paper&&s.paperInfo.paper.title,loginName:e.profile_user_auth.user.loginName,userName:a,userId:t,user:e.profile_user_auth.user,onLine:e.app_info.onLine,selectWork:e.wl_selected_work}}},{key:"back",value:function(){2==this.selectWork.liveToPay?this.go("live_course_fee_paper"):this.go("home.live_home")}},{key:"onBeforeEnterView",value:function(){this.initFlags(),this.initData(),this.subHeaderService.save({id:"oral_calculation_work_detail_subheader",activeEle:"oral_calculation_after_correct"})}}]),e}())||o;t.default=u},2424:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="work_detail_file">\r\n    <ion-header-bar class="page_header" style="background: #d2f7ef" align-title="center">\r\n        <button class="button buttons  button-clear common-back-btn" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"></i>\r\n        </button>\r\n        <h1 class="title"\r\n            ng-if="ctrl.retFlag"\r\n            style="color:#4a6b9d;font-weight: bold;margin-left: 72px;margin-right: 72px;">\r\n            {{ctrl.selectedWork.paperName}}{{ctrl.selectedWork.liveType}}\r\n        </h1>\r\n        <div class="title spinner-container" ng-show="ctrl.isLoadingProcessing && !ctrl.retFlag"\r\n             style="display: flex;display: -webkit-flex;justify-content: center;-webkit-justify-content:center">\r\n            <ion-spinner icon="ripple"></ion-spinner>\r\n            <span class="spinner-text">....</span>\r\n        </div>\r\n    </ion-header-bar>\r\n    <div>\r\n        <sub-header id="work_detail_subheader">\r\n            <div class="subheader-item" id="work_detail">\r\n                <span ng-bind="ctrl.userName" class="sub-title"></span>\r\n            </div>\r\n        </sub-header>\r\n        \x3c!----\x3e\r\n        <ion-content class="has-header has-subheader"\r\n                     overflow-scroll="true"\r\n                     on-scroll="ctrl.getScrollPosition()"\r\n                     ng-class="{\'ios-content\':ctrl.isIos}">\r\n            <ion-refresher pulling-text="..." on-refresh="ctrl.pullRefresh()"></ion-refresher>\r\n            <div ng-if="!ctrl.isLoadingProcessing" style="height: 100%;">\r\n                \x3c!----\x3e\r\n                <div style="height: 100%;">\r\n                    <div class="paper-title-box" ng-show="ctrl.title && ctrl.retFlag">\r\n                        <img ng-src="{{$root.loadImg(\'work/work_detail_bg.png\')}}" width="100%" height="100%">\r\n                        <img ng-src="{{$root.loadImg(\'work/work_detail_bg_1.png\')}}" class="bg_t_photo">\r\n                        <img ng-src="{{$root.loadImg(\'work/work_detail_bg_2.png\')}}" class="bg_file">\r\n                        <div class="title-text-box">\r\n                            <div class="text-box">\r\n                               \x3c!-- <div class="row">\r\n                                    <div class="col">\r\n                                        <label class="text-title">\r\n                                            <span ng-bind="ctrl.clzName"></span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>--\x3e\r\n                                <div class="row">\r\n                                    <div class="col ">\r\n                                        <span class="deserve-score" ng-bind="\': \'"></span>\r\n                                        <span>\r\n                                        <span class="actual-score" ng-bind="ctrl.paper.firstScore"></span>\r\n                                        <span class="deserve-score" ng-bind="\'\'"></span>\r\n                                    </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row">\r\n                                    <div class="col ">\r\n                                        <span class="deserve-score" ng-bind="\': \'"></span>\r\n                                        <span>\r\n                                        <span class="actual-score" ng-bind="ctrl.paper.wasteTime.minutes"></span>\r\n                                        <span class="deserve-score" ng-bind="ctrl.paper.wasteTime.seconds===0?\'\':\'\'"></span>\r\n                                        <span ng-if="ctrl.paper.wasteTime.seconds!==0" class="actual-score" ng-bind="ctrl.paper.wasteTime.seconds"></span>\r\n                                        <span ng-if="ctrl.paper.wasteTime.seconds!==0" class="deserve-score" ng-bind="\'\'"></span>\r\n                                    </span>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div class="row" ng-if="ctrl.paper.reworkTimes>0">\r\n                                    <div class="col ">\r\n                                        <span class="deserve-score" ng-bind="\': \'"></span>\r\n                                        <span>\r\n                                        <span class="actual-score" ng-bind="ctrl.paper.reworkTimes||0"></span>\r\n                                        <span class="deserve-score" ng-bind="\'\'"></span>\r\n                                    </span>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div class="row" ng-if="ctrl.paper.reworkTimes>0">\r\n                                    <div class="col ">\r\n                                        <span class="deserve-score" ng-bind="\': \'"></span>\r\n                                        <span>\r\n                                        <span class="actual-score" ng-bind="ctrl.paper.latestScore"></span>\r\n                                        <span class="deserve-score" ng-bind="\'\'"></span>\r\n                                    </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row">\r\n                                    <div class="col">\r\n                                        <span ng-bind="\': \'+ctrl.paper.firstSubmitTime"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row" ng-if="ctrl.paper.reworkTimes>0">\r\n                                    <div class="col">\r\n                                        <span ng-bind="\': \'+ctrl.paper.latestSubmitTime"></span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!--showTipType1 paper --\x3e\r\n                    <div ng-repeat="bigQ in ctrl.qsList track by $index" ng-init="bigIndex = $index; bigLast = $last">\r\n                        \x3c!----\x3e\r\n                        <div class="big-q">\r\n                            <div style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">\r\n                                <label class="big-q-title-adapt">\r\n                                    <span ng-bind="bigQ.bigQVoIndex+\'\'+bigQ.title"></span>\r\n                                    &nbsp;\r\n                                    <span ng-bind="\'(\'+bigQ.score+\')\'"></span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!----\x3e\r\n                        <div ng-repeat="record in bigQ.qsList track by record.id" ng-init="smallQIndex = $index"\r\n                             ng-style="{\'margin-bottom\':$last&&bigLast?\'140px\':\'\'}"\r\n                             ng-class="{\'last-samllQ\':$last&&bigLast}">\r\n                            <div class="image-type-question">\r\n                                <div class="question-content card card-better small_q_bg">\r\n\r\n                                    \x3c!----\x3e\r\n                                    <div ng-repeat="(key,doneInfo) in record.smallQStuAnsMapList track by $index"\r\n                                         ng-init="doneIndex=$index;doneLast=$last"\r\n                                         ng-class="doneInfo.showQFlag?\'open\':\'\'" class="accordion">\r\n                                        <div class="smallq-title"\r\n                                             ng-class="{\'smallq-title-first\':doneIndex==0,\'smallq-title-more\':doneIndex>=1}">\r\n                                            <div class="text-div-adapt" ng-click="ctrl.showQ(doneInfo,$event)">\r\n                                                <label class="text-adapt">\r\n                                                <span ng-bind="\'\'+(+record.seqNum+1)+\'\'"\r\n                                                      ng-class="{\'done-more\':doneIndex>=1}"></span>\r\n                                                    <span ng-if="doneIndex==0" ng-bind="\': \'"></span>\r\n                                                    <span ng-if="doneIndex>=1" ng-bind="\': \'"></span>\r\n                                                    <span class="correct-icons">\r\n                                                    <img ng-show="doneInfo.passFlag==0"\r\n                                                         ng-src="{{$root.loadImg(\'other/icon_no.png\')}}">\r\n                                                    <img ng-show="doneInfo.passFlag==1"\r\n                                                         ng-src="{{$root.loadImg(\'other/icon_yes2.png\')}}">\r\n                                                    <img ng-show="doneInfo.passFlag==2"\r\n                                                         ng-src="{{$root.loadImg(\'other/icon_yes3.png\')}}">\r\n                                                    <img ng-show="doneInfo.score===-1"\r\n                                                         ng-src="{{$root.loadImg(\'other/grading-icon.png\')}}">\r\n                                                </span>\r\n                                                    <span class="actual-score" ng-bind="doneInfo.score"\r\n                                                          ng-show="doneInfo.passFlag!=3"></span>\r\n                                                    <span class="actual-score" ng-bind="\'?\'"\r\n                                                          ng-show="doneInfo.passFlag==3"></span>\r\n                                                    <span class="deserve-score" ng-bind="\'/\'+record.score+\'\'"></span>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div class="img-align-right">\r\n                                                <span ng-click="ctrl.showQ(doneInfo,$event)" ng-class="{\'final_access_open_btn\':ctrl.selectedWork.publishType==ctrl.WORK_TYPE.FINAL_ACCESS}">\r\n                                                    <img ng-src="{{$root.loadImg(\'other/open.png\')}}" class="row-icon">\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div compile-html="record.qContext" show_type="correct"\r\n                                             current_q_input="doneInfo.inputList"\r\n                                             ng-if="doneInfo.showQFlag" class="qcontext">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </ion-content>\r\n        \x3c!----\x3e\r\n        <div class="scrollToTop" ng-click="ctrl.scrollTop()"></div>\r\n        \x3c!----\x3e\r\n        <ion-footer-bar\r\n                ng-if="!ctrl.isLoadingProcessing && ctrl.title && ctrl.paper.paperScore>ctrl.paper.latestScore"\r\n                style="background: #e6e9ec">\r\n            <button class="button-clear bg-calm  bar-item flex_1"\r\n                    ng-click="ctrl.redoWork()"\r\n                    style="font-weight: bold;color: #627482;font-size: 19px">\r\n                <i class="icon ion-ios-paperplane" style="font-size: 19px"> </i>\r\n                \r\n            </button>\r\n        </ion-footer-bar>\r\n    </div>\r\n    <recognize-stroke-image></recognize-stroke-image>\r\n\r\n</ion-view>\r\n'},2425:function(e,t,n){var r=n(2426);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2426:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"",""])},2427:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f,v,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(2400),m=n(2249),b=function(e){return e&&e.__esModule?e:{default:e}}(m),y=(a=(0,g.View)("live_course_verify",{url:"/live_course_verify",template:n(2428),styles:n(2429),inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicPopup","$ionicLoading","paperService","$timeout","$ocLazyLoad","$ionicActionSheet","liveService"]}),s=(0,g.select)(function(e){return e.select_course}),l=(0,g.select)(function(e){return e.profile_user_auth.user}),c=(0,g.select)(function(e){return e.wl_selected_clazz}),a((d=function(){function e(){i(this,e),r(this,"selectCourse",p,this),r(this,"userInfo",f,this),r(this,"clazzInfo",v,this),this.showSuccessModal=!1}return h(e,[{key:"onBeforeLeaveView",value:function(){}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){if(this.showSuccessModal)return this.showSuccessModal=!1,void this.getScope().$digest();this.go("live_course_enter")}}]),h(e,[{key:"initData",value:function(){this.form={telephone:"",telVC:"",userName:""},this.sendText="",this.timeStatus=0,this.time=60}},{key:"initFn",value:function(){}},{key:"verifyPhone",value:function(){
return this.form.telephone?!!/^1\d{10}$/.test(this.form.telephone)||(this.$ionicPopup.alert({title:"",template:""}),!1):(this.$ionicPopup.alert({title:"",template:""}),!1)}},{key:"submitForm",value:function(){if(this.verifyPhone())return this.form.userName?this.form.telVC?void this.enterCourse():(this.$ionicPopup.alert({title:"",template:""}),!1):(this.$ionicPopup.alert({title:"",template:""}),!1)}},{key:"sendCode",value:function(){var e=this;if(this.verifyPhone()&&1!=this.timeStatus)return this.setCutDown(),this.liveService.sendMsgCode({telephone:this.form.telephone}).then(function(t){e.$ionicPopup.alert({title:"",template:""})})}},{key:"setCutDown",value:function(){var e=this;this.timeStatus=1,this.sendText=this.time+"";var t=setInterval(function(){e.time--,e.sendText=e.time+"",0==e.time&&(e.timeStatus=0,e.time=60,e.sendText="",clearInterval(t)),e.getScope().$digest()},1e3)}},{key:"enterCourse",value:function(){var e=this;this.liveService.verifyMsgCode({telephone:this.form.telephone,appUserName:this.userInfo.loginName,userName:this.form.userName,id:this.selectCourse.id,telVC:this.form.telVC,type:2}).then(function(t){200==t.code?e.showSuccessModal=!0:10027==t.code?e.$ionicPopup.alert({title:"",template:":17780695191"}):e.$ionicPopup.alert({title:"",template:t.msg})})}},{key:"closeModal",value:function(){this.showSuccessModal=!1,this.go("home.live_home")}},{key:"callPhone",value:function(){this.$ionicActionSheet.show({buttons:[],titleText:'<div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-content" style="padding-left: 0;padding-top: 10px;text-align: center"><img src="'+b.default+'" alt="" width="150"></div>\n                        </div>',cancelText:"",buttonClicked:function(e){return!1}})}}]),e}(),p=o(d.prototype,"selectCourse",[s],{enumerable:!0,initializer:null}),f=o(d.prototype,"userInfo",[l],{enumerable:!0,initializer:null}),v=o(d.prototype,"clazzInfo",[c],{enumerable:!0,initializer:null}),u=d))||u);t.default=y},2428:function(e,t){e.exports='<ion-view id="live-course-verify">\r\n    <ion-header-bar class="bar-balanced enter-bar" align-title="center">\r\n        <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"></i>\r\n        </button>\r\n        <h1 class="title"></h1>\r\n        <button class="button buttons button-clear item-call"  ng-click="ctrl.callPhone()">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_call_btn.png\')}}" class="pay-water">\r\n        </button>\r\n    </ion-header-bar>\r\n    <ion-content padding="false" class="enter-content">\r\n        <div class="banner">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_home/live_course_verify_banner.png\')}}" alt="">\r\n        </div>\r\n        <div class="form">\r\n            <div class="form-ctrl">\r\n                <div class="ctrl-label"></div>\r\n                <div class="input-box">\r\n                    <input type="text" ng-model="ctrl.form.userName">\r\n                </div>\r\n            </div>\r\n            <div class="form-ctrl">\r\n                <div class="ctrl-label"></div>\r\n                <div class="input-box">\r\n                    <input type="text" ng-model="ctrl.form.telephone">\r\n                </div>\r\n            </div>\r\n            <div class="form-ctrl">\r\n                <div class="ctrl-label"></div>\r\n                <div class="input-box code">\r\n                    <input type="text" maxlength="6" ng-model="ctrl.form.telVC">\r\n                    <span ng-click="ctrl.sendCode()" ng-class="ctrl.timeStatus==0?\'\':\'active\'">{{ctrl.sendText}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <img ng-src="{{$root.loadLiveImg(\'live_home/live_course_verify_enter_btn.png\')}}" alt="" class="enter-btn" ng-click="ctrl.submitForm()">\r\n    </ion-content>\r\n    <div class="success-modal" ng-if="ctrl.showSuccessModal">\r\n        <div class="modal-inner">\r\n            <div class="modal-title"></div>\r\n            <div class="modal-text-box">\r\n                <p class="title"></p>\r\n                <p>1</p>\r\n                <p>215</p>\r\n                <p>3</p>\r\n            </div>\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_success_btn.png\')}}" alt="" class="modal-btn" ng-click="ctrl.closeModal()">\r\n        </div>\r\n    </div>\r\n</ion-view>'},2429:function(e,t,n){var r=n(2430);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2430:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"#live-course-verify {\n  /**/\n  background-color: #ca75ea;\n}\n#live-course-verify .enter-bar {\n  background-color: #ca75ea !important;\n  border: none !important;\n}\n#live-course-verify .enter-bar .title {\n  font-weight: bold;\n}\n#live-course-verify .enter-bar .item-back {\n  padding-right: 20px;\n}\n#live-course-verify .enter-bar .item-back i:before {\n  font-size: 28px;\n}\n#live-course-verify .enter-bar .item-call img {\n  width: 70px;\n}\n#live-course-verify .enter-content {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n#live-course-verify .enter-content .scroll {\n  width: 100%;\n}\n#live-course-verify .enter-content .banner {\n  height: 160px;\n  width: 100%;\n  background: #fceb4e url("+n(2260)+") no-repeat center / cover;\n  overflow: hidden;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-end;\n  -webkit-justify-content: flex-end;\n}\n#live-course-verify .enter-content .banner span {\n  font-size: 18px;\n  color: #df4e2f;\n  font-weight: bold;\n  position: relative;\n  bottom: -30px;\n}\n#live-course-verify .enter-content .banner img {\n  width: 270px;\n  position: relative;\n  bottom: -40px;\n}\n#live-course-verify .enter-content .form {\n  padding-top: 10px;\n  width: 80%;\n  max-width: 500px;\n  margin: 0 auto;\n  padding-bottom: 50px;\n}\n#live-course-verify .enter-content .form .form-ctrl {\n  margin-top: 20px;\n}\n#live-course-verify .enter-content .form .form-ctrl .ctrl-label {\n  font-size: 14px;\n  color: #fff;\n  padding-left: 20px;\n  margin-bottom: 10px;\n}\n#live-course-verify .enter-content .form .form-ctrl .input-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  width: 100%;\n  height: 45px;\n  border-radius: 22px;\n  overflow: hidden;\n  padding: 0 20px;\n  background: #fff;\n  box-sizing: border-box;\n}\n#live-course-verify .enter-content .form .form-ctrl .input-box input {\n  flex: 1;\n  height: 30px;\n  border: none;\n  background: transparent;\n}\n#live-course-verify .enter-content .form .form-ctrl .input-box.code {\n  padding: 0 0 0 20px;\n}\n#live-course-verify .enter-content .form .form-ctrl .input-box.code span {\n  text-align: center;\n  display: block;\n  height: 45px;\n  line-height: 45px;\n  width: 110px;\n  background: #6ad7ee;\n  font-size: 14px;\n  color: #fff;\n}\n#live-course-verify .enter-content .form .form-ctrl .input-box.code span.active {\n  opacity: .8;\n}\n#live-course-verify .enter-content .enter-btn {\n  width: 180px;\n  display: block;\n  margin: 0 auto;\n}\n#live-course-verify .success-modal {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  margin: auto;\n  background: rgba(0, 0, 0, 0.5);\n}\n#live-course-verify .success-modal .modal-inner {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  margin: auto;\n  width: 94%;\n  max-width: 400px;\n  height: 290px;\n  background: #fff;\n  border-radius: 10px;\n  padding: 30px 0 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n#live-course-verify .success-modal .modal-title {\n  font-size: 20px;\n  color: #2eaf58;\n  font-weight: bold;\n}\n#live-course-verify .success-modal .modal-text-box {\n  padding: 0  40px;\n  font-size: 14px;\n  color: #726c8c;\n}\n#live-course-verify .success-modal .modal-text-box .title {\n  font-weight: bold;\n}\n#live-course-verify .success-modal .modal-text-box p {\n  line-height: 20px;\n}\n#live-course-verify .success-modal .modal-btn {\n  width: 160px;\n}\n.live_course_phone {\n  font-size: 14px;\n  color: #ccc;\n  padding: 15px 55px;\n  text-decoration: none;\n}\n.live_course_phone span {\n  color: red;\n  font-size: 16px;\n}\n",""])},2431:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(2400),h=n(2249),g=function(e){return e&&e.__esModule?e:{default:e}}(h),m=(a=(0,v.View)("live_course_detail",{url:"/live_course_detail",template:n(2432),styles:n(2433),inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicPopup","$ionicLoading","paperService","$timeout","$ocLazyLoad","$ionicActionSheet","$ionicScrollDelegate","liveService"]}),s=(0,v.select)(function(e){return e.select_course}),l=(0,v.select)(function(e){return e.wl_selected_clazz}),a((u=function(){function e(){i(this,e),r(this,"selectCourse",d,this),r(this,"clazzInfo",p,this),this.showSuccessModal=!1,this.fee=0,this.oldFee=0,this.lessonList=[],this.paperInfo={},this.teacherIntroduce={},this.shouldDoPaper=!0,this.clazzArr=["","","","","","",""]}return f(e,[{key:"onBeforeLeaveView",value:function(){}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){this.go("home.live_home")}}]),f(e,[{key:"initData",value:function(){this.shouldDoPaper="true"===this.selectCourse.discountPercentObj.examination}},{key:"initFn",value:function(){this.$ionicScrollDelegate.$getByHandle("liveDetailScroll").scrollTop(),this.getCourseLessons()}},{key:"getCourseLessons",value:function(){var e=this;return this.liveService.fetchCourseLessons({id:this.selectCourse.id,shardingId:this.clazzInfo.id}).then(function(t){e.fee=t.totalFee/100,e.oldFee=t.oldFee/100,e.paperInfo=t.previewResult,e.teacherIntroduce=JSON.parse(e.paperInfo.teacherIntroduce),e.teacherIntroduce.teacherStarArr=new Array(e.teacherIntroduce.teacherStar);var n="",r=0;e.selectCourse.type=t.type,e.liveService.selectCourse(e.selectCourse),e.shouldDoPaper?1==e.selectCourse.type?(n="",r=1):4!=e.paperInfo.status&&e.selectCourse.studentCount<e.selectCourse.limitTotal?n="live_course_enter/live_course_bottom_btn_4.png":e.paperInfo.score>=e.paperInfo.enrollPreviewScoreLevel?(n="live_course_enter/live_course_bottom_btn_3.png",r=1):(n="",r=2):n=1==e.selectCourse.type?"":e.selectCourse.studentCount>=e.selectCourse.limitTotal?"":"live_course_enter/live_course_bottom_btn_2.png",e.paperInfo.btnUrl=n,e.paperInfo.showTagStatus=r,t.result.forEach(function(e){e.difficultyArr=new Array(e.difficulty).fill("");var t=new Date(e.lessionStartTime.replace(/-/g,"/"));e.showTime=t.getMonth()+1+""+t.getDate()+" "+e.lessionStartTime.slice(11,16)+"-"+e.lessionStopTime.slice(11,16)}),e.lessonList=t.result})}},{key:"callPhone",value:function(){this.$ionicActionSheet.show({buttons:[],titleText:'<div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-title" style="padding-left: 20px"></div>\n                            <div class="live-share-content" style="padding-left: 0;padding-top: 10px;text-align: center"><img src="'+g.default+'" alt="" width="150"></div>\n                        </div>',cancelText:"",buttonClicked:function(e){return!1}})}},{key:"showMoreInfo",value:function(){this.$ionicActionSheet.show({buttons:[],titleText:'<div class="live-course-detail-more">\n                        <div class="more-title"></div>\n                        <div class="more-content"></div>\n                        <div class="more-title"></div>\n                        <div class="more-content"></div>\n                        <div class="more-title"></div>\n                        <div class="more-content"></div>\n                        <div class="more-title"></div>\n                        <div class="more-content">365</div>\n                    </div>',cancelText:""})}},{key:"goToPay",value:function(){if(!(this.selectCourse.studentCount>=this.selectCourse.limitTotal))if(0==this.selectCourse.type&&(this.paperInfo.score>=this.paperInfo.enrollPreviewScoreLevel||!this.shouldDoPaper)){var e=this.selectCourse.secondaryTeacherName.limitGrade||this.selectCourse.secondaryTeacherName.grade;if(+this.clazzInfo.grade<+e)return void this.$ionicPopup.alert({title:"",template:""+this.clazzArr[+e]+"~"});this.go("live_course_pay",{fee:this.fee})}else 0==this.selectCourse.type&&4!=this.paperInfo.status&&this.goToFeePaper()}},{key:"goToFeePaper",value:function(){this.selectCourse.paperInfo=this.paperInfo,this.liveService.selectCourse(this.selectCourse),this.go("live_course_fee_paper")}}]),e}(),d=o(u.prototype,"selectCourse",[s],{enumerable:!0,initializer:null}),p=o(u.prototype,"clazzInfo",[l],{enumerable:!0,initializer:null}),c=u))||c);t.default=m},2432:function(e,t){e.exports='<ion-view id="live-course-detail">\r\n    <ion-header-bar class="bar-balanced enter-bar" align-title="center">\r\n        <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"></i>\r\n        </button>\r\n        <h1 class="title"></h1>\r\n        <button class="button buttons button-clear item-call"  ng-click="ctrl.callPhone()">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_call_btn.png\')}}" class="pay-water">\r\n        </button>\r\n    </ion-header-bar>\r\n    <div class="header-box">\r\n        <div class="list-item">\r\n            <div class="item-header" ng-if="ctrl.selectCourse.courseId">\r\n                <img class="item-discount" ng-src="{{ctrl.selectCourse.discountPercentObj.discountURL}}" alt="" ng-if="ctrl.selectCourse.discountPercentObj&&ctrl.selectCourse.discountPercentObj.discount<10">\r\n                <div class="item-title">\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_type_yellow_\'+ctrl.selectCourse.publicClassType+\'.png\')}}" alt="">\r\n                    <span>{{ctrl.selectCourse.courseName}}<span></span></span>\r\n                </div>\r\n                <div class="item-star">\r\n                    <span></span>\r\n                    <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}" alt="" ng-repeat="v1 in ctrl.selectCourse.starArr track by $index">\r\n                </div>\r\n                <div class="item-time">{{ctrl.selectCourse.showTime}}<span ng-show="!ctrl.selectCourse.fee"></span></div>\r\n                <div class="item-teacher">\r\n                    <div class="teacher-box">\r\n                        <img ng-src="{{ctrl.selectCourse.secondaryTeacherName.liveImageUrl}}" alt="">\r\n                        <div class="teacher-des">\r\n                            <p class="teacher-type"></p>\r\n                            <p class="teacher-name">{{ctrl.selectCourse.secondaryTeacherName.teacherName}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class="teacher-box">\r\n                        <img ng-src="{{ctrl.selectCourse.secondaryTeacherName.imageURL}}" alt="">\r\n                        <div class="teacher-des">\r\n                            <p class="teacher-type"></p>\r\n                            <p class="teacher-name">{{ctrl.selectCourse.secondaryTeacherName.teacher}}</p>\r\n                            <p class="teacher-type">17780695191</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="item-notice" ng-click="ctrl.showMoreInfo()">\r\n                    \r\n                    <i class="ion-ios-arrow-right item-content-arrow"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <img class="tab-btn" ng-src="{{$root.loadLiveImg(\'live_home/live-course-have-zhige.png\')}}" ng-if="ctrl.paperInfo.showTagStatus==1" ng-click="ctrl.goToFeePaper()">\r\n        <img class="tab-btn" ng-src="{{$root.loadLiveImg(\'live_home/live-course-have-nozhige.png\')}}" ng-if="ctrl.paperInfo.showTagStatus==2" ng-click="ctrl.goToFeePaper()">\r\n    </div>\r\n    <ion-content padding="false" class="enter-content" delegate-handle="liveDetailScroll">\r\n        <div class="content-banner">\r\n            <div class="content-title"></div>\r\n            <div class="banner-box" ng-if="ctrl.teacherIntroduce">\r\n                <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_banner_bg_2.png\')}}" class="banner-box-bg">\r\n                <div class="text-box">\r\n                    <div class="star-box" ng-if="ctrl.teacherIntroduce.teacherStarArr.length>0">\r\n                        <span>{{ctrl.teacherIntroduce.teacherType}}</span>\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_enter_star.png\')}}" alt="" ng-repeat="v1 in ctrl.teacherIntroduce.teacherStarArr track by $index">\r\n                    </div>\r\n                    <div class="name">\r\n                        <img ng-src="{{ctrl.teacherIntroduce.teacherNameURL}}" alt="">\r\n                    </div>\r\n                    <div class="normal" ng-repeat="v2 in ctrl.teacherIntroduce.headTitle track by $index">{{v2}}</div>\r\n                </div>\r\n                <img ng-src="{{ctrl.teacherIntroduce.imageURL}}" class="banner-teacher">\r\n            </div>\r\n        </div>\r\n        <div class="content-section-1">\r\n            <div class="content-title"></div>\r\n            <div class="content-text"></div>\r\n            <div class="content-text">{{ctrl.clazzArr[ctrl.selectCourse.secondaryTeacherName.grade]}}</div>\r\n            <div class="table-box">\r\n                <div class="table-head">\r\n                    {{ctrl.lessonList.length}}\r\n                </div>\r\n                <div class="table-item" ng-repeat="v in ctrl.lessonList track by $index">\r\n                    <div class="item-left">\r\n                        <span>{{v.lesson}}</span>\r\n                        <span>{{v.lessonName}}\r\n                            <span class="star-box">\r\n                                <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}" ng-repeat="v1 in v.difficultyArr track by $index">\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                    <div class="item-right">\r\n                        {{v.showTime}}\r\n                    </div>\r\n                </div>\r\n               \x3c!-- <div class="table-item">\r\n                    <div class="item-left">\r\n                        <span>1</span>\r\n                        <span>\r\n                            <span class="star-box">\r\n                                <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}">\r\n                                <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}">\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                    <div class="item-right">\r\n                        411 15:00-17:00\r\n                    </div>\r\n                </div>--\x3e\r\n            </div>\r\n            <div class="price-text" ng-if="ctrl.selectCourse.discountPercentObj&&ctrl.selectCourse.discountPercentObj.discount<10"><span class="new-fee">{{ctrl.fee}}</span><span class="fee">{{ctrl.oldFee}}</span></div>\r\n            <div class="price-text" ng-if="!(ctrl.selectCourse.discountPercentObj&&ctrl.selectCourse.discountPercentObj.discount<10)">{{ctrl.fee}}</div>\r\n        </div>\r\n        <div class="content-section-2">\r\n            <div class="content-title"></div>\r\n            <div class="content-img">\r\n                <img ng-src="{{$root.loadLiveImg(\'live_home/live_course_detail_mark_1.png\')}}">\r\n                <span></span>\r\n            </div>\r\n            <div class="content-img">\r\n                <img ng-src="{{$root.loadLiveImg(\'live_home/live_course_detail_mark_2.png\')}}">\r\n                <span></span>\r\n            </div>\r\n            <div class="content-img">\r\n                <img ng-src="{{$root.loadLiveImg(\'live_home/live_course_detail_mark_3.png\')}}">\r\n                <span></span>\r\n            </div>\r\n            <div class="content-img">\r\n                <img ng-src="{{$root.loadLiveImg(\'live_home/live_course_detail_mark_4.png\')}}">\r\n                <span></span>\r\n            </div>\r\n        </div>\r\n        <div class="content-section-3">\r\n            <div class="content-title"></div>\r\n            <div class="normal-box">\r\n                <div class="box-item  step-3">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_step_1.png\')}}">\r\n                    </div>\r\n                    <div class="bottom">\r\n                        <p></p>\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-arrow">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_arrow.png\')}}">\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-2">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_step_2.png\')}}">\r\n                    </div>\r\n                    <div class="bottom">\r\n                        <p>15</p>\r\n                        <p>365</p>\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-arrow">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_arrow.png\')}}">\r\n                    </div>\r\n                </div>\r\n                <div class="box-item step-3">\r\n                    <div class="header">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_step_3.png\')}}">\r\n                    </div>\r\n                    <div class="bottom">\r\n                        <p></p>\r\n                        <p></p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_erweima.png\')}}" class="erweima">\r\n            <div class="notice">365</div>\r\n        </div>\r\n    </ion-content>\r\n    <div class="live-course-bottom" ng-click="ctrl.goToPay()">\r\n        <img ng-src="{{$root.loadLiveImg(ctrl.paperInfo.btnUrl)}}" ng-if="ctrl.paperInfo.btnUrl">\r\n        <span class="btn-text" ng-if="ctrl.paperInfo.btnUrl===\'\'&&ctrl.selectCourse.type==0&&ctrl.selectCourse.studentCount<ctrl.selectCourse.limitTotal"></span>\r\n        <span class="btn-text" ng-if="ctrl.paperInfo.btnUrl===\'\'&&ctrl.selectCourse.type==1"></span>\r\n        <span class="btn-text" ng-if="ctrl.paperInfo.btnUrl===\'\'&&ctrl.selectCourse.type==0&&ctrl.selectCourse.studentCount>=ctrl.selectCourse.limitTotal"></span>\r\n        \x3c!--<div class="price-box">\r\n            <span class="old-price" ng-if="ctrl.fee!=ctrl.oldFee">{{ctrl.oldFee}}</span>\r\n            <span class="new-price">{{ctrl.fee}}</span>\r\n        </div>--\x3e\r\n    </div>\r\n</ion-view>'},2433:function(e,t,n){var r=n(2434);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2434:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,".platform-ios.platform-cordova:not(.fullscreen) #live-course-detail .header-box {\n  top: 74px;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-course-detail .enter-content {\n  top: 274px !important;\n}\n#live-course-detail {\n  /**/\n  background-color: #ca75ea;\n}\n#live-course-detail .enter-bar {\n  background-color: #ca75ea !important;\n  border: none !important;\n}\n#live-course-detail .enter-bar .title {\n  font-weight: bold;\n}\n#live-course-detail .enter-bar .item-back {\n  padding-right: 20px;\n}\n#live-course-detail .enter-bar .item-back i:before {\n  font-size: 28px;\n}\n#live-course-detail .enter-bar .item-call img {\n  width: 70px;\n}\n#live-course-detail .header-box {\n  width: 94%;\n  margin: 0 auto;\n  padding-bottom: 10px;\n  left: 0;\n  right: 0;\n  top: 54px;\n  position: fixed;\n  z-index: 10;\n}\n#live-course-detail .header-box .list-item {\n  background: #ae61e1;\n  border-radius: 8px;\n}\n#live-course-detail .header-box .item-header {\n  padding: 8px 17px 10px;\n  position: relative;\n}\n#live-course-detail .header-box .item-header .item-discount {\n  position: absolute;\n  width: 90px;\n  right: -5px;\n  top: 31px;\n}\n#live-course-detail .header-box .item-header .item-title {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  height: 30px;\n  font-size: 14px;\n  color: #fff;\n  font-weight: bold;\n}\n#live-course-detail .header-box .item-header .item-title img {\n  width: 20px;\n  margin-right: 4px;\n}\n#live-course-detail .header-box .item-header .item-title > span {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n#live-course-detail .header-box .item-header .item-star {\n  font-size: 12px;\n  color: #fff;\n}\n#live-course-detail .header-box .item-header .item-star img {\n  width: 12px;\n  margin-right: 2px;\n}\n#live-course-detail .header-box .item-header .item-time {\n  font-size: 12px;\n  color: #fff;\n  margin: 4px 0;\n}\n#live-course-detail .header-box .item-header .item-teacher {\n  margin-top: 14px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n#live-course-detail .header-box .item-header .item-teacher .teacher-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  color: #fff;\n  margin-right: 20px;\n  position: relative;\n}\n#live-course-detail .header-box .item-header .item-teacher .teacher-box img {\n  width: 46px;\n  margin-right: 5px;\n  border-radius: 50%;\n}\n#live-course-detail .header-box .item-header .item-teacher .teacher-box p {\n  margin: 0;\n}\n#live-course-detail .header-box .item-header .item-teacher .teacher-box .teacher-type {\n  font-size: 10px;\n}\n#live-course-detail .header-box .item-header .item-teacher .teacher-box .teacher-name {\n  font-size: 14px;\n  font-weight: bold;\n}\n#live-course-detail .header-box .item-header .item-notice {\n  border-radius: 8px;\n  background: #8f42c2;\n  text-align: center;\n  color: #fff62b;\n  height: 30px;\n  line-height: 30px;\n  margin-top: 10px;\n  font-size: 10px;\n}\n#live-course-detail .header-box .item-header .item-notice i {\n  margin-left: 10px;\n}\n#live-course-detail .header-box .tab-btn {\n  position: absolute;\n  bottom: -78px;\n  right: 0px;\n  width: 76px;\n  z-index: 10;\n}\n#live-course-detail .enter-content {\n  background: #e9e8ee;\n  top: 254px;\n}\n#live-course-detail .enter-content .content-title {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n  color: #fff;\n  position: relative;\n  z-index: 1000;\n  width: 100px;\n  height: 38px;\n  background: url("+n(2246)+") no-repeat;\n  background-size: 100% 100%;\n  margin: 0 auto 5px;\n}\n#live-course-detail .enter-content .content-banner {\n  background: #f9d251 url("+n(2260)+") repeat;\n  height: 240px;\n  position: relative;\n  padding-top: 10px;\n  overflow: hidden;\n}\n#live-course-detail .enter-content .content-banner .banner-box-bg {\n  position: absolute;\n  z-index: 0;\n  width: 400px;\n  height: 280px;\n  left: 50%;\n  margin-left: -172px;\n  top: 50%;\n  margin-top: -111px;\n}\n#live-course-detail .enter-content .content-banner .text-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n  position: relative;\n  z-index: 2;\n  width: 270px;\n  height: 180px;\n  font-size: 12px;\n  margin: 0 auto;\n  color: #bf4e16;\n  padding-right: 80px;\n}\n#live-course-detail .enter-content .content-banner .text-box .star-box img {\n  width: 12px;\n  margin-right: 2px;\n}\n#live-course-detail .enter-content .content-banner .text-box .name img {\n  height: 30px;\n  margin: 6px 0;\n}\n#live-course-detail .enter-content .content-banner .text-box .normal {\n  line-height: 16px;\n  margin-bottom: 3px;\n}\n#live-course-detail .enter-content .content-banner .banner-teacher {\n  position: absolute;\n  z-index: 1;\n  width: 110px;\n  left: 50%;\n  margin-left: 59px;\n  top: 53px;\n}\n#live-course-detail .enter-content .content-section-1 {\n  background: #fff;\n  width: 100%;\n  padding: 10px 15px;\n  margin-bottom: 10px;\n}\n#live-course-detail .enter-content .content-section-1 .content-title {\n  margin-bottom: 10px;\n}\n#live-course-detail .enter-content .content-section-1 .content-text {\n  font-size: 14px;\n  font-weight: bold;\n  padding-left: 20px;\n  color: #716c8c;\n}\n#live-course-detail .enter-content .content-section-1 .table-box {\n  margin-top: 10px;\n  border-radius: 6px;\n  border: 1px solid #e9e8ee;\n}\n#live-course-detail .enter-content .content-section-1 .table-box .table-head {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  font-size: 14px;\n  font-weight: bold;\n  color: #716c8c;\n  height: 44px;\n}\n#live-course-detail .enter-content .content-section-1 .table-box .table-item {\n  padding: 4px 20px;\n  color: #716c8c;\n  font-size: 12px;\n  border-top: 1px solid #e9e8ee;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n#live-course-detail .enter-content .content-section-1 .table-box .table-item .item-left {\n  max-width: 42%;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-detail .enter-content .content-section-1 .table-box .table-item .star-box {\n  font-size: 10px;\n  margin-left: 5px;\n}\n#live-course-detail .enter-content .content-section-1 .table-box .table-item .star-box img {\n  width: 10px;\n}\n#live-course-detail .enter-content .content-section-1 .price-text {\n  text-align: right;\n  padding-right: 10px;\n  font-size: 16px;\n  font-weight: bold;\n  color: #716c8c;\n  margin-top: 10px;\n}\n#live-course-detail .enter-content .content-section-1 .price-text .new-fee {\n  font-size: 18px;\n  color: red;\n  margin-right: 10px;\n}\n#live-course-detail .enter-content .content-section-1 .price-text .fee {\n  position: relative;\n  font-size: 14px;\n  font-weight: normal;\n}\n#live-course-detail .enter-content .content-section-1 .price-text .fee:after {\n  content: '';\n  display: block;\n  position: absolute;\n  left: -4px;\n  top: 9px;\n  height: 1px;\n  width: 110%;\n  background: red;\n  transform: rotateZ(7deg);\n  z-index: 200;\n}\n#live-course-detail .enter-content .content-section-2 {\n  background: #fff;\n  width: 100%;\n  padding: 10px 15px;\n  margin-bottom: 10px;\n}\n#live-course-detail .enter-content .content-section-2 .content-text-2 {\n  font-size: 14px;\n  color: #716c8c;\n  margin-bottom: 4px;\n  padding: 0 20px;\n}\n#live-course-detail .enter-content .content-section-2 .content-img {\n  font-size: 14px;\n  color: #716c8c;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-detail .enter-content .content-section-2 .content-img img {\n  width: 160px;\n}\n#live-course-detail .enter-content .content-section-2 .content-img span {\n  padding: 15px 0 20px;\n}\n#live-course-detail .enter-content .content-section-3 {\n  background: #fff;\n  padding: 10px 17px 60px;\n  margin-top: 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n  padding-top: 20px;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n  width: 80px;\n  font-size: 12px;\n  color: #716c8c;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item.step-arrow {\n  width: 40px;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item.step-arrow .header img {\n  width: 30px;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item.step-1 .header img {\n  width: 51px;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item.step-2 {\n  width: 100px;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item.step-2 .header img {\n  width: 51px;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item .header {\n  width: 100%;\n  height: 95px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item .header img {\n  width: 50px;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item .bottom {\n  width: 100%;\n  text-align: center;\n}\n#live-course-detail .enter-content .content-section-3 .normal-box .box-item .bottom p {\n  margin-bottom: 3px;\n}\n#live-course-detail .enter-content .content-section-3 .erweima {\n  width: 120px;\n  margin: 10px 0;\n}\n#live-course-detail .enter-content .content-section-3 .notice {\n  width: 280px;\n  font-size: 12px;\n  color: #716c8c;\n}\n#live-course-detail .live-course-bottom {\n  position: fixed;\n  z-index: 11000;\n  height: 57px;\n  background: #f59e3f;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-detail .live-course-bottom img {\n  height: 36px;\n  margin-right: 20px;\n}\n#live-course-detail .live-course-bottom .btn-text {\n  font-size: 18px;\n  font-weight: bold;\n  color: #fff;\n}\n#live-course-detail .live-course-bottom .price-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-detail .live-course-bottom .price-box .old-price {\n  font-size: 14px;\n  color: #fff;\n  position: relative;\n}\n#live-course-detail .live-course-bottom .price-box .old-price:after {\n  content: '';\n  display: block;\n  position: absolute;\n  left: -4px;\n  top: 9px;\n  height: 1px;\n  width: 110%;\n  background: red;\n  transform: rotateZ(7deg);\n  z-index: 200;\n}\n#live-course-detail .live-course-bottom .price-box .new-price {\n  font-size: 16px;\n  color: #fff;\n  font-weight: bold;\n}\n.live-course-detail-more {\n  text-align: left;\n  color: #333;\n  font-size: 14px;\n}\n.live-course-detail-more .more-title {\n  font-size: 16px;\n  color: #000;\n  font-weight: bold;\n  margin: 3px 0;\n}\n.live_course_phone {\n  font-size: 14px;\n  color: #ccc;\n  padding: 15px 55px;\n  text-decoration: none;\n}\n.live_course_phone span {\n  color: red;\n  font-size: 16px;\n}\n",""])},2435:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f,v,h,g,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=n(2400),y=(a=(0,b.View)("live_course_pay",{url:"/live_course_pay/:fee",template:n(2436),styles:n(2437),inject:["$scope","$state","$rootScope","$stateParams","$ngRedux","commonService","liveService","$ionicPopup","$ionicHistory"]}),s=(0,b.select)(function(e){return e.select_course}),l=(0,b.select)(function(e){return e.select_course.goodsId}),c=(0,b.select)(function(e){return e.live_goods_created_order_info.app}),u=(0,b.select)(function(e){return e.live_goods_created_order_info.scan}),a((p=function(){function e(){i(this,e),r(this,"selectCourse",f,this),r(this,"productId",v,this),r(this,"wxAppOrderInfo",h,this),r(this,"wxScanOrderInfo",g,this),this.orderType={WX_APP:"app",WX_SCAN:"scan"},this.payAppCode="wechat",this.currentOrderType="",this.iscreateAppOrder=!0,this.iscreateScanOrder=!0}return m(e,[{key:"initFlags",value:function(){this.initCtrl=!1,this.btnReadProtocol=!0,this.iscreateAppOrder=!0,this.iscreateScanOrder=!0,this.newFee=this.getStateService().params.fee}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){e.initCtrl=!0,e.btnReadProtocol=!0})}},{key:"onReceiveProps",value:function(){this.iscreateAppOrder=!0}},{key:"onBeforeEnterView",value:function(){}},{key:"onAfterEnterView",value:function(){this.initFlags()}},{key:"back",value:function(){this.$ionicHistory.goBack()}},{key:"createOrderWxPayApp",value:function(){var e=this;if(this.iscreateAppOrder){if(this.iscreateAppOrder=!1,!this.btnReadProtocol)return this.commonService.alertDialog("!"),void(this.iscreateAppOrder=!0);if(!window.parent.Wechat||window.parent.Wechat&&!window.parent.Wechat.isInstalled)return this.commonService.alertDialog("!"),void(this.iscreateAppOrder=!0);if(this.currentOrderType=this.orderType.WX_APP,!this.isCreateNewOrder(this.currentOrderType))return void this.sendWxPayRequest();this.liveService.createOrder(this.productId,this.payAppCode,"app").then(function(t){if(200==t.code)return void e.sendWxPayRequest();e.iscreateAppOrder=!0,e.commonService.showAlert("","<div>"+t.msg+"</div>")})}}},{key:"sendWxPayRequest",value:function(){var e=this;if(!this.wxAppOrderInfo||this.wxAppOrderInfo&&!this.wxAppOrderInfo.order)return this.commonService.alertDialog("!"),void(this.iscreateAppOrder=!0);this.alrSendPaymentRequest(e.wxAppOrderInfo.order,function(t){console.log("success:",t),e.gotoPayResult()},function(t){console.error("fail:",t),e.gotoPayResult()})}},{key:"alrSendPaymentRequest",value:function(e,t,n){if(!window.cordova)return void console.error("cordova");window.cordova.require("cordova/exec")(t,n,"Wechat","sendPaymentRequest",[e])}},{key:"createOrderWxPayScan",value:function(){var e=this;if(this.iscreateScanOrder){if(this.iscreateScanOrder=!1,!this.btnReadProtocol)return void this.commonService.alertDialog("!");if(this.currentOrderType=this.orderType.WX_SCAN,!this.isCreateNewOrder(this.currentOrderType))return this.showQrCode(),void(this.iscreateScanOrder=!0);this.liveService.createOrder(this.productId,this.payAppCode,"scan").then(function(t){if(200==t.code)return e.showQrCode(),void(e.iscreateScanOrder=!0);e.iscreateScanOrder=!0;var n=t.msg||"";e.commonService.showAlert("","<div>"+n+"</div>")})}}},{key:"showQrCode",value:function(){var e=this,t=this.wxScanOrderInfo.order.code_url,n=window.QRCode.generatePNG(t,{modulesize:5,margin:5});this.$ionicPopup.show({title:"",template:'<div style="width: 100%;height: 100%;text-align: center"><img src='+n+"></div>",scope:this.getScope(),buttons:[{text:"",onTap:function(t){e.gotoPayResult()}}]})}},{key:"isCreateNewOrder",value:function(e){var t="";switch(e){case this.orderType.WX_SCAN:t=this.wxScanOrderInfo;break;case this.orderType.WX_APP:default:t=this.wxAppOrderInfo}if(!t||t&&t.productId!=this.productId||t&&0==t.status&&t.productId==this.productId)return!0;var n=t.order.timestamp,r=Date.parse(new Date).toString(),i=r.substr(0,10),o=Number(i)-Number(n);return o<0||o/60>=15}},{key:"toggleReadBtn",value:function(){this.btnReadProtocol=!this.btnReadProtocol,this.iscreateAppOrder=!0,this.iscreateScanOrder=!0}},{key:"gotoPayResult",value:function(){this.go("live_course_pay_result",{orderType:this.currentOrderType})}},{key:"gotoProtocol",value:function(){this.go("live_course_pay_protocol")}}]),e}(),f=o(p.prototype,"selectCourse",[s],{enumerable:!0,initializer:null}),v=o(p.prototype,"productId",[l],{enumerable:!0,initializer:null}),h=o(p.prototype,"wxAppOrderInfo",[c],{enumerable:!0,initializer:null}),g=o(p.prototype,"wxScanOrderInfo",[u],{enumerable:!0,initializer:null}),d=p))||d);t.default=y},2436:function(e,t){e.exports='<ion-view id="live-course-pay">\r\n    <ion-header-bar class="bar-balanced enter-bar" align-title="center">\r\n        <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"></i>\r\n        </button>\r\n        <h1 class="title"></h1>\r\n    </ion-header-bar>\r\n    <ion-content padding="false" class="enter-content">\r\n        <div class="header-box">\r\n            <div class="list-item">\r\n                <div class="item-header" ng-if="ctrl.selectCourse.courseId">\r\n                    <div class="item-title">\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_type_yellow_\'+ctrl.selectCourse.publicClassType+\'.png\')}}" alt="">\r\n                        <span>{{ctrl.selectCourse.courseName}}<span></span></span>\r\n                    </div>\r\n                    <div class="item-star">\r\n                        <span></span>\r\n                        <img ng-src="{{$root.loadLiveImg(\'live_home/live_home_course_star.png\')}}" alt="" ng-repeat="v1 in ctrl.selectCourse.starArr track by $index">\r\n                    </div>\r\n                    <div class="item-time">{{ctrl.selectCourse.showTime}}<span ng-show="!ctrl.selectCourse.fee"></span></div>\r\n                    <div class="item-teacher">\r\n                        <div class="teacher-box">\r\n                            <img ng-src="{{ctrl.selectCourse.secondaryTeacherName.liveImageUrl}}" alt="">\r\n                            <div class="teacher-des">\r\n                                <p class="teacher-type"></p>\r\n                                <p class="teacher-name">{{ctrl.selectCourse.secondaryTeacherName.teacherName}}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="teacher-box">\r\n                            <img ng-src="{{ctrl.selectCourse.secondaryTeacherName.imageURL}}" alt="">\r\n                            <div class="teacher-des">\r\n                                <p class="teacher-type"></p>\r\n                                <p class="teacher-name">{{ctrl.selectCourse.secondaryTeacherName.teacher}}</p>\r\n                                <p class="teacher-type">17780695191</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="wxPayContent">\r\n            <div class="money">\r\n                <p><span class="moneyAll">:</span>\r\n                    <span class="moneyNum">{{ctrl.newFee}}</span></p>\r\n            </div>\r\n            <div class="payBtn">\r\n                <div class="display-flex btn {{ctrl.iscreateAppOrder==false?\'clicked\':\'\'}}"\r\n                     ng-click="ctrl.createOrderWxPayApp()">\r\n                    <img ng-src="{{$root.loadImg(\'weixin_pay/wechat.ico\')}}">\r\n                    <span> </span>\r\n                </div>\r\n                <div class="display-flex btn {{ctrl.iscreateScanOrder==false?\'clicked\':\'\'}}"\r\n                     ng-click="ctrl.createOrderWxPayScan()">\r\n                    <img class="imgQr" ng-src="{{$root.loadImg(\'weixin_pay/wxqrCode.png\')}}">\r\n                    <span> </span>\r\n                </div>\r\n                <div class="protocol">\r\n                  <span class="checkbox my-checkBox">\r\n                        <i ng-class="ctrl.btnReadProtocol==true?\r\n                                    \'icon ion-android-checkbox-outline\':\'ion-android-checkbox-outline-blank\'"\r\n                           ng-click="ctrl.toggleReadBtn()">\r\n                       </i>\r\n                       <span></span>\r\n                      \x3c!--<u ui-sref="weixin_pay_protocol"></u>--\x3e\r\n                       <u ng-click="ctrl.gotoProtocol()"></u>\r\n                  </span>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>'},2437:function(e,t,n){var r=n(2438);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2438:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"#live-course-pay {\n  /**/\n  background-color: #ca75ea;\n}\n#live-course-pay .enter-bar {\n  background-color: #ca75ea !important;\n  border: none !important;\n}\n#live-course-pay .enter-bar .title {\n  font-weight: bold;\n}\n#live-course-pay .enter-bar .item-back {\n  padding-right: 20px;\n}\n#live-course-pay .enter-bar .item-back i:before {\n  font-size: 28px;\n}\n#live-course-pay .header-box {\n  width: 94%;\n  margin: 0 auto;\n  padding-bottom: 10px;\n}\n#live-course-pay .header-box .list-item {\n  background: #ae61e1;\n  border-radius: 8px;\n}\n#live-course-pay .header-box .item-header {\n  padding: 18px 17px 10px;\n}\n#live-course-pay .header-box .item-header .item-title {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  height: 30px;\n  font-size: 14px;\n  color: #fff;\n  font-weight: bold;\n}\n#live-course-pay .header-box .item-header .item-title img {\n  width: 20px;\n  margin-right: 4px;\n}\n#live-course-pay .header-box .item-header .item-title > span {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n#live-course-pay .header-box .item-header .item-star {\n  font-size: 12px;\n  color: #fff;\n}\n#live-course-pay .header-box .item-header .item-star img {\n  width: 12px;\n  margin-right: 2px;\n}\n#live-course-pay .header-box .item-header .item-time {\n  font-size: 12px;\n  color: #fff;\n  margin: 4px 0;\n}\n#live-course-pay .header-box .item-header .item-teacher {\n  margin-top: 14px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n#live-course-pay .header-box .item-header .item-teacher .teacher-box {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  color: #fff;\n  margin-right: 20px;\n  position: relative;\n}\n#live-course-pay .header-box .item-header .item-teacher .teacher-box img {\n  width: 46px;\n  margin-right: 5px;\n  border-radius: 50%;\n}\n#live-course-pay .header-box .item-header .item-teacher .teacher-box p {\n  margin: 0;\n}\n#live-course-pay .header-box .item-header .item-teacher .teacher-box .teacher-type {\n  font-size: 10px;\n}\n#live-course-pay .header-box .item-header .item-teacher .teacher-box .teacher-name {\n  font-size: 14px;\n  font-weight: bold;\n}\n#live-course-pay .header-box .item-header .item-notice {\n  border-radius: 8px;\n  background: #8f42c2;\n  text-align: center;\n  color: #fff62b;\n  height: 30px;\n  line-height: 30px;\n  margin-top: 10px;\n  font-size: 10px;\n}\n#live-course-pay .header-box .item-header .item-notice i {\n  margin-left: 10px;\n}\n#live-course-pay .enter-content {\n  background: #ca75ea;\n  padding-top: 10px;\n}\n#live-course-pay .enter-content .scroll {\n  width: 100%;\n  height: 100%;\n}\n#live-course-pay .enter-content .wxPayContent {\n  height: 100%;\n  background: rgba(252, 111, 86, 0) !important;\n}\n#live-course-pay .enter-content .wxPayContent .productDetails {\n  background: #fff;\n  color: #4d4264;\n  width: 90%;\n  height: 35%;\n  min-height: 230px;\n  margin: 0 5% 4% 5%;\n  border-radius: 7px;\n  padding-top: 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n@media screen and (min-width: 768px) {\n  #live-course-pay .enter-content .wxPayContent .productDetails {\n    font-size: 20px;\n  }\n}\n@media screen and (min-width: 414px) {\n  #live-course-pay .enter-content .wxPayContent .productDetails {\n    height: 40%;\n  }\n}\n#live-course-pay .enter-content .wxPayContent .productDetails .details_title {\n  font-size: 24px;\n  font-weight: bolder;\n  margin: 0;\n  color: #3c7cc9;\n}\n@media screen and (min-width: 768px) {\n  #live-course-pay .enter-content .wxPayContent .productDetails .details_title {\n    font-size: 30px;\n  }\n}\n#live-course-pay .enter-content .wxPayContent .productDetails .details_goods_desc {\n  padding: 10px 20px;\n}\n@media screen and (min-width: 414px) and (max-width: 765px) {\n  #live-course-pay .enter-content .wxPayContent .productDetails .details_goods_desc {\n    padding: 10px 40px;\n  }\n}\n@media screen and (min-width: 768px) {\n  #live-course-pay .enter-content .wxPayContent .productDetails .details_goods_desc {\n    padding: 10px 100px;\n  }\n}\n#live-course-pay .enter-content .wxPayContent .productDetails .describe ul {\n  padding-left: 5%;\n}\n#live-course-pay .enter-content .wxPayContent .productDetails .describe li {\n  color: #734E9C;\n  list-style-type: disc;\n  padding-bottom: 1%;\n}\n#live-course-pay .enter-content .wxPayContent .productDetails .describe span {\n  color: #4d4264;\n  white-space: nowrap;\n}\n#live-course-pay .enter-content .wxPayContent .money {\n  width: 90%;\n  height: 10%;\n  min-height: 45px;\n  text-align: right;\n  margin: 3% 2% 1% 2%;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  justify-content: flex-end;\n  -webkit-justify-content: flex-end;\n}\n#live-course-pay .enter-content .wxPayContent .money p {\n  margin: 0px;\n}\n#live-course-pay .enter-content .wxPayContent .money .moneyAll {\n  font-size: 16px;\n  color: #fff;\n  font-weight: bold;\n}\n@media screen and (min-width: 768px) {\n  #live-course-pay .enter-content .wxPayContent .money .moneyAll {\n    font-size: 25px;\n  }\n}\n#live-course-pay .enter-content .wxPayContent .money .moneyNum {\n  color: #fdec05;\n  font-size: 30px;\n  font-weight: bold;\n}\n@media screen and (min-width: 768px) {\n  #live-course-pay .enter-content .wxPayContent .money .moneyNum {\n    font-size: 35px;\n  }\n}\n#live-course-pay .enter-content .wxPayContent .payBtn {\n  width: 90%;\n  height: 35%;\n  min-height: 150px;\n  max-height: 350px;\n  margin-left: 5%;\n  color: #4d4264;\n}\n@media screen and (min-width: 768px) {\n  #live-course-pay .enter-content .wxPayContent .payBtn {\n    font-size: 20px;\n  }\n}\n#live-course-pay .enter-content .wxPayContent .payBtn .display-flex {\n  display: flex;\n  display: -webkit-flex;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  -webkit-align-items: center;\n  align-items: center;\n  flex-flow: row;\n  -webkit-flex-flow: row;\n}\n#live-course-pay .enter-content .wxPayContent .payBtn .clicked {\n  background: #d1cdcd !important;\n}\n#live-course-pay .enter-content .wxPayContent .payBtn .btn {\n  font-size: 16px;\n  padding: 8px 0 8px 10%;\n  width: 100%;\n  margin-bottom: 10px;\n  border-radius: 7px;\n  background: #fff;\n}\n#live-course-pay .enter-content .wxPayContent .payBtn .btn span {\n  margin-left: 5px;\n}\n#live-course-pay .enter-content .wxPayContent .payBtn .btn .imgQr {\n  width: 32px;\n  height: 32px;\n}\n#live-course-pay .enter-content .wxPayContent .payBtn .protocol {\n  color: #fff;\n  text-align: center;\n  font-size: 16px;\n}\n@media screen and (max-width: 320px) {\n  #live-course-pay .enter-content .wxPayContent .payBtn .protocol {\n    font-size: 13px;\n  }\n}\n@media screen and (max-height: 500px) {\n  #live-course-pay .enter-content .wxPayContent .payBtn .protocol .my-checkBox {\n    padding: 0 !important;\n  }\n}\n",""])},2439:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(438),c=r(l),u=n(439),d=r(u),p=n(282),f=r(p),v=n(283),h=n(2400),g=(o=(0,h.View)("live_do_question",{url:"/live_do_question/:paperId/:paperInstanceId/:redoFlag/:questionIndex/:urlFrom/:urlFromMark/:isFirst",template:n(2440),styles:n(2441),controllerAs:"doCtrl",
inject:["$log","$ionicScrollDelegate","$state","$scope","$rootScope","$timeout","commonService","paperService","finalData","$ionicSlideBoxDelegate","$ngRedux","ngLocalStore","countDownService","workStatisticsServices","$interval","$ionicHistory","$ionicPopup"]}))(a=function(){function e(){i(this,e),this.configKeyboardOnMobile(),window.ls=d.default,this.initFlags(),this.initData()}return s(e,[{key:"initFlags",value:function(){this.screenWidth=window.innerWidth,this.slideChangeDirection=0,this.slideChangeByEnterPage=!1,this.draftShow=!1,this.isSlideBoxInit=!1,this.startTimeFlag=void 0,this.stopTimer={}}},{key:"initData",value:function(){this.solidBoxInfo={currentIndex:0},this.ox=null,this.oy=null}},{key:"initThisTime",value:function(){function e(e){var t=e%60,n=Math.floor(e/60);return t<10&&(t="0"+t),n<10&&(n="0"+n),n+":"+t}var t=this,n=localStorage.getItem(this.timerMark+"max"),r=localStorage.getItem(this.timerMark),i=(new Date).getTime(),o=n-Math.floor((i-r)/1e3);o<=0&&(o=0),this.thisTimer=e(o),this.timer=setInterval(function(){if(o--,t.thisTimer=e(o),o<=0)return t.thisTimer="00:00",clearInterval(t.timer),void t.$ionicPopup.alert({title:"",template:""}).then(function(){t.back()});t.getScope().$digest()},1e3)}},{key:"onReceiveProps",value:function(e,t){var n=this;!this.isSlideBoxInit&&this.slideBoxDataList.length&&(this.isSlideBoxInit=!0,this.$timeout(function(){n.$ionicSlideBoxDelegate.enableSlide(!1),$(document).trigger("click"),n.getScope().$broadcast("question.slide.change",{init:!0})},500))}},{key:"configKeyboardOnMobile",value:function(){var e=this;this.getScope().$on("keyboard.show",function(t,n){e.$timeout(function(){var t=$(n.ele),r=$(".keyboard").offset().top,i=t.offset().top,o=i+t.height()-r+60;o>0&&e.$ionicScrollDelegate.scrollBy(0,o)},50)})}},{key:"mapStateToThis",value:function(e){var t=e.profile_user_auth.user.userId,n="olympic_math_t"===e.work_list_route.urlFrom?e.olympic_math_selected_clazz.id:"olympic_math_s"===e.work_list_route.urlFrom?t:e.wl_selected_clazz.id,r="olympic_math_s"===e.work_list_route.urlFrom,i=e.wl_clazz_list_with_works,o=n,a=e.wl_selected_work,s=d.default.getTempWork().qsList,l=(0,f.default)(i[o],{instanceId:a.instanceId});if(!l)return{};var c=l.paperInfo.doPaper,u=c&&c.from,p=e.wl_selected_work.paperName,v=e.wl_selected_work.instanceId,h=e.oral_calculation_limittime[v],g=e.final_access_limittime[v];return{loginName:e.profile_user_auth.user.loginName,comeFromOlympicMathS:r,selectedWork:a,from:u,title:p,instanceId:c&&c.history.paperInstanceId,redoFlag:c&&c.redoFlag,bigQList:c&&s,bigQIndex:c&&c.bigQIndex,smallQIndex:c&&c.smallQIndex,currentSmallQ:c&&s&&s[c.bigQIndex].qsList[c.smallQIndex],slideBoxDataList:c&&c.slideBoxDataList||[],statusMapForQuestions:c&&c.statusMapForQuestions,serverIdForQuestions:c&&c.serverIdForQuestions,limitTime:a.limitTime,paperTime:13==a.publishType?g:h,selectCourse:e.select_course,userInfo:e.profile_user_auth.user,selectWork:e.wl_selected_work}}},{key:"mapActionToThis",value:function(){return{refreshSlideBoxList:this.paperService.refreshSlideBoxList,refreshCurrentSmallQByNewSlide:this.paperService.refreshCurrentSmallQByNewSlide,doQuestionBackToSelect:this.paperService.doQuestionBackToSelect,questionCheckOkGoToSelect:this.paperService.questionCheckOkGoToSelect,checkAssignedQuestion:this.paperService.checkAssignedQuestion,fillSlideBoxData:this.paperService.fillSlideBoxData,savePaper:this.paperService.savePaper,updateOralPaperLimitTime:this.workStatisticsServices.updateLimitTimeByOralPaperId}}},{key:"getIonSlideEle",value:function(e){return $("ion-slide[data-index="+e+"]")}},{key:"isCurrentQuestionStatusNotChecked",value:function(){var e=this.slideBoxDataList[this.$ionicSlideBoxDelegate.currentIndex()];return this.statusMapForQuestions[e.displayData.id]?this.statusMapForQuestions[e.displayData.id]==this.finalData.WORK_STATUS.NOT_CHECKED:0}},{key:"currentQInArrayShow",value:function(){if(!this.statusMapForQuestions)return"";var e=this.slideBoxDataList[this.$ionicSlideBoxDelegate.currentIndex()],t=1,n=Object.keys(this.statusMapForQuestions).length;for(var r in this.statusMapForQuestions){if(r===e.displayData.id){this.currentQIndex=t;break}t++}return t+"/"+n}},{key:"onBeforeEnterView",value:function(){this.$ionicSlideBoxDelegate.currentIndex()>0&&(this.slideChangeByEnterPage=!0,this.$ionicSlideBoxDelegate.slide(0)),this.countDownService.removeCallback(this.getScope().$id)}},{key:"onCloseTouch",value:function(e){if(this.ox=283,this.oy=this.oy||e.target.offsetTop,$(e.target).removeClass("active"),$(e.target).css({opacity:0}),this.showErrorRecordFlag){var t=$(".q-error-record-btn-open");t[0].style.removeProperty("left"),t.removeClass("ng-leave").addClass("ng-enter"),t.css({visibility:"visible",right:"0px"})}else this.showErrorRecordFlag=!0}},{key:"onTouch",value:function(e){e.stopPropagation(),e.preventDefault(),this.ox=e.target.offsetLeft,this.oy=e.target.offsetTop}},{key:"onDrag",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target,n=e.gesture.deltaX,r=e.gesture.deltaY,i=window.innerWidth-$(t).width(),o=window.innerHeight-$(t).height()-44,a=this.ox+n,s=this.oy+r;a<0?t.style.left="0px":a>i?this.handleImgStop(t):t.style.left=this.ox+n+"px",t.style.top=s<44?"44px":s>o?o+"px":this.oy+r+"px"}},{key:"handleImgStop",value:function(e){var t=$(".q-error-record-btn-close");e.style.removeProperty("left"),$(e).removeClass("ng-enter").addClass("ng-leave"),t.length&&($(t)[0].style.top=e.style.top,$(t).addClass("active"))}},{key:"onAfterEnterView",value:function(){this.startTimeFlag=!!this.paperTime,1==this.selectWork.liveToPay&&(this.timer="",this.thisTimer="",this.timerMark="liveTimer"+this.userInfo.userId+this.selectCourse.id,this.initThisTime())}},{key:"onBeforeLeaveView",value:function(){this.timer&&clearInterval(this.timer),this.stopTimer.timer&&this.$interval.cancel(this.stopTimer.timer)}},{key:"saveCurrentQAns",value:function(){var e=this.bigQList[this.bigQIndex].qsList[this.smallQIndex];this.handleSpecial();var t=this.getAndSaveCurrentQNewAns(e,this.getIonSlideEle(this.$ionicSlideBoxDelegate.currentIndex()),!1);t.hasChangeAnsFlag&&this.savePaper(e,!1,t.isAllInputBoxesEmpty,t.ansStrArray)}},{key:"back",value:function(e){if(this.draftShow)return this.draftShow=!1,void this.getRootScope().$broadcast("draft.hide");if(!1===$(".keyboard")[0].hidden&&"none"!=$(".keyboard")[0].style.display&&!e)return void this.getScope().$broadcast("keyboard.hide");this.saveCurrentQAns(),this.doQuestionBackToSelect();var t=this.$ngRedux.getState().wl_selected_work,n={paperId:t.paperId,paperInstanceId:t.instanceId,redoFlag:this.redoFlag};"live"==this.getStateService().params.urlFrom&&(n.urlFrom="live"),"detail"==this.getStateService().params.urlFrom&&"live"==this.getStateService().params.urlFromMark&&(n.urlFrom="detail",n.urlFromMark="live"),this.getRootScope().selectQuestionUrlFrom="doQuestion",this.$ionicHistory.goBack()}},{key:"handleDraft",value:function(){"none"===$(".draft_container").css("display")?(console.log("draft.show"),this.getScope().$root.$broadcast("draft.show"),this.draftShow=!0):(console.log("draft.hide"),this.getScope().$root.$broadcast("draft.hide"),this.draftShow=!1)}},{key:"findNextNoCheckedQ",value:function(){for(var e=this.bigQList.length,t=-1,n=-1,r=this.statusMapForQuestions,i=0;i<e;i++){for(var o=this.bigQList[i],a=0;a<o.qsList.length;a++)if(2===r[o.qsList[a].id]){t=i,n=a;break}if(n>-1)break}if(t>-1){var s=this.bigQList[t],l=this.bigQList[t].qsList[n];return this.checkAssignedQuestion(s,l),void this.fillSlideBoxData(this.bigQList,!0,this.$ionicSlideBoxDelegate.currentIndex())}var c=this.$ngRedux.getState().wl_selected_work,u={paperId:c.paperId,paperInstanceId:c.instanceId,redoFlag:this.redoFlag};"live"==this.getStateService().params.urlFrom&&(u.urlFrom="live"),"detail"==this.getStateService().params.urlFrom&&(u.urlFrom="detail",u.urlFromMark="live"),this.$ionicHistory.goBack()}},{key:"checkAnswer",value:function(){this.handleSpecial();var e=this.bigQList[this.bigQIndex].qsList[this.smallQIndex],t=this.getAndSaveCurrentQNewAns(e,this.getIonSlideEle(this.$ionicSlideBoxDelegate.currentIndex()),!0);t.canModifyStatus&&this.savePaper(e,!0,t.isAllInputBoxesEmpty,t.ansStrArray),this.questionCheckOkGoToSelect(),this.findNextNoCheckedQ()}},{key:"getAndSaveCurrentQNewAns",value:function(e,t,n){var r=e.inputList,i=[],o=!0,a=!1,s=function(e){return e==v.VERTICAL_CALC_SCOREPOINT_TYPE||e==v.VERTICAL_ERROR_SCOREPOINT_TYPE||e==v.VERTICAL_FILLBLANKS_SCOREPOINT_TYPE};return(0,c.default)(r,function(e){var n={answer:e.openStyle?e.answer:"",uuid:""},r={};(0,c.default)(e.spList,function(i,l){n.uuid=i.scorePointQbuId;var c=t.find("#"+i.inputBoxUuid);if(s(i.type)){var u=angular.element(c).scope();return i.matrix=u.getVerticalAnswerMatrix(i.inputBoxUuid),n.answer+=JSON.stringify([{id:i.inputBoxUuid,matrix:i.matrix}]),a=!0,void(o&&(o=!u.isAnswerMatrixModified(i.matrix,i.inputBoxUuid)))}var d="";c&&0!=c.length?d=angular.element(c).scope().textContent.expr?angular.element(c).scope().textContent.expr:$(c).val():console.error("bug,!id:"+i.inputBoxUuid),d&&(o=!1),e.openStyle?r[i.label]=d:0==l?n.answer=d:n.answer+="#"+d,i.inputBoxStuAns=d},this),e.answer==n.answer||e.openStyle?e.answer!=JSON.stringify(r)&&e.openStyle&&(a=!0,e.answer=n.answer=JSON.stringify(r)):(a=!0,e.answer=n.answer),i.push(n)},this),this.ngLocalStore.setTempWork(this.$ngRedux.getState().wl_selected_work.instanceId,this.bigQList),this.ngLocalStore.doPaperStore.setItem(this.loginName+"/"+this.$ngRedux.getState().wl_selected_work.instanceId,this.bigQList),{ansStrArray:i,isAllInputBoxesEmpty:o,hasChangeAnsFlag:a,canModifyStatus:n}}},{key:"slideChange",value:function(e){var t=this.bigQList[this.bigQIndex].qsList[this.smallQIndex];if(this.slideChangeByEnterPage)return void(this.slideChangeByEnterPage=!1);var n=this.slideChangeDirection?(this.$ionicSlideBoxDelegate.currentIndex()+2)%3:(this.$ionicSlideBoxDelegate.currentIndex()+1)%3,r=this.getIonSlideEle(n),i=this.getAndSaveCurrentQNewAns(t,r,!1);i.hasChangeAnsFlag&&this.savePaper(t,!1,i.isAllInputBoxesEmpty,i.ansStrArray);var o={bigQIndex:this.bigQIndex,smallQIndex:this.smallQIndex},a=this.slideBoxDataList[e].displayData;o.bigQIndex=a.bigQArrayIndex,o.smallQIndex=a.smallQArrayIndex,console.log(o),this.refreshCurrentSmallQByNewSlide(o),this.refreshSlideBoxList(e),this.solidBoxInfo.currentIndex=this.$ionicSlideBoxDelegate.currentIndex(),this.$ionicScrollDelegate.scrollTop()}},{key:"handleSpecial",value:function(){this.getScope().$root.$broadcast("keyboard.hide.change.question"),$(document).trigger("click"),this.draftShow=!1,this.getScope().$root.$broadcast("draft.hide"),this.getScope().$broadcast("question.slide.change",{init:!1})}},{key:"goNextQuestion",value:function(){this.debounce()||(this.slideChangeDirection=1,this.handleSpecial(),this.$ionicSlideBoxDelegate.next())}},{key:"previousQuestion",value:function(){this.debounce()||(this.slideChangeDirection=0,this.handleSpecial(),this.$ionicSlideBoxDelegate.previous())}},{key:"debounce",value:function(){this.lastInputTime||(this.lastInputTime=(new Date).getTime());var e=(new Date).getTime(),t=e-this.lastInputTime;return this.lastInputTime=e,console.log(t),t<250&&0!=t}},{key:"getCountDownStartTime",value:function(){var e=0;if(this.paperTime||(e=60*Number(this.limitTime),this.updateOralPaperLimitTime(this.selectedWork.instanceId,(new Date).getTime())),this.paperTime){var t=(new Date).getTime();e=60*Number(this.limitTime)-Math.round((Number(t)-Number(this.paperTime.startTime))/1e3),e<0&&(e=0)}return e}},{key:"timeCountCallBack",value:function(e){(!this.paperTime||this.paperTime&&!this.paperTime.countDownTimer)&&this.updateOralPaperLimitTime(this.selectedWork.paperId,null,this.stopTimer.timer)}},{key:"timeEndCallBack",value:function(){var e=this;this.paperTime&&(this.spentTime=60*Number(this.limitTime),this.commonService.showAlert("","").then(function(){e.back()}))}},{key:"timeRestCallback",value:function(e){this.spentTime=60*Number(this.limitTime)-e}},{key:"startTimer",value:function(){this.startTimeFlag=!0}},{key:"showNormalTitle",value:function(){return"true"==this.redoFlag||this.currentSmallQ&&this.selectedWork&&this.selectedWork.publishType!=this.finalData.WORK_TYPE.MATCH_WORK&&this.selectedWork.publishType!=this.finalData.WORK_TYPE.ORAL_WORK&&this.selectedWork.publishType!=this.finalData.WORK_TYPE.ORAL_WORK_KEYBOARD&&this.selectedWork.publishType!=this.finalData.WORK_TYPE.FINAL_ACCESS}},{key:"isOralWork",value:function(){return this.selectedWork&&(this.selectedWork.publishType==this.finalData.WORK_TYPE.ORAL_WORK_KEYBOARD||this.selectedWork.publishType==this.finalData.WORK_TYPE.ORAL_WORK||this.selectedWork.publishType==this.finalData.WORK_TYPE.FINAL_ACCESS)}}]),e}())||a;t.default=g},2440:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="do_question_file" cache-view="false">\r\n\r\n    <div class="bar bar-header " style="background: #d2f7ef!important;">\r\n        <button ng-click="doCtrl.back(true)" class="button buttons  button-clear common-back-btn">\r\n            <i class="icon ion-ios-arrow-back"></i>&nbsp;\r\n        </button>\r\n        <h1 class="title"\r\n            style="font-family: \'Microsoft YaHei\';margin-left: 72px;margin-right: 72px;"\r\n            ng-if="doCtrl.selectedWork.liveToPay!=1">\r\n            {{doCtrl.title}}{{doCtrl.selectedWork.liveType}}\r\n        </h1>\r\n        <h1 class="title"\r\n            style="font-family: \'Microsoft YaHei\';margin-left: 72px;margin-right: 72px;"\r\n            ng-if="doCtrl.selectedWork.liveToPay==1">\r\n            <img ng-src="{{$root.loadImg(\'do_question/timeCountClock.png\')}}"\r\n                 style="height: 30px;vertical-align:middle;margin-top:-6px;margin-right: 5px">\r\n            {{doCtrl.thisTimer}}\r\n        </h1>\r\n\r\n        <div class="button button-clear dqf_draft"\r\n             ng-click="doCtrl.handleDraft()">\r\n\r\n            <div ng-if="!doCtrl.draftShow" style="width: 55px;">\r\n                <img ng-src="{{$root.loadImg(\'do_question/draft.png\')}}" alt="" style="width: 40px">\r\n                <p style="font-size: 13px; line-height: 16px; margin-top: -6px"></p>\r\n            </div>\r\n\r\n            <div ng-if="doCtrl.draftShow"\r\n                 style="font-size: 17px;display: -webkit-flex;display: flex;-webkit-align-items:center;align-items: center;">\r\n                <i>&nbsp;</i>\r\n                <img ng-src="{{$root.loadImg(\'do_question/close_draft.png\')}}" alt="" style="width: 20px;height: 20px">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="keyboard" style="z-index: 5000"></div>\r\n    \x3c!--<div class="simplify-keyboard" style="z-index: 5000"></div>--\x3e\r\n\r\n    <draft style="position: relative;"></draft>\r\n\r\n    <ion-slide-box on-slide-changed="doCtrl.slideChange($index)"\r\n                   ng-if="doCtrl.slideBoxDataList.length"\r\n                   does-continue="true"\r\n                   show-pager="false"\r\n                   class="">\r\n\r\n        <ion-slide ng-repeat="currentQ in doCtrl.slideBoxDataList track by $index" auto-height="30"\r\n                   slideBoxCurrentIndex="{{doCtrl.solidBoxInfo.currentIndex}}" ng-c>\r\n            <ion-content  class="do_question_content"\r\n                          ng-style="{top:(doCtrl.getScope().$root.platform.IS_IPHONE||doCtrl.getScope().$root.platform.IS_IPAD)?\'20px\':0}">\r\n\r\n                <div class="edit-section do-question-area">\r\n                    <loading-processing load-top="100"></loading-processing>\r\n                    \x3c!----\x3e\r\n                    <div class="big_q_title">\r\n                        <img ng-src="{{$root.loadImg(\'do_question/q_title_bg.png\')}}" alt=""/>\r\n                        <div class="big_q_title_text">\r\n                            <div class="title_left">\r\n                                <span style="font-family: \'Microsoft YaHei\'" ng-if="currentQ"\r\n                                      ng-bind="doCtrl.commonService.convertToChinese(+currentQ.displayData.bigQseqNum+1)+\'\'+currentQ.displayData.bigQTitle"></span>\r\n                            </div>\r\n                            <div class="title_right">\r\n                                <span style="font-family: \'Microsoft YaHei\'" ng-if="currentQ"\r\n                                      ng-bind="\' | \'+(+currentQ.displayData.seqNum+1)+\'\'"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="error-q-records-wrap"\r\n                         error-q-records\r\n                         small-q="doCtrl.currentSmallQ"\r\n                         instance-id="doCtrl.instanceId"\r\n                         ng-click="doCtrl.saveCurrentQAns()"\r\n                         ng-if="doCtrl.redoFlag===\'true\'&&!doCtrl.comeFromOlympicMathS">\r\n                        <img ng-src="{{$root.loadImg(\'do_question/do-q-error-records.png\')}}" alt=""/>\r\n                        <span></span>\r\n                        <i class="icon ion-chevron-right"></i>\r\n                    </div>\r\n                    \x3c!--show-type:=> :\'doQuestion\', :\'correct\', :undefined   --\x3e\r\n                    <div class="editor for-content do_question_text"\r\n                         ng-style="{marginTop:(doCtrl.getScope().$root.platform.IS_IPAD)?\'40px\':0}"\r\n                         ng-show="!doCtrl.getScope().$root.isLoadingProcessing"\r\n                         compile-html="currentQ.displayData.qContext"\r\n                         current_q_input="currentQ.displayData.inputList"\r\n                         possible-units="currentQ.displayData.possibleUnits"\r\n                         question="currentQ.displayData"\r\n                         show-type="doQuestion">\r\n                    </div>\r\n                    <div class="place-holder"></div>\r\n                    \x3c!--\r\n                         on-touch="doCtrl.onTouch($event)"\r\n                         on-drag="doCtrl.onDrag($event);"\r\n\r\n\r\n                    --\x3e\r\n\r\n                </div>\r\n            </ion-content>\r\n\r\n        </ion-slide>\r\n    </ion-slide-box>\r\n\r\n    <div class="button button-primary do_question_check_over"\r\n         ng-if="doCtrl.from==\'select\' && doCtrl.isCurrentQuestionStatusNotChecked()"\r\n         ng-click="doCtrl.checkAnswer()">\r\n        <img ng-src="{{$root.loadImg(\'do_question/check_over.png\')}}" alt=""/>\r\n    </div>\r\n\r\n    <div class="bar bar-footer " style="font-size: 20px;z-index: 2000;background: #e6e9ec">\r\n        <button class="button-clear flex_1"\r\n                ng-click="doCtrl.currentSmallQ.isFirstOfAllQ?\'\':doCtrl.previousQuestion()"\r\n                ng-style="{color: doCtrl.currentSmallQ.isFirstOfAllQ?\'#33cd5f !important\':\' #4a6b9d\'}">\r\n            <i class="icon   ion-arrow-left-b "></i>\r\n            <span ng-if="doCtrl.redoFlag === \'false\'"></span>\r\n            <span ng-if="doCtrl.redoFlag === \'true\'"></span>\r\n        </button>\r\n        <div class="flex_1" style="color: #4a6b9d;text-align: center;line-height: 35px;"\r\n             ng-if="doCtrl.selectedWork.publishType===doCtrl.finalData.WORK_TYPE.MATCH_WORK">\r\n            <span ng-bind="doCtrl.currentQInArrayShow()"></span>\r\n        </div>\r\n        <button class="button-clear flex_1"\r\n                ng-click="doCtrl.currentSmallQ.isLastOfAllQ ? doCtrl.back(): doCtrl.goNextQuestion()"\r\n                style="color:#4a6b9d">\r\n            \x3c!-- ng-click="doCtrl.currentSmallQ.isLastOfAllQ? \'\':doCtrl.goNextQuestion()"\r\n             ng-style="{color: doCtrl.currentSmallQ.isLastOfAllQ?\'#33cd5f !important\':\' #4a6b9d\'}">--\x3e\r\n            <span ng-if="doCtrl.redoFlag === \'false\' && !doCtrl.currentSmallQ.isLastOfAllQ"></span>\r\n            <span ng-if="doCtrl.redoFlag === \'true\' && !doCtrl.currentSmallQ.isLastOfAllQ"></span>\r\n            <span ng-if="doCtrl.currentSmallQ.isLastOfAllQ">.</span>\r\n            <i class="icon  ion-arrow-right-b"></i>\r\n        </button>\r\n    </div>\r\n</ion-view>\r\n'},2441:function(e,t,n){var r=n(2442);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2442:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"",""])},2443:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o,a,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(2400),p=(o=(0,d.View)("live_course_pay_protocol",{url:"/live_course_pay_protocol/",template:n(2444),styles:n(2445),inject:["$scope","$state","$rootScope","$stateParams","$ngRedux","commonService","$ionicHistory"]}),a=(0,d.select)(function(e){return e.profile_user_auth.user.name}),o((l=function(){function e(){i(this,e),r(this,"userName",c,this),this.protocolText=[{clauseTitle:"1.",clauses:["1)365()","2)365365","3","4)365365365365"]},{clauseTitle:"2.",clauses:[]},{clauseTitle:"2.1",clauses:["1)","2)","3)365","4)365365","5)","6),,,,"]},{clauseTitle:"2.2",clauses:["1","222.1"]},{clauseTitle:"3.",clauses:["1)365365365365","2)365","3)365365365","4)"]},{clauseTitle:"4.",clauses:["1)","2)365","3)","4)"]}]}return u(e,[{key:"initData",value:function(){}}]),u(e,[{key:"initFlags",value:function(){}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){e.initCtrl=!0})}},{key:"onBeforeEnterView",value:function(){}},{key:"onAfterEnterView",value:function(){}},{key:"back",value:function(){this.$ionicHistory.goBack()}}]),e}(),c=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"userName",[a],{enumerable:!0,initializer:null}),s=l))||s);t.default=p},2444:function(e,t){e.exports='<ion-view hide-nav-bar=true class = "sprint_goods_pay_protocol">\r\n    <ion-header-bar class="bar-balanced gamePayHead" align-title="center">\r\n        <button class="button buttons  button-clear header-item" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back" style="padding-left: 10px"></i>&nbsp;&nbsp;\r\n        </button>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\'"></h1>\r\n    </ion-header-bar>\r\n    <ion-content class = "wxPayProtocol">\r\n        <h5>365</h5>\r\n        <div class="protocolText">\r\n            <div ng-repeat="text in ctrl.protocolText">\r\n                <p class = "clauseTitle">{{text.clauseTitle}}</p>\r\n                <div ng-repeat="clause in text.clauses">\r\n                    <p>&nbsp;&nbsp;&nbsp;&nbsp;{{clause}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </ion-content>\r\n</ion-view>'},2445:function(e,t,n){var r=n(2446);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2446:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,".sprint_goods_pay_protocol {\n  background: #EAEAE8;\n}\n.sprint_goods_pay_protocol .gamePayHead {\n  background: #52b6f1 !important;\n}\n.sprint_goods_pay_protocol h5 {\n  text-align: center;\n}\n.sprint_goods_pay_protocol .protocolText {\n  width: 90%;\n  height: 100%;\n  margin-left: 5%;\n}\n.sprint_goods_pay_protocol .protocolText .clauseTitle {\n  font-size: 14px;\n}\n.sprint_goods_pay_protocol .protocolText .clause {\n  font-size: 13px;\n}\n",""])},2447:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(2400),h=(a=(0,v.View)("live_course_pay_result",{url:"/live_course_pay_result/:orderType",template:n(2448),styles:n(2449),inject:["$scope","$state","$rootScope","$stateParams","$ngRedux","commonService","wxPayService","$ionicHistory","liveService"]}),s=(0,v.select)(function(e){return e.profile_user_auth.user.name}),l=(0,v.select)(function(e){return e.profile_user_auth.user.vips}),a((u=function(){function e(){i(this,e),r(this,"userName",d,this),r(this,"vips",p,this),this.orderType=this.getStateService().params.orderType,this.failTip="",this.isSuccessFlag=!0,this.retFlag=!1}return f(e,[{key:"initFlags",value:function(){this.initCtrl=!1,this.isSuccessFlag=!0,this.retFlag=!1}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){e.initCtrl=!0})}},{key:"onBeforeEnterView",value:function(){}},{key:"onAfterEnterView",value:function(){this.queryOrderInfo()}},{key:"queryOrderInfo",value:function(){var e=this;this.isSuccessFlag=!0,this.retFlag=!1,this.liveService.queryOrder(this.orderType).then(function(t){if(200!=t.code)return t.msg&&e.commonService.showAlert("","<div>"+t.msg+"</div>"),e.isSuccessFlag=!1,void e.paySuccessModifyVips();0!=t.status&&(e.isSuccessFlag=!1),e.retFlag=!0})}},{key:"paySuccessStart",value:function(){this.$ionicHistory.goBack(-2)}},{key:"payFailBack",value:function(){this.$ionicHistory.goBack()}},{key:"back",value:function(){this.retFlag&&this.isSuccessFlag?this.paySuccessStart():this.retFlag&&!this.isSuccessFlag?this.payFailBack():this.$ionicHistory.goBack()}},{key:"mapActionToThis",value:function(){return{paySuccessModifyVips:this.wxPayService.paySuccessModifyVips.bind(this.wxPayService)}}}]),e}(),d=o(u.prototype,"userName",[s],{enumerable:!0,initializer:null}),p=o(u.prototype,"vips",[l],{enumerable:!0,initializer:null}),c=u))||c);t.default=h},2448:function(e,t){e.exports='<ion-view hide-nav-bar=true class="sprint_goods_pay_result">\r\n    <ion-header-bar class="bar-balanced myHeader" align-title="center">\r\n        <button ng-show="!ctrl.retFlag && !ctrl.isSuccessFlag" class="button buttons  button-clear header-item"\r\n                ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back" style="padding-left: 10px"></i>&nbsp;&nbsp;\r\n        </button>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\'"></h1>\r\n    </ion-header-bar>\r\n    <ion-content class="payResult">\r\n        <div class="result" ng-show="ctrl.retFlag && ctrl.isSuccessFlag">\r\n            <div class="pic">\r\n                <img ng-src="{{$root.loadImg(\'weixin_pay/successFlag.png\')}}">\r\n            </div>\r\n            <div class="text">\r\n                <span></span>\r\n            </div>\r\n            <div class="successBtn" ng-click="ctrl.paySuccessStart()">\r\n                \x3c!--<img ng-src="{{ctrl.loadMyImg(\'game_pay_play.png\')}}">--\x3e\r\n                <p>></p>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="result" ng-show="ctrl.retFlag && !ctrl.isSuccessFlag">\r\n            <div class="pic">\r\n                <img ng-src="{{$root.loadImg(\'weixin_pay/failFlag.png\')}}">\r\n            </div>\r\n            <div class="text">\r\n                <span></span>\r\n                <p>{{ctrl.failTip}}</p>\r\n            </div>\r\n\r\n            <div class="failBtn">\r\n                \x3c!--<img ng-src="{{ctrl.loadMyImg(\'game_pay_back.png\')}}" ng-click="ctrl.payFailBack()">--\x3e\r\n                <p ng-click="ctrl.payFailBack()"\r\n                   style="text-decoration: underline;text-decoration-color: cornflowerblue;">\r\n                    >\r\n                </p>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="check" ng-show="!ctrl.retFlag && !ctrl.isSuccessFlag" ng-click="ctrl.queryOrderInfo()">\r\n            <span></span><u></u><span></span>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>'},2449:function(e,t,n){var r=n(2450);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2450:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,".sprint_goods_pay_result .myHeader {\n  background: #52b6f1 !important;\n}\n.sprint_goods_pay_result .myHeader .title,\n.sprint_goods_pay_result .myHeader .button i {\n  color: #fff !important;\n}\n.sprint_goods_pay_result .payResult {\n  top: 44px !important;\n  background: -webkit-linear-gradient(#7bc4ef, #a5a1e4);\n  /* Safari 5.1 - 6.0 */\n  background: -o-linear-gradient(#7bc4ef, #a5a1e4);\n  /* Opera 11.1 - 12.0 */\n  background: -moz-linear-gradient(#7bc4ef, #a5a1e4);\n  /* Firefox 3.6 - 15 */\n  background: linear-gradient(#7bc4ef, #a5a1e4);\n  /*  */\n  color: #fff;\n  height: 100%;\n}\n.sprint_goods_pay_result .payResult .result {\n  width: 76%;\n  margin-left: 12%;\n  margin-top: 12%;\n  text-align: center;\n}\n.sprint_goods_pay_result .payResult .text {\n  margin-top: 5px;\n  font-size: 25px;\n}\n.sprint_goods_pay_result .payResult .common-pay-btn {\n  width: 120px;\n}\n@media screen and (min-width: 768px) {\n  .sprint_goods_pay_result .payResult .common-pay-btn {\n    width: 150px;\n  }\n}\n.sprint_goods_pay_result .payResult .successBtn {\n  margin-top: 15%;\n  padding: 20px 0;\n  background-color: #ff7f50;\n  border-radius: 20px;\n  font-weight: 800;\n}\n.sprint_goods_pay_result .payResult .successBtn img {\n  width: 120px;\n}\n@media screen and (min-width: 768px) {\n  .sprint_goods_pay_result .payResult .successBtn img {\n    width: 150px;\n  }\n}\n.sprint_goods_pay_result .payResult p {\n  font-size: 20px;\n  margin-top: 5px;\n}\n.sprint_goods_pay_result .payResult .failBtn {\n  margin-top: 15%;\n}\n.sprint_goods_pay_result .payResult .failBtn img {\n  width: 120px;\n}\n@media screen and (min-width: 768px) {\n  .sprint_goods_pay_result .payResult .failBtn img {\n    width: 150px;\n  }\n}\n.sprint_goods_pay_result .check {\n  top: 44px !important;\n  width: 100%;\n  height: 100%;\n  margin-top: 40%;\n  font-size: 20px;\n  text-align: center;\n}\n.sprint_goods_pay_result .check u {\n  color: #0a9dc7;\n}\n",""])},2451:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(2400),h=(a=(0,v.View)("live_course_iframe",{url:"live_course_iframe",template:n(2452),styles:n(2453),inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicLoading","$ionicPopup","commonService","liveService"]}),s=(0,v.select)(function(e){return e.select_my_course}),l=(0,v.select)(function(e){return e.profile_user_auth.user}),a((u=function(){function e(){var t=this;i(this,e),r(this,"currentCourse",d,this),r(this,"userInfo",p,this),this.timer={},this.isShow=!0,this.isIPhone=2===this.commonService.judgeSYS(),this.iframeHash={height:0,sendMsg:""},this.isIPhone&&(window.addEventListener("native.keyboardshow",function(e){var n=e.keyboardHeight||0;$(".frame-mark").css({bottom:n+40+"px"}).show(),$(".frame-btn").css({bottom:n+5+"px"}).show(),t.setHash("height",n),t.emitSrc()}),window.addEventListener("native.keyboardhide",function(e){$(".frame-mark,.frame-btn").hide(),t.setHash("height",0),t.emitSrc()}))}return f(e,[{key:"onBeforeLeaveView",value:function(){this.clearPage()}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){this.go("home.live_home")}}]),f(e,[{key:"initData",value:function(){}},{key:"initFn",value:function(){this.getAccessToken()}},{key:"getAccessToken",value:function(){var e=this;return this.liveService.fetchAccessToken({uid:this.userInfo.userId,nickName:this.userInfo.name,courseId:this.currentCourse.courseId,id:this.currentCourse.id}).then(function(t){if(200==t.code){var n="http://www.xuexiv.com/live_mobile_2/live.html?access_token="+t.accessToken+e.getHashStrAll();$("#talkfun_frame").attr("src",n)}else e.$ionicPopup.alert({title:"",template:"~"}).then(function(t){e.back()})})}},{key:"clearPage",value:function(){}},{key:"toggleBack",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.isShow=!1,e.getScope().$digest},2e3)}},{key:"closeMark",value:function(){ionic.keyboard.hide()}},{key:"sendMsg",value:function(){ionic.keyboard.hide(),this.setHash("sendMsg",(new Date).getTime()),this.emitSrc()}},{key:"setHash",value:function(e,t){this.iframeHash[e]=t}},{key:"emitSrc",value:function(){var e=$("#talkfun_frame").attr("src").split("#")[0];$("#talkfun_frame").attr("src",e+this.getHashStrAll())}},{key:"getHashStrAll",value:function(){var e="#";for(var t in this.iframeHash)e+=t+"="+this.iframeHash[t]+"&";return e.slice(0,-1)}}]),e}(),d=o(u.prototype,"currentCourse",[s],{enumerable:!0,initializer:null}),p=o(u.prototype,"userInfo",[l],{enumerable:!0,initializer:null}),c=u))||c);t.default=h},2452:function(e,t){e.exports='<ion-view id="live-course-iframe" cache-view="false">\r\n    <loading-processing-v2></loading-processing-v2>\r\n    <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n        <i class="icon ion-ios-arrow-back"></i>\r\n    </button>\r\n    <div class="iframe-content">\r\n        <iframe id="talkfun_frame" scrolling="no" frameborder="0"  border="0" style="position:absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; margin: 0; padding: 0;"></iframe>\r\n    </div>\r\n    <div class="frame-mark" ng-click="ctrl.closeMark()"></div>\r\n    <div class="frame-btn" ng-click="ctrl.sendMsg()"></div>\r\n</ion-view>'},2453:function(e,t,n){var r=n(2454);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2454:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,".platform-ios.platform-cordova:not(.fullscreen) #live-course-iframe .iframe-content {\n  top: 0 !important;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-course-iframe .item-back {\n  top: 20px;\n}\n#live-course-iframe {\n  /**/\n  background-color: #fff;\n}\n#live-course-iframe .scroll {\n  height: 100%;\n}\n#live-course-iframe .item-back {\n  padding-right: 20px;\n  position: fixed;\n  z-index: 50000;\n  left: 0;\n  top: 0;\n  font-size: 20px;\n}\n#live-course-iframe .item-back i:before {\n  font-size: 28px;\n}\n#live-course-iframe .iframe-content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  width: auto;\n  height: auto;\n}\n#live-course-iframe .frame-mark {\n  position: fixed;\n  z-index: 9999999;\n  left: 0;\n  right: 0;\n  top: 0;\n  background: transparent;\n  display: none;\n}\n#live-course-iframe .frame-btn {\n  position: fixed;\n  z-index: 9999999;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n  width: 76px;\n  height: 30px;\n  display: none;\n}\n",""])},2455:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f,v,h,g,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=n(2400),y=(a=(0,b.View)("live_course_fee_paper",{url:"/live_course_fee_paper",template:n(2456),styles:n(2457),inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicPopup","$ionicLoading","paperService","commonService","$timeout","$ocLazyLoad","$ionicActionSheet","liveService"]}),s=(0,b.select)(function(e){return e.select_course}),l=(0,b.select)(function(e){return e.profile_user_auth.user}),c=(0,b.select)(function(e){return e.wl_selected_clazz}),u=(0,b.select)(function(e){return e.wl_selected_clazz.id}),a((p=function(){function e(){i(this,e),r(this,"selectCourse",f,this),r(this,"userInfo",v,this),r(this,"clazzInfo",h,this),r(this,"clazzId",g,this),this.courseDetail={},this.thisTimer="",this.timer={}}return m(e,[{key:"onBeforeLeaveView",value:function(){this.timer&&clearInterval(this.timer)}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){this.go("live_course_detail")}}]),m(e,[{key:"initData",value:function(){var e=this;this.timerMark="liveTimer"+this.userInfo.userId+this.selectCourse.id,this.btnUrl="",this.refreshStatus().then(function(t){e.selectCourse.paperInfo=t.previewResult,e.selectCourse.type=t.type,e.selectCourse.totalFee=t.totalFee,e.liveService.selectCourse(e.selectCourse),4!=e.selectCourse.paperInfo.status?1==e.selectCourse.paperInfo.status?e.btnUrl="live_course_enter/live_course_bottom_btn_6.png":(e.btnUrl="live_course_enter/live_course_bottom_btn_5.png",e.initThisTime()):e.selectCourse.paperInfo.score>=e.selectCourse.paperInfo.enrollPreviewScoreLevel?1==e.selectCourse.type||(e.btnUrl="live_course_enter/live_course_bottom_btn_3.png"):e.btnUrl="live_course_enter/live_course_back.png"})}},{key:"initFn",value:function(){this.initPaperList()}},{key:"refreshStatus",value:function(){return this.liveService.fetchCourseLessons({id:this.selectCourse.id,shardingId:this.clazzInfo.id})}},{key:"initPaperList",value:function(){var e=this.selectCourse.paperInfo;this.setWorkList([{canFetchDoPaper:!0,canFetchPaper:!0,instanceId:e.enrollPreviewPaperId,paperInfo:{doPaper:{instanceId:e.enrollPreviewPaperId,paperId:e.enrollPreviewPaperId,paperName:e.enrollPreviewPaperName,history:{paperId:e.enrollPreviewPaperId,paperInstanceId:e.enrollPreviewPaperId,status:{key:e.status,value:""}}},paperName:e.enrollPreviewPaperName}}])}},{key:"btnClick",value:function(){var e=this;if(4!=this.selectCourse.paperInfo.status)if(1==this.selectCourse.paperInfo.status)this.commonService.showConfirm("","").then(function(t){t&&(e.initTimer(),e.selectCourse.paperInfo.status=2,e.btnClick())});else{var t=this.selectCourse.paperInfo,n={paperId:t.enrollPreviewPaperId,paperInstanceId:t.enrollPreviewPaperId,redoFlag:"false",urlFrom:"live"};this.selectWork({instanceId:n.paperId,paperId:n.paperId,paperName:t.enrollPreviewPaperName,publishType:17,liveType:"",liveToPay:1}),this.go("live_select_question",n)}else this.selectCourse.paperInfo.score>=this.selectCourse.paperInfo.enrollPreviewScoreLevel?this.go("live_course_pay",{fee:this.selectCourse.totalFee/100}):this.go("live_course_detail")}},{key:"goToPaper",value:function(){var e=this.selectCourse.paperInfo,t={paperId:e.enrollPreviewPaperId,paperInstanceId:e.enrollPreviewPaperId,urlFrom:"live"};this.selectWork({instanceId:t.paperInstanceId,paperId:t.paperId,paperName:e.enrollPreviewPaperName,publishType:17,liveType:"",liveToPay:2}),this.go("live_work_detail",t)}},{key:"mapActionToThis",value:function(){return{selectWork:this.paperService.selectWork}}},{key:"initTimer",value:function(){var e=60*this.selectCourse.paperInfo.enrollPreviewLimitTime;localStorage.setItem(this.timerMark,(new Date).getTime()),localStorage.setItem(this.timerMark+"max",e)}},{key:"initThisTime",value:function(){function e(e){var t=e%60,n=Math.floor(e/60);return t<10&&(t="0"+t),n<10&&(n="0"+n),n+":"+t}var t=this,n=localStorage.getItem(this.timerMark+"max"),r=localStorage.getItem(this.timerMark);if(null==n)return this.initTimer(),void this.initThisTime();var i=(new Date).getTime(),o=n-Math.floor((i-r)/1e3);o<=0&&(o=0),this.thisTimer=e(o),this.timer=setInterval(function(){o--,t.thisTimer=e(o),o<=0&&(t.thisTimer="00:00",clearInterval(t.timer)),t.getScope().$digest()},1e3)}},{key:"setWorkList",value:function(e){this.liveService.setWorkList({clzId:this.clazzId,list:e})}}]),e}(),f=o(p.prototype,"selectCourse",[s],{enumerable:!0,initializer:null}),v=o(p.prototype,"userInfo",[l],{enumerable:!0,initializer:null}),h=o(p.prototype,"clazzInfo",[c],{enumerable:!0,initializer:null}),g=o(p.prototype,"clazzId",[u],{enumerable:!0,initializer:null}),d=p))||d);t.default=y},2456:function(e,t){e.exports='<ion-view id="live-course-fee-paper">\r\n    <ion-header-bar class="bar-balanced enter-bar" align-title="center">\r\n        <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"></i>\r\n        </button>\r\n        <h1 class="title"></h1>\r\n    </ion-header-bar>\r\n    <ion-content padding="false" class="fee-paper-content">\r\n        <div class="section-1">\r\n            <div class="content-header">\r\n                <img ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_fee_paper.png\')}}" class="paper-img">\r\n                <div class="paper-right" ng-click="ctrl.goToPaper()" ng-if="ctrl.selectCourse.paperInfo.status==4">\r\n                    <span>{{ctrl.selectCourse.paperInfo.score}}%</span>\r\n                    <span><i class="ion-ios-arrow-right item-content-arrow"></i></span>\r\n                </div>\r\n                <div class="paper-right" ng-if="ctrl.selectCourse.paperInfo.status==2">\r\n                    <span class="text-bold"></span>\r\n                </div>\r\n                <div class="paper-right" ng-if="ctrl.selectCourse.paperInfo.status==1">\r\n                    <span class="text-bold"></span>\r\n                </div>\r\n            </div>\r\n            <div class="content-info">\r\n                <div>{{ctrl.selectCourse.paperInfo.enrollPreviewPaperName}}</div>\r\n                <div>{{ctrl.selectCourse.paperInfo.enrollPreviewLimitTime}}</div>\r\n                <div ng-if="ctrl.selectCourse.paperInfo.status!=4">{{ctrl.selectCourse.paperInfo.enrollPreviewScoreLevel}}</div>\r\n                <div ng-if="ctrl.selectCourse.paperInfo.status==4">{{ctrl.selectCourse.paperInfo.score}}</div>\r\n                <div ng-if="ctrl.selectCourse.paperInfo.status==2">{{ctrl.thisTimer}}</div>\r\n            </div>\r\n            <div class="btn-box">\r\n                <span class="notice" ng-if="ctrl.selectCourse.paperInfo.status==4&&ctrl.selectCourse.paperInfo.score<ctrl.selectCourse.paperInfo.enrollPreviewScoreLevel"></span>\r\n                <span class="notice" ng-if="ctrl.selectCourse.paperInfo.status==4&&ctrl.selectCourse.paperInfo.score>=ctrl.selectCourse.paperInfo.enrollPreviewScoreLevel"><img\r\n                        ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_fee_award.png\')}}" alt=""></span>\r\n                <img ng-src="{{$root.loadLiveImg(ctrl.btnUrl)}}" ng-if="ctrl.btnUrl" ng-click="ctrl.btnClick()">\r\n            </div>\r\n            <img class="fee-mark" ng-src="{{$root.loadLiveImg(\'live_course_enter/live_course_fee_mark.png\')}}" ng-if="ctrl.selectCourse.type==1">\r\n        </div>\r\n        <div class="notice-box">\r\n            <div class="notice-title"></div>\r\n            <div class="notice-text">1.100{{ctrl.selectCourse.paperInfo.enrollPreviewLimitTime}}</div>\r\n            <div class="notice-text">2.</div>\r\n            <div class="notice-text">3.</div>\r\n            <div class="notice-text">4.{{ctrl.selectCourse.paperInfo.enrollPreviewScoreLevel}}</div>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>'},2457:function(e,t,n){var r=n(2458);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2458:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"#live-course-fee-paper {\n  /**/\n  background-color: #ca75ea;\n}\n#live-course-fee-paper .enter-bar {\n  background-color: #ca75ea !important;\n  border: none !important;\n}\n#live-course-fee-paper .enter-bar .title {\n  font-weight: bold;\n}\n#live-course-fee-paper .enter-bar .item-back {\n  padding-right: 20px;\n}\n#live-course-fee-paper .enter-bar .item-back i:before {\n  font-size: 28px;\n}\n#live-course-fee-paper .fee-paper-content {\n  background-color: #e9e8ee;\n}\n#live-course-fee-paper .fee-paper-content .section-1 {\n  background: #fff;\n  width: 100%;\n  padding-bottom: 30px;\n  position: relative;\n}\n#live-course-fee-paper .fee-paper-content .section-1 .fee-mark {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  width: 176px;\n  opacity: .6;\n}\n#live-course-fee-paper .fee-paper-content .content-header {\n  padding: 60px 0 30px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-fee-paper .fee-paper-content .content-header .paper-img {\n  width: 80px;\n}\n#live-course-fee-paper .fee-paper-content .content-header .paper-right {\n  margin-left: 20px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: flex-start;\n  -webkit-align-items: flex-start;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-fee-paper .fee-paper-content .content-header .paper-right span {\n  font-size: 16px;\n  font-weight: bold;\n  color: #716c8c;\n}\n#live-course-fee-paper .fee-paper-content .content-header .paper-right span i {\n  font-size: 20px;\n  margin-left: 5px;\n}\n#live-course-fee-paper .fee-paper-content .content-header .paper-right .text-bold {\n  font-weight: bold;\n}\n#live-course-fee-paper .fee-paper-content .content-info {\n  font-size: 16px;\n  color: #716c8c;\n  width: 300px;\n  margin: 0 auto;\n}\n#live-course-fee-paper .fee-paper-content .content-info > div {\n  margin-bottom: 5px;\n}\n#live-course-fee-paper .fee-paper-content .btn-box {\n  margin-top: 40px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n#live-course-fee-paper .fee-paper-content .btn-box .notice {\n  font-size: 16px;\n  color: #f80302;\n  margin-bottom: 8px;\n}\n#live-course-fee-paper .fee-paper-content .btn-box .notice img {\n  height: 34px;\n  vertical-align: middle;\n  margin-top: -10px;\n  margin-right: 4px;\n}\n#live-course-fee-paper .fee-paper-content .btn-box > img {\n  height: 40px;\n}\n#live-course-fee-paper .fee-paper-content .notice-box {\n  background: #e9e8ee;\n  width: 100%;\n  padding: 15px 0;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  color: #716c8c;\n  font-size: 16px;\n}\n#live-course-fee-paper .fee-paper-content .notice-box .notice-title {\n  font-weight: bold;\n  margin-bottom: 15px;\n}\n#live-course-fee-paper .fee-paper-content .notice-box .notice-text {\n  font-size: 14px;\n  width: 300px;\n  line-height: 20px;\n  margin-bottom: 4px;\n}\n",""])},2459:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f,v,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(2400),m=(a=(0,g.View)("live_course_video",{url:"live_course_video",template:n(2460),styles:n(2461),inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicLoading","$ionicPopup","$sce","commonService","liveService"]}),s=(0,g.select)(function(e){return e.select_my_course}),l=(0,g.select)(function(e){return e.profile_user_auth.user}),c=(0,g.select)(function(e){return e.alert_watch_video_flag}),a((d=function(){function e(){i(this,e),r(this,"currentCourse",p,this),r(this,"userInfo",f,this),r(this,"videoFlog",v,this),this.showLoading=!0}return h(e,[{key:"onBeforeLeaveView",value:function(){}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){this.go("home.live_home")}}]),h(e,[{key:"initData",value:function(){var e=this;this.showLoading=!0,this.videoObj=$("#backVideo"),this.videoObj.attr("src",this.currentCourse.playbackUrl),this.videoObj.on("loadstart",function(){console.log("loadstart")}),this.videoObj.on("canplay",function(){console.log("canplay")}),this.videoObj.on("play",function(){console.log("play")}),this.videoObj.on("end",function(){console.log("end")}),this.videoObj.on("timeupdate",function(){console.log("timeupdate"),e.showLoading=!1,e.getScope().$digest(),e.videoObj.off("timeupdate")}),this.videoObj.on("playing",function(){})}},{key:"initFn",value:function(){var e=this;this.videoFlog&&(this.isChecked=!1,this.$ionicPopup.show({template:'<p style="font-size: 16px">wifi</p><ion-checkbox ng-model="ctrl.isChecked" style="    border: none;background: transparent;width: 158px;margin: 0 auto;font-size: 14px"></ion-checkbox>',title:"",scope:this.getScope(),buttons:[{text:"<b></b>",type:"button-positive",onTap:function(t){e.isChecked&&e.setVideoFlag()}}]}))}},{key:"setVideoFlag",value:function(){this.liveService.setWatchVideoFlag(!1)}},{key:"videoUrlFun",value:function(e){return this.$sce.trustAsResourceUrl(e)}}]),e}(),p=o(d.prototype,"currentCourse",[s],{enumerable:!0,initializer:null}),f=o(d.prototype,"userInfo",[l],{enumerable:!0,initializer:null}),v=o(d.prototype,"videoFlog",[c],{enumerable:!0,initializer:null}),u=d))||u);t.default=m},2460:function(e,t){e.exports='<ion-view id="live-course-video" cache-view="false">\r\n    <ion-header-bar class="bar-balanced enter-bar" align-title="center">\r\n        <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"></i>\r\n        </button>\r\n        <h1 class="title"></h1>\r\n    </ion-header-bar>\r\n    <ion-content padding="false" class="video-content">\r\n        <video\r\n                controls="controls"\r\n                autoplay\r\n                id="backVideo"\r\n                width="100%"\r\n        ></video>\r\n        <div class="loading-box" ng-show="ctrl.showLoading">\r\n            <img ng-src="{{$root.loadLiveImg(\'live_home/live_course_loading.gif\')}}">\r\n            <span>...</span>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>'},2461:function(e,t,n){var r=n(2462);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2462:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,"#live-course-video {\n  /**/\n  background-color: #fff;\n}\n#live-course-video .enter-bar {\n  background-color: #5bccf7 !important;\n  border: none !important;\n}\n#live-course-video .enter-bar .title {\n  font-weight: bold;\n}\n#live-course-video .enter-bar .item-back {\n  padding-right: 20px;\n}\n#live-course-video .enter-bar .item-back i:before {\n  font-size: 28px;\n}\n#live-course-video .enter-bar .item-call img {\n  width: 70px;\n}\n#live-course-video .video-content {\n  position: relative;\n}\n#live-course-video .video-content #backVideo {\n  min-width: 100vw;\n  border: none;\n  min-height: 200px;\n}\n#live-course-video .video-content .loading-box {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  background: #fff;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n}\n#live-course-video .video-content .loading-box img {\n  width: 32px;\n  margin-bottom: 16px;\n  margin-top: 60px;\n}\n#live-course-video .video-content .loading-box span {\n  color: #000;\n  font-size: 12px;\n}\n",""])},2463:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(2400),h=(a=(0,v.View)("live_course_video_iframe",{url:"live_course_video_iframe",template:n(2464),styles:n(2465),inject:["$scope","$state","$ngRedux","$stateParams","$ionicHistory","$rootScope","$ionicLoading","$ionicPopup","commonService","liveService"]}),s=(0,v.select)(function(e){return e.select_my_course}),l=(0,v.select)(function(e){return e.profile_user_auth.user}),a((u=function(){function e(){i(this,e),r(this,"currentCourse",d,this),r(this,"userInfo",p,this),this.timer={},this.isShow=!0}return f(e,[{key:"onBeforeLeaveView",value:function(){}},{key:"onAfterEnterView",value:function(){this.initData(),this.initFn()}},{key:"back",value:function(){this.go("home.live_home")}}]),f(e,[{key:"initData",value:function(){}},{key:"initFn",value:function(){this.getAccessToken()}},{key:"getAccessToken",value:function(){var e=this;return this.liveService.fetchVideoUrl({uid:this.userInfo.userId,nickName:this.userInfo.name,courseId:this.currentCourse.courseId,id:this.currentCourse.id}).then(function(t){if(200==t.code){var n=t.playbackUrl;$("#video_frame").attr("src",n)}else e.$ionicPopup.alert({title:"",template:"~"}).then(function(t){e.back()})})}}]),e}(),d=o(u.prototype,"currentCourse",[s],{enumerable:!0,initializer:null}),p=o(u.prototype,"userInfo",[l],{enumerable:!0,initializer:null}),c=u))||c);t.default=h},2464:function(e,t){e.exports='<ion-view id="live-course-video-iframe" cache-view="false">\r\n    <loading-processing-v2></loading-processing-v2>\r\n    <button class="button buttons button-clear item-back" ng-click="ctrl.back()">\r\n        <i class="icon ion-ios-arrow-back"></i>\r\n    </button>\r\n    <div class="iframe-content">\r\n        <iframe id="video_frame" scrolling="no" frameborder="0"  border="0" style="position:absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; margin: 0; padding: 0;"></iframe>\r\n    </div>\r\n</ion-view>'},2465:function(e,t,n){var r=n(2466);"string"==typeof r&&(r=[[e.id,r,""]]);n(147)(r,{});r.locals&&(e.exports=r.locals)},2466:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,".platform-ios.platform-cordova:not(.fullscreen) #live-course-video-iframe .iframe-content {\n  top: 0 !important;\n}\n.platform-ios.platform-cordova:not(.fullscreen) #live-course-video-iframe .item-back {\n  top: 20px;\n}\n#live-course-video-iframe {\n  /**/\n  background-color: #fff;\n}\n#live-course-video-iframe .scroll {\n  height: 100%;\n}\n#live-course-video-iframe .item-back {\n  padding-right: 20px;\n  position: fixed;\n  z-index: 50000;\n  left: 0;\n  top: 0;\n  font-size: 20px;\n}\n#live-course-video-iframe .item-back i:before {\n  font-size: 28px;\n}\n#live-course-video-iframe .iframe-content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  width: auto;\n  height: auto;\n}\n#live-course-video-iframe .frame-mark {\n  position: fixed;\n  z-index: 9999999;\n  left: 0;\n  right: 0;\n  top: 0;\n  background: transparent;\n  display: none;\n}\n#live-course-video-iframe .frame-btn {\n  position: fixed;\n  z-index: 9999999;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n  width: 76px;\n  height: 30px;\n  display: none;\n}\n",""])}});