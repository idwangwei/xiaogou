webpackJsonp([43],{0:function(e,t,n){"use strict";n(5479),n(5487),n(5505),n(5508),n(5509)},171:function(e,t,n){"use strict";function i(e,t,n){w=e,t&&(k=t),n&&(S=n);var i=angular.element("body").injector(),r=i.get("$rootScope"),o=i.get("$ngRedux");k&&n?o?o.mergeReducer(k,S).then(function(){console.log(e.name+"-storeReady!!!!!!!!!!"),r.$$listeners[e.name+"-storeReady"]?r.$broadcast(e.name+"-storeReady"):r[e.name+"-storeReady"]=!0}):(console.error("$ngRedux not found!"),r[e.name+"-storeReady"]=!0):r[e.name+"-storeReady"]=!0}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){function n(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return C(t,e,i),e.$inject=t,e.instance=new(Function.prototype.bind.apply(e,[null].concat(i))),e.instance}return n.prototype=e.prototype,n.$inject=t,n}}function o(e,t){return function(n){var i=function(e){return e.targetScope.ctrl},r=function(e,t){Object.keys(t).concat(Object.getOwnPropertyNames(t.__proto__)).forEach(function(n){if("constructor"!==n)if(e[n])if(angular.isFunction(e[n])&&angular.isFunction(t[n])){var i=e[n];e[n]=function(){var e=this,r=arguments;i.call(this,arguments).then(function(){t[n].call(e,r)})}}else e[n]=t[n];else e[n]=t[n]})};w.run(["$rootScope","$injector",function(o,a){o.$on("$ionicView.loaded",function(o,s){if(s.stateName===e){var l=i(o),c=new n;t.inject&&t.inject.length&&t.inject.forEach(function(e){c[e]=a.get(e)}),r(l,c)}})}])}}function a(e,t){return function(n){function i(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t.inject&&t.inject.length&&C(t.inject,n,i);var o=new(Function.prototype.bind.apply(n,[null].concat(i)));o.selectorList=o.selectorList?o.selectorList:[];var a=function(){},s={initFlags:a,initData:a,mapStateToThis:a,mapActionToThis:a,componentWillReceiveProps:a,onBeforeEnterView:a,onAfterEnterView:a,onBeforeLeaveView:a,onLoadedView:a,onUpdate:a,configDataPipe:a,onReceiveProps:a},l={viewEntered:!1,hasPageRefreshManger:!1,dataPipe:new m.default},c=a,u=a;Object.keys(s).forEach(function(e){o[e]||(o[e]=s[e])}),Object.assign(o,l),o.configDataPipe(),o.mapStateObj={selectorList:o.selectorList,mapStateToThis:o.mapStateToThis};var p=o.getScope();if(!p)throw new Error('$scope must be injected with Decorator "@View"');var d=o.$ngRedux;if(!d)throw new Error('$ngRedux must be injected with Decorator "@View"');var f=o.pageRefreshManager;if(!o.getStateService)throw new Error("$state is required with pageRefreshManager");if(o.go=function(e,t,n){if(!o.getStateService||!o.getStateService())return console.error("$state service is not injected!");"string"!=typeof t&&(n=t,t="forward");var i=o.$injector.get("$ionicViewSwitcher");o.viewEntered=!1,"none"!=t?i.nextDirection(t):i.nextDirection("none"),o.getStateService().go(e,n)},f&&f.getListenerName&&(o.hasPageRefreshManger=!0,o.hasPageRefreshManger)){var g=o.getStateService();u=p.$on(f.getListenerName(g.current,g.params),function(e,t){f.shouldUpdate(g,t.url)&&o.onUpdate()})}var h=p.$on("$ionicView.beforeEnter",function(){if(o.onBeforeEnterView(),o.getRootScope&&o.back){o.getRootScope().viewGoBack=o.back.bind(o)}}),b=p.$on("$ionicView.beforeLeave",function(){c(),o.viewEntered=!1,o.onBeforeLeaveView()}),v=p.$on("$ionicView.loaded",function(){o.onLoadedView()}),_=p.$on("$ionicView.afterEnter",function(){p.$evalAsync(function(){o.viewEntered=!0,c=d.connect(o.mapStateObj,o.mapActionToThis(),o)(function(e,t){o.viewEntered&&(Object.assign(o,e,t),o.dataPipe.run(o),p.$evalAsync(function(){o.onReceiveProps(e,t)}))}),o.onAfterEnterView()})});return p.$on("$destroy",function(){c(),u(),_(),h(),b(),v()}),o}return i.prototype=n.prototype,i.$inject=n.$inject,t.inject&&t.inject.length&&(i.$inject=t.inject),i.$inject.push("$injector"),w.config(["$stateProvider",function(n){if(t.views){var r=Object.keys(t.views)[0],o=t.views[r];o.controller=i,o.controllerAs=o.controllerAs||"ctrl"}else t.controller=i,t.controllerAs=t.controllerAs||"ctrl";n.state(e,t)}]),i}}function s(e){return function(t){if(!e.selector)throw new Error("selector must be provided!");e.controller=t,e.controllerAs||(e.controllerAs="ctrl"),w.directive(e.selector,function(){return e})}}function l(e){return function(t){t.controller=t,w.component(e.selector,e)}}function c(e){return function(t,n,i){if(i.writable=!0,t.selectorList||(t.selectorList=[]),e)if("string"==typeof e)t.selectorList.push({type:x,key:n,selector:e});else if(e instanceof Array)t.selectorList.push({type:_,key:n,selector:e});else{if(!(e instanceof Function))throw new Error("unknown selector type!");t.selectorList.push({type:y,key:n,selector:e})}else t.selectorList.push({type:v,key:n})}}function u(e,t,n){var i=n.value,r=void 0;return n.value=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=e.$ngRedux;if(!a)throw new Error("$ngRedux is required by decorator @actionCreator");var s=(0,b.bindActionCreators)(i.bind(e.constructor.instance),a.dispatch);return r=s.apply(e,n)},n}function p(e,t){return function(n){w.constant(e,t)}}function d(e,t){return function(n){t&&t.inject&&t.inject.length&&(n.$inject=t.inject),w.service(e,n)}}function f(e,t,n){var i=n.value;return n.value=function(){var e=this;return new Promise(function(t){i.call(e,t)})},n}Object.defineProperty(t,"__esModule",{value:!0}),t.registerModule=i,t.Inject=r,t.ViewDecorator=o,t.View=a,t.Directive=s,t.Component=l,t.select=c,t.actionCreator=u,t.Constant=p,t.Service=d,t.PromiseFn=f;var g=n(172),h=n(174),m=function(e){return e&&e.__esModule?e:{default:e}}(h),b=n(176),v="EMPTY_SELECTOR_TYPE",_="PATH_SELECTOR_TYPE",y="FUNCTION_SELECTOR_TYPE",x="STR_SELECTOR_TYPE",w=g.ngDecModule,k=void 0,S=void 0,C=function(e,t,n){e.forEach(function(e,i){"$scope"==e?t.prototype.getScope=function(){return n[i]}:"$rootScope"==e?t.prototype.getRootScope=function(){return n[i]}:"$state"==e?t.prototype.getStateService=function(){return n[i]}:"$ngRedux"==e?(t.prototype.getState=function(){return n[i].getState()},t.prototype[e]=n[i]):t.prototype[e]=n[i]})}},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngDecModule=void 0,n(173);var i=angular.module("ngDecModule",[]);t.ngDecModule=i},174:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(175),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,r){i(this,e),this.id=(0,a.default)(),this.criteriaList=t||[],this.invokeList=n||[],this.sequence=r||0}return r(e,[{key:"pushCriteria",value:function(e){this.criteriaList.push(e)}},{key:"pushInvoke",value:function(e){this.invokeList.push(e)}}]),e}(),l=function(){function e(){i(this,e),this.configList=[],this.lastConfigId=null,this.lastActionType=u.PUSH_CRITERIA}return r(e,[{key:"getLastConfig",value:function(){var e=this,t=null,n=void 0;switch(this.lastActionType){case u.PUSH_CRITERIA:return this.lastConfigId?this.configList.forEach(function(n){n.id==e.lastConfigId&&(t=n)}):(t=new s,t.sequence=1,this.configList.push(t),this.lastConfigId=t.id),t;case u.PUSH_INVOKE:case u.NEXT:return this.configList.forEach(function(n){n.id==e.lastConfigId&&(t=n)}),n=new s,n.sequence=t.sequence++,this.configList.push(n),this.lastConfigId=n.id,n}}},{key:"when",value:function(e){return"function"!=typeof e?console.error(c.CRITERIA_ERROR):(this.getLastConfig().pushCriteria(e),this.lastActionType=u.PUSH_CRITERIA,this)}},{key:"then",value:function(e){return"function"!=typeof e?console.error(c.INVOKE_ERROR):(this.getLastConfig().pushInvoke(e),this.lastActionType=u.PUSH_INVOKE,this)}},{key:"next",value:function(){return this.lastActionType=u.NEXT,this}},{key:"run",value:function(e){for(var t=!0,n=this.configList.slice(0,this.configList.length);t&&n.length;){for(var i=[n.shift()];n[0]&&i[0].sequence==n[0].sequence;)i.push(n.shift());for(var r=0;r<i.length;r++)!function(n){var r=i[n],o=!0;r.criteriaList.forEach(function(t){o=o&&t.call(e)}),o?r.invokeList.forEach(function(t){t.call(e)}):t=!1}(r)}}}]),e}(),c={CRITERIA_ERROR:"criteria should be function!",INVOKE_ERROR:"invoke should be function"},u={PUSH_CRITERIA:"PUSH_CRITERIA",PUSH_INVOKE:"PUSH_INVOKE",NEXT:"NEXT"};window.dataPipe=new l,t.default=l},175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Math.pow(2,e)},i=(n(4),n(6)),r=n(8),o=n(12),a=(n(14),n(16)),s=n(32),l=(n(40),n(48),function(e,t){return Math.floor(Math.random()*(t-e+1))+e}),c=function(){return l(0,i-1)},u=function(){return l(0,r-1)},p=function(){return l(0,o-1)},d=function(){return l(0,a-1)},f=function(){return l(0,s-1)},g=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},h=function(e,t,n){e=String(e),n=n||"0";for(var i=t-e.length;i>0;i>>>=1,n+=n)1&i&&(e=n+e);return e},m=function(e,t,n,i,r,o){return h(e.toString(16),8)+"-"+h(t.toString(16),4)+"-"+h(n.toString(16),4)+"-"+h(i.toString(16),2)+h(r.toString(16),2)+"-"+h(o.toString(16),12)},b=function(){return m(f(),d(),16384|p(),128|c(),u(),g())};t.default=b},282:function(e,t,n){(function(e,n){function i(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function r(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function o(e){return function(t){return null==t?void 0:t[e]}}function a(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function s(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function d(){this.__data__=Ht?Ht(null):{}}function f(e){return this.has(e)&&delete this.__data__[e]}function g(e){var t=this.__data__;if(Ht){var n=t[e];return n===Re?void 0:n}return Lt.call(t,e)?t[e]:void 0}function h(e){var t=this.__data__;return Ht?void 0!==t[e]:Lt.call(t,e)}function m(e,t){return this.__data__[e]=Ht&&void 0===t?Re:t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function v(){this.__data__=[]}function _(e){var t=this.__data__,n=R(t,e);return!(n<0)&&(n==t.length-1?t.pop():Mt.call(t,n,1),!0)}function y(e){var t=this.__data__,n=R(t,e);return n<0?void 0:t[n][1]}function x(e){return R(this.__data__,e)>-1}function w(e,t){var n=this.__data__,i=R(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function S(){this.__data__={hash:new p,map:new($t||b),string:new p}}function C(e){return re(this,e).delete(e)}function q(e){return re(this,e).get(e)}function E(e){return re(this,e).has(e)}function T(e,t){return re(this,e).set(e,t),this}function I(e){var t=-1,n=e?e.length:0;for(this.__data__=new k;++t<n;)this.add(e[t])}function P(e){return this.__data__.set(e,Re),this}function O(e){return this.__data__.has(e)}function A(e){this.__data__=new b(e)}function Q(){this.__data__=new b}function L(e){return this.__data__.delete(e)}function D(e){return this.__data__.get(e)}function z(e){return this.__data__.has(e)}function F(e,t){var n=this.__data__;if(n instanceof b){var i=n.__data__;if(!$t||i.length<Fe-1)return i.push([e,t]),this;n=this.__data__=new k(i)}return n.set(e,t),this}function j(e,t){var n=sn(e)||ye(e)?a(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!Lt.call(e,o)||r&&("length"==o||le(o,i))||n.push(o);return n}function R(e,t){for(var n=e.length;n--;)if(_e(e[n][0],t))return n;return-1}function M(e,t){t=ce(t,e)?[t]:ee(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[he(t[n++])];return n&&n==i?e:void 0}function B(e){return Dt.call(e)}function N(e,t){return null!=e&&t in Object(e)}function U(e,t,n,i,r){return e===t||(null==e||null==t||!Ce(e)&&!qe(t)?e!==e&&t!==t:$(e,t,U,n,i,r))}function $(e,t,n,i,r,o){var a=sn(e),s=sn(t),c=Ve,u=Ve;a||(c=rn(e),c=c==Ke?tt:c),s||(u=rn(t),u=u==Ke?tt:u);var p=c==tt&&!l(e),d=u==tt&&!l(t),f=c==u;if(f&&!p)return o||(o=new A),a||ln(e)?te(e,t,n,i,r,o):ne(e,t,c,n,i,r,o);if(!(r&Be)){var g=p&&Lt.call(e,"__wrapped__"),h=d&&Lt.call(t,"__wrapped__");if(g||h){var m=g?e.value():e,b=h?t.value():t;return o||(o=new A),n(m,b,i,r,o)}}return!!f&&(o||(o=new A),ie(e,t,n,i,r,o))}function G(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var p=new A;if(i)var d=i(c,u,l,e,t,p);if(!(void 0===d?U(u,c,i,Me|Be,p):d))return!1}}return!0}function K(e){return!(!Ce(e)||pe(e))&&(ke(e)||l(e)?zt:gt).test(me(e))}function V(e){return qe(e)&&Se(e.length)&&!!bt[Dt.call(e)]}function H(e){return"function"==typeof e?e:null==e?De:"object"==typeof e?sn(e)?J(e[0],e[1]):Y(e):ze(e)}function W(e){if(!de(e))return Bt(e);var t=[];for(var n in Object(e))Lt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Y(e){var t=oe(e);return 1==t.length&&t[0][2]?ge(t[0][0],t[0][1]):function(n){return n===e||G(n,e,t)}}function J(e,t){return ce(e)&&fe(t)?ge(he(e),t):function(n){var i=Ae(n,e);return void 0===i&&i===t?Qe(n,e):U(t,i,void 0,Me|Be)}}function Z(e){return function(t){return M(t,e)}}function X(e){if("string"==typeof e)return e;if(Ee(e))return nn?nn.call(e):"";var t=e+"";return"0"==t&&1/e==-Ne?"-0":t}function ee(e){return sn(e)?e:on(e)}function te(e,t,n,r,o,a){var s=o&Be,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var p=-1,d=!0,f=o&Me?new I:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var g=e[p],h=t[p];if(r)var m=s?r(h,g,p,t,e,a):r(g,h,p,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!i(t,function(e,t){if(!f.has(t)&&(g===e||n(g,e,r,o,a)))return f.add(t)})){d=!1;break}}else if(g!==h&&!n(g,h,r,o,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ne(e,t,n,i,r,o,a){switch(n){case st:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case at:return!(e.byteLength!=t.byteLength||!i(new jt(e),new jt(t)));case He:case We:case et:return _e(+e,+t);case Ye:return e.name==t.name&&e.message==t.message;case nt:case rt:return e==t+"";case Xe:var s=c;case it:var l=o&Be;if(s||(s=u),e.size!=t.size&&!l)return!1;var p=a.get(e);if(p)return p==t;o|=Me,a.set(e,t);var d=te(s(e),s(t),i,r,o,a);return a.delete(e),d;case ot:if(tn)return tn.call(e)==tn.call(t)}return!1}function ie(e,t,n,i,r,o){var a=r&Be,s=Le(e),l=s.length;if(l!=Le(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Lt.call(t,u)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){u=s[c];var g=e[u],h=t[u];if(i)var m=a?i(h,g,u,t,e,o):i(g,h,u,e,t,o);if(!(void 0===m?g===h||n(g,h,i,r,o):m)){d=!1;break}f||(f="constructor"==u)}if(d&&!f){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(d=!1)}return o.delete(e),o.delete(t),d}function re(e,t){var n=e.__data__;return ue(t)?n["string"==typeof t?"string":"hash"]:n.map}function oe(e){for(var t=Le(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fe(r)]}return t}function ae(e,t){var n=s(e,t);return K(n)?n:void 0}function se(e,t,n){t=ce(t,e)?[t]:ee(t);for(var i,r=-1,o=t.length;++r<o;){var a=he(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}if(i)return i;var o=e?e.length:0;return!!o&&Se(o)&&le(a,o)&&(sn(e)||ye(e))}function le(e,t){return!!(t=null==t?Ue:t)&&("number"==typeof e||mt.test(e))&&e>-1&&e%1==0&&e<t}function ce(e,t){if(sn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ee(e))||(ct.test(e)||!lt.test(e)||null!=t&&e in Object(t))}function ue(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!At&&At in e}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pt)}function fe(e){return e===e&&!Ce(e)}function ge(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function he(e){if("string"==typeof e||Ee(e))return e;var t=e+"";return"0"==t&&1/e==-Ne?"-0":t}function me(e){if(null!=e){try{return Qt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t,n){var i=e?e.length:0;if(!i)return-1;var o=null==n?0:Ie(n);return o<0&&(o=Nt(i+o,0)),r(e,H(t,3),o)}function ve(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(je);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(ve.Cache||k),n}function _e(e,t){return e===t||e!==e&&t!==t}function ye(e){return we(e)&&Lt.call(e,"callee")&&(!Rt.call(e,"callee")||Dt.call(e)==Ke)}function xe(e){return null!=e&&Se(e.length)&&!ke(e)}function we(e){return qe(e)&&xe(e)}function ke(e){var t=Ce(e)?Dt.call(e):"";return t==Je||t==Ze}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ue}function Ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function qe(e){return!!e&&"object"==typeof e}function Ee(e){return"symbol"==typeof e||qe(e)&&Dt.call(e)==ot}function Te(e){if(!e)return 0===e?e:0;if((e=Pe(e))===Ne||e===-Ne){return(e<0?-1:1)*$e}return e===e?e:0}function Ie(e){var t=Te(e),n=t%1;return t===t?n?t-n:t:0}function Pe(e){if("number"==typeof e)return e;if(Ee(e))return Ge;if(Ce(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ce(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(pt,"");var n=ft.test(e);return n||ht.test(e)?vt(e.slice(2),n?2:8):dt.test(e)?Ge:+e}function Oe(e){return null==e?"":X(e)}function Ae(e,t,n){var i=null==e?void 0:M(e,t);return void 0===i?n:i}function Qe(e,t){return null!=e&&se(e,t,N)}function Le(e){return xe(e)?j(e):W(e)}function De(e){return e}function ze(e){return ce(e)?o(he(e)):Z(e)}var Fe=200,je="Expected a function",Re="__lodash_hash_undefined__",Me=1,Be=2,Ne=1/0,Ue=9007199254740991,$e=1.7976931348623157e308,Ge=NaN,Ke="[object Arguments]",Ve="[object Array]",He="[object Boolean]",We="[object Date]",Ye="[object Error]",Je="[object Function]",Ze="[object GeneratorFunction]",Xe="[object Map]",et="[object Number]",tt="[object Object]",nt="[object RegExp]",it="[object Set]",rt="[object String]",ot="[object Symbol]",at="[object ArrayBuffer]",st="[object DataView]",lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/,ut=/^\./,pt=/^\s+|\s+$/g,dt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt[Ke]=bt[Ve]=bt[at]=bt[He]=bt[st]=bt[We]=bt[Ye]=bt[Je]=bt[Xe]=bt[et]=bt[tt]=bt[nt]=bt[it]=bt[rt]=bt["[object WeakMap]"]=!1;var vt=parseInt,_t="object"==typeof e&&e&&e.Object===Object&&e,yt="object"==typeof self&&self&&self.Object===Object&&self,xt=_t||yt||Function("return this")(),wt="object"==typeof t&&t&&!t.nodeType&&t,kt=wt&&"object"==typeof n&&n&&!n.nodeType&&n,St=kt&&kt.exports===wt,Ct=St&&_t.process,qt=function(){try{return Ct&&Ct.binding("util")}catch(e){}}(),Et=qt&&qt.isTypedArray,Tt=Array.prototype,It=Function.prototype,Pt=Object.prototype,Ot=xt["__core-js_shared__"],At=function(){var e=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Qt=It.toString,Lt=Pt.hasOwnProperty,Dt=Pt.toString,zt=RegExp("^"+Qt.call(Lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=xt.Symbol,jt=xt.Uint8Array,Rt=Pt.propertyIsEnumerable,Mt=Tt.splice,Bt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Nt=Math.max,Ut=ae(xt,"DataView"),$t=ae(xt,"Map"),Gt=ae(xt,"Promise"),Kt=ae(xt,"Set"),Vt=ae(xt,"WeakMap"),Ht=ae(Object,"create"),Wt=me(Ut),Yt=me($t),Jt=me(Gt),Zt=me(Kt),Xt=me(Vt),en=Ft?Ft.prototype:void 0,tn=en?en.valueOf:void 0,nn=en?en.toString:void 0;p.prototype.clear=d,p.prototype.delete=f,p.prototype.get=g,p.prototype.has=h,p.prototype.set=m,b.prototype.clear=v,b.prototype.delete=_,b.prototype.get=y,b.prototype.has=x,b.prototype.set=w,k.prototype.clear=S,k.prototype.delete=C,k.prototype.get=q,k.prototype.has=E,k.prototype.set=T,I.prototype.add=I.prototype.push=P,I.prototype.has=O,A.prototype.clear=Q,A.prototype.delete=L,A.prototype.get=D,A.prototype.has=z,A.prototype.set=F;var rn=B;(Ut&&rn(new Ut(new ArrayBuffer(1)))!=st||$t&&rn(new $t)!=Xe||Gt&&"[object Promise]"!=rn(Gt.resolve())||Kt&&rn(new Kt)!=it||Vt&&"[object WeakMap]"!=rn(new Vt))&&(rn=function(e){var t=Dt.call(e),n=t==tt?e.constructor:void 0,i=n?me(n):void 0;if(i)switch(i){case Wt:return st;case Yt:return Xe;case Jt:return"[object Promise]";case Zt:return it;case Xt:return"[object WeakMap]"}return t});var on=ve(function(e){e=Oe(e);var t=[];return ut.test(e)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,n,i,r){t.push(i?r.replace(/\\(\\)?/g,"$1"):n||e)}),t}),an=function(e){return function(t,n,i){var r=Object(t);if(!xe(t)){var o=H(n,3);t=Le(t),n=function(e){return o(r[e],e,r)}}var a=e(t,n,i);return a>-1?r[o?t[a]:a]:void 0}}(be);ve.Cache=k;var sn=Array.isArray,ln=Et?function(e){return function(t){return e(t)}}(Et):V;n.exports=an}).call(t,function(){return this}(),n(190)(e))},414:function(e,t,n){var i,r;(function(){function n(e){function t(t,n,i,r,o,a){for(;o>=0&&o<a;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=k(i,o,4);var a=!P(n)&&w.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=e),t(n,i,r,a,l,s)}}function o(e){return function(t,n,i){n=S(n,i);for(var r=I(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(i,r,o){var a=0,s=I(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(g.call(i,a,s),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(i[o]===r)return o;return-1}}function s(e,t){var n=D.length,i=e.constructor,r=w.isFunction(i)&&i.prototype||p,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)(o=D[n])in e&&e[o]!==r[o]&&!w.contains(t,o)&&t.push(o)}var l=this,c=l._,u=Array.prototype,p=Object.prototype,d=Function.prototype,f=u.push,g=u.slice,h=p.toString,m=p.hasOwnProperty,b=Array.isArray,v=Object.keys,_=d.bind,y=Object.create,x=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};void 0!==e&&e.exports&&(t=e.exports=w),t._=w,w.VERSION="1.8.3";var k=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},S=function(e,t,n){return null==e?w.identity:w.isFunction(e)?k(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return S(e,t,1/0)};var C=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},q=function(e){if(!w.isObject(e))return{};if(y)return y(e);x.prototype=e;var t=new x;return x.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,I=E("length"),P=function(e){var t=I(e);return"number"==typeof t&&t>=0&&t<=T};w.each=w.forEach=function(e,t,n){t=k(t,n);var i,r;if(P(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=w.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},w.map=w.collect=function(e,t,n){t=S(t,n);for(var i=!P(e)&&w.keys(e),r=(i||e).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(e,t,n){var i;if(void 0!==(i=P(e)?w.findIndex(e,t,n):w.findKey(e,t,n))&&-1!==i)return e[i]},w.filter=w.select=function(e,t,n){var i=[];return t=S(t,n),w.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},w.reject=function(e,t,n){return w.filter(e,w.negate(S(t)),n)},w.every=w.all=function(e,t,n){t=S(t,n);for(var i=!P(e)&&w.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=S(t,n);for(var i=!P(e)&&w.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,i){return P(e)||(e=w.values(e)),("number"!=typeof n||i)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=g.call(arguments,2),i=w.isFunction(t);return w.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=P(e)?e:w.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])>o&&(o=i)}else t=S(t,n),w.each(e,function(e,n,i){((r=t(e,n,i))>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},w.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=P(e)?e:w.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])<o&&(o=i)}else t=S(t,n),w.each(e,function(e,n,i){((r=t(e,n,i))<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},w.shuffle=function(e){for(var t,n=P(e)?e:w.values(e),i=n.length,r=Array(i),o=0;o<i;o++)t=w.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},w.sample=function(e,t,n){return null==t||n?(P(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=S(t,n),w.pluck(w.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,i){var r={};return n=S(n,i),w.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};w.groupBy=O(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=O(function(e,t,n){e[n]=t}),w.countBy=O(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?g.call(e):P(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:P(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=S(t,n);var i=[],r=[];return w.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},w.first=w.head=w.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return g.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return g.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var A=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=I(e);a<s;a++){var l=e[a];if(P(l)&&(w.isArray(l)||w.isArguments(l))){t||(l=A(l,t,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};w.flatten=function(e,t){return A(e,t,!1)},w.without=function(e){return w.difference(e,g.call(arguments,1))},w.uniq=w.unique=function(e,t,n,i){w.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=S(n,i));for(var r=[],o=[],a=0,s=I(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t?(a&&o===c||r.push(l),o=c):n?w.contains(o,c)||(o.push(c),r.push(l)):w.contains(r,l)||r.push(l)}return r},w.union=function(){return w.uniq(A(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=I(e);i<r;i++){var o=e[i];if(!w.contains(t,o)){for(var a=1;a<n&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=A(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,I).length||0,n=Array(t),i=0;i<t;i++)n[i]=w.pluck(e,i);return n},w.object=function(e,t){for(var n={},i=0,r=I(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},w.findIndex=o(1),w.findLastIndex=o(-1),w.sortedIndex=function(e,t,n,i){n=S(n,i,1);for(var r=n(t),o=0,a=I(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},w.indexOf=a(1,w.findIndex,w.sortedIndex),w.lastIndexOf=a(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var Q=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=q(e.prototype),a=e.apply(o,r);return w.isObject(a)?a:o};w.bind=function(e,t){if(_&&e.bind===_)return _.apply(e,g.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=g.call(arguments,2),i=function(){return Q(e,i,t,this,n.concat(g.call(arguments)))};return i},w.partial=function(e){var t=g.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===w?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return Q(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return w.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},w.delay=function(e,t){var n=g.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:w.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var c=w.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return i=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(l,u)),o}},w.debounce=function(e,t,n){var i,r,o,a,s,l=function(){var c=w.now()-a;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=w.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},w.once=w.partial(w.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return L&&s(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&s(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},w.mapObject=function(e,t,n){t=S(t,n);for(var i,r=w.keys(e),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=t(e[i],i,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},w.invert=function(e){for(var t={},n=w.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},w.functions=w.methods=function(e){
var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=C(w.allKeys),w.extendOwn=w.assign=C(w.keys),w.findKey=function(e,t,n){t=S(t,n);for(var i,r=w.keys(e),o=0,a=r.length;o<a;o++)if(i=r[o],t(e[i],i,e))return i},w.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;w.isFunction(t)?(r=w.allKeys(a),i=k(t,n)):(r=A(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=r.length;s<l;s++){var c=r[s],u=a[c];i(u,c,a)&&(o[c]=u)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var i=w.map(A(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(i,t)}}return w.pick(e,t,n)},w.defaults=C(w.allKeys,!0),w.create=function(e,t){var n=q(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var z=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var r=h.call(e);if(r!==h.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!z(e[l],t[l],n,i))return!1}else{var c,u=w.keys(e);if(l=u.length,w.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!w.has(t,c)||!z(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(e,t){return z(e,t)},w.isEmpty=function(e){return null==e||(P(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=b||function(e){return"[object Array]"===h.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&m.call(e,t)},w.noConflict=function(){return l._=c,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=E,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var i=Array(Math.max(0,e));t=k(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=w.invert(F),R=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};w.escape=R(F),w.unescape=R(j),w.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),w.isFunction(i)?i.call(e):i};var M=0;w.uniqueId=function(e){var t=++M+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=function(e){return"\\"+B[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var i=RegExp([(t.escape||/(.)^/).source,(t.interpolate||/(.)^/).source,(t.evaluate||/(.)^/).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(/\\|'|\r|\n|\u2028|\u2029/g,N),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,w)};return s.source="function("+(t.variable||"obj")+"){\n"+o+"}",s},w.chain=function(e){var t=w(e);return t._chain=!0,t};var U=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),U(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],U(this,n)}}),w.each(["concat","join","slice"],function(e){var t=u[e];w.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},i=[],void 0!==(r=function(){return w}.apply(t,i))&&(e.exports=r)}).call(this)},4485:function(e,t,n){e.exports=n.p+"images/wechat.ico"},4487:function(e,t,n){e.exports=n.p+"images/qq.ico"},4666:function(e,t,n){e.exports=n.p+"images/back-to-top.png"},5479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t_personal_qb=void 0;var i=n(171);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var r=n(5480),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(5482),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l=angular.module("t_personal_qb",["t_personal_qb.directive"]);(0,i.registerModule)(l,o.default,s),t.t_personal_qb=l},5480:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5481),o=i(r),a=n(5484),s=i(a),l=n(5485),c=i(l),u=n(5486),p=i(u),d={select_book_info:o.default,select_ques_info:s.default,edit_ques_info:c.default,temp_make_paper:p.default};t.default=d},5481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5482),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(5483);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.select_book_info,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.assign({},e);switch(t.type){case o.BOOK_TYPE.FETCH_SELECT_BOOK_INFO_SUCCESS:return t.playLoad;default:return e}}},5482:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.select_book_info=[],t.fetch_book_type_list_processing=!1,t.select_ques_info={},t.edit_ques_info={},t.temp_make_paper={}},5483:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BOOK_TYPE={FETCH_SELECT_BOOK_INFO_START:"FETCH_SELECT_BOOK_INFO_START",FETCH_SELECT_BOOK_INFO_SUCCESS:"FETCH_SELECT_BOOK_INFO_SUCCESS",FETCH_SELECT_BOOK_INFO_FAIL:"FETCH_SELECT_BOOK_INFO_FAIL"},t.EDITING_QUES={SELECT_BOOK_TYPE:"SELECT_BOOK_TYPE",SELECT_CHAPTER_UNIT:"SELECT_CHAPTER_UNIT",SELECT_KNOWLEDGE_POINT:"SELECT_KNOWLEDGE_POINT",SELECT_DIFFICULTY_LEVEL:"SELECT_DIFFICULTY_LEVEL",CLEAR_EDITING_QUES:"CLEAR_EDITING_QUES"},t.QUES_CONTENT={SELECT_QUES_TYPE:"SELECT_QUES_TYPE",SAVE_QUES_TITLE:"SAVE_QUES_TITLE",SAVE_QUES_IMG_LIST:"SAVE_QUES_IMG_LIST",SAVE_QUES_ANS_OPTIONS:"SAVE_QUES_ANS_OPTIONS",CLEAR_QUES_CONTENT:"CLEAR_QUES_CONTENT"},t.MAKE_PAPER={MAKE_PAPER_FROM_TEACHER_QB_START:"MAKE_PAPER_FROM_TEACHER_QB_START",MAKE_PAPER_FROM_TEACHER_QB_SUCCESS:"MAKE_PAPER_FROM_TEACHER_QB_SUCCESS",MAKE_PAPER_FROM_TEACHER_QB_FAIL:"MAKE_PAPER_FROM_TEACHER_QB_FAIL",CHANGE_NAME_MAKE_PAPER_FROM_TEACHER:"CHANGE_NAME_MAKE_PAPER_FROM_TEACHER",CLEAR_TEMP_MAKE_PAPER:"CLEAR_TEMP_MAKE_PAPER"}},5484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5482),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(5483);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.select_ques_info,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},e);switch(t.type){case o.EDITING_QUES.SELECT_BOOK_TYPE:return n.textbook&&n.textbook.code!=t.playLoad.textbook.code&&(n.grade="",n.unit="",n.chapter="",n.knowledge=""),n.grade&&n.grade.seq!=t.playLoad.grade.seq&&(n.unit="",n.chapter="",n.knowledge=""),n.textbook=t.playLoad.textbook,n.grade=t.playLoad.grade,n;case o.EDITING_QUES.SELECT_CHAPTER_UNIT:return n.unit&&n.unit.id!=t.playLoad.unit.id&&(n.chapter="",n.knowledge=""),n.chapter&&n.chapter.id!=t.playLoad.chapter.id&&(n.knowledge=""),n.unit=t.playLoad.unit,n.chapter=t.playLoad.chapter,n;case o.EDITING_QUES.SELECT_KNOWLEDGE_POINT:return n.knowledge=t.playLoad.knowledge,n;case o.EDITING_QUES.SELECT_DIFFICULTY_LEVEL:return n.difficulty=t.playLoad.difficulty,n;case o.EDITING_QUES.CLEAR_EDITING_QUES:return n={};default:return e}}},5485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5482),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(5483);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.edit_ques_info,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},e);switch(t.type){case o.QUES_CONTENT.SAVE_QUES_TITLE:return n.quesTitle=t.playLoad.quesTitle,n;case o.QUES_CONTENT.SAVE_QUES_IMG_LIST:return n.imageList=t.playLoad.imageList,n;case o.QUES_CONTENT.SAVE_QUES_ANS_OPTIONS:return n.quesRightAns=t.playLoad.quesRightAns,n.quesOptionsAns=t.playLoad.quesOptionsAns,n;case o.QUES_CONTENT.CLEAR_QUES_CONTENT:return n={};default:return e}}},5486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5482),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(5483);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.temp_make_paper,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},e);switch(t.type){case o.MAKE_PAPER.MAKE_PAPER_FROM_TEACHER_QB_SUCCESS:return n=t.playLoad;case o.MAKE_PAPER.CHANGE_NAME_MAKE_PAPER_FROM_TEACHER:return n.paperName=t.playLoad.paperName,n;case o.MAKE_PAPER.CLEAR_TEMP_MAKE_PAPER:return n={};default:return e}}},5487:function(e,t,n){"use strict";n(5488),n(5493),n(5497),n(5501)},5488:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var s,l,c,u,p,d,f,g,h,m,b,v,_,y,x,w,k,S,C,q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),T=n(5489),I=i(T),P=n(282),O=(i(P),n(414)),A=i(O),Q=n(5479),L=(s=(0,Q.View)("add_question",{url:"/add_question",cache:!1,template:n(5490),styles:n(5491),controllerAs:"addCtrl",inject:["$scope","$state","$ionicScrollDelegate","$rootScope","$ngRedux","$timeout","$ionicModal","commonService","uuid4","personalQBService","compositeStandaloneQuesService","$ionicPopup","$ionicActionSheet"]}),l=(0,Q.select)(function(e){return e.wl_selected_clazz}),c=(0,Q.select)(function(e){return e.select_ques_info}),u=(0,Q.select)(function(e){return e.select_book_info}),p=(0,Q.select)(function(e){return e.profile_user_auth.user}),d=(0,Q.select)(function(e){return e.edit_ques_info.quesTitle}),f=(0,Q.select)(function(e){return e.edit_ques_info.imageList}),g=(0,Q.select)(function(e){return e.edit_ques_info.quesRightAns}),h=(0,Q.select)(function(e){return e.edit_ques_info.quesOptionsAns}),s((b=function(){function e(){var t=this;o(this,e),r(this,"currentClazz",v,this),r(this,"selectQuesInfo",_,this),r(this,"selectBookInfo",y,this),r(this,"user",x,this),r(this,"quesTitle",w,this),r(this,"imageList",k,this),r(this,"quesRightAns",S,this),r(this,"quesOptionsAns",C,this),this.quesType="选择题",this.showQuesTypeOptionsFlag=!1,this.showDifficultyLevelOptionsFlag=!1,this.Modal={},this.ModalUnit={},this.ModalKnowledge={},this.initCtrl=!1,this.displayImageList=[],this.gradeSubTags=[],this.getGradeInfoFlage=!1,this.difficultyLevels=[{name:"基础",level:"基础",value:1},{name:"变式",level:"变式",value:41},{name:"拓展",level:"拓展",value:71}],this.quesTypeOptions=[{name:"选择题（单选）",value:"选择题"}],this.difficultyLevel=0,this.loading=!1,this.htmlInputId=this.compositeStandaloneQuesService.getInputId(),this.htmlScorepointqbuid=this.compositeStandaloneQuesService.getInputId(),this.htmlScorepointid=this.compositeStandaloneQuesService.getInputId(),this.optionsIndexs=["A","B","C","D"],this.isShowSelectBorad=!1,this.saveRightAnsOptions=function(e){t.quesRightAns=e,t.personalQBService.saveQuesOptions(e,t.quesOptionsAns)},this.openModal=function(){return t.Modal.show()},this.closeModal=function(){return t.Modal.hide()},this.closeModalUnit=function(){return t.ModalUnit.hide()},this.closeModalKnowledge=function(){return t.ModalKnowledge.hide()},this.selectDifficultyLevel=function(e,n){t.personalQBService.selectDifficultyLevel(n)},this.cancelSubmitQues=function(){},this.initModal()}return E(e,[{key:"initData",value:function(){this.maxImgLength=204800,this.CLASS_NAME={BROWSE_FILE:"uploadImg1"},this.gradeTextArr=["一年级上册","一年级下册","二年级上册","二年级下册","三年级上册","三年级下册","四年级上册","四年级下册","五年级上册","五年级下册","六年级上册","六年级下册"]}},{key:"onAfterEnterView",value:function(){this.initData(),this.addChangeEvent(),this.selectQuesInfo&&this.selectQuesInfo.difficulty&&(this.difficultyLevel=this.selectQuesInfo.difficulty.value)}},{key:"getDefaultDifficultyLevel",value:function(){return!this.selectQuesInfo||this.selectQuesInfo&&!this.selectQuesInfo.difficulty?"":1==this.selectQuesInfo.difficulty.value?0:41==this.selectQuesInfo.difficulty.value?1:71==this.selectQuesInfo.difficulty.value?2:void 0}},{key:"onReceiveProps",value:function(){this.ensurePageData()}},{key:"ensurePageData",value:function(){if(!this.initCtrl){this.initCtrl=!0,this.initModal();var e=this.currentClazz.teachingMaterial.split("-"),t={text:e[1],code:e[0]},n=Number(this.currentClazz.grade),i={seq:n-1,text:this.gradeTextArr[n-1]};this.selectQuesInfo.textbook&&this.selectQuesInfo.grade||this.personalQBService.selectTextbook(t,i),this.personalQBService.getTextbooksList(this.getTextbookCallBack.bind(this)),this.quesOptionsAns||(this.quesOptionsAns=["","","",""],this.personalQBService.saveQuesOptions(this.quesRightAns,this.quesOptionsAns)),this.imageList||(this.imageList=[],this.personalQBService.saveQuesImgList(this.imageList)),this.imageList&&0!=this.imageList.length?this.displayImageList=this.commonService.getRowColArray(this.imageList,2):this.displayImageList=[]}}},{key:"getTextbookCallBack",value:function(e){this.textbooks=e||[]}},{key:"back",value:function(){this.go("my_question_bank")}},{key:"saveQuesTitle",value:function(){this.personalQBService.saveQuesTitle(this.quesTitle)}},{key:"saveAnsOptions",value:function(){this.personalQBService.saveQuesOptions(this.quesRightAns,this.quesOptionsAns)}},{key:"showQuesTypeOptions",value:function(e){if("object"===(void 0===e?"undefined":q(e))&&e.stopPropagation?e.stopPropagation():event&&event.stopPropagation&&event.stopPropagation(),this.showQuesTypeOptionsFlag)return void this.hideQuesTypeOption();this.showQuesTypeOptionsFlag=!0,$(".ques_type_options").show(),this.$timeout(function(){$(".ques_type_options").css("height","80px")},100)}},{key:"hideQuesTypeOption",value:function(){this.showQuesTypeOptionsFlag=!1,$(".ques_type_options").hide(),$(".ques_type_options").css("height","5px")}},{key:"isMobile",value:function(){return this.getScope().platform.isMobile()}},{key:"initModal",value:function(){var e=this;this.$ionicModal.fromTemplateUrl("textbookSelect.html",{scope:this.getScope(),animation:"slide-in-up"}).then(function(t){return e.Modal=t}),this.getScope().$on("$destroy",function(){e.Modal.remove()}),this.$ionicModal.fromTemplateUrl("unitSelect.html",{scope:this.getScope(),animation:"slide-in-up"}).then(function(t){return e.ModalUnit=t}),this.getScope().$on("$destroy",function(){e.ModalUnit.remove()}),this.$ionicModal.fromTemplateUrl("knowledgeSelect.html",{scope:this.getScope(),animation:"slide-in-up"}).then(function(t){return e.ModalKnowledge=t}),this.getScope().$on("$destroy",function(){e.ModalKnowledge.remove()})}},{key:"selectCurrentTextbook",value:function(e,t){this.textbook=e,this.selectBookInfo&&this.selectBookInfo.length>0&&this.selectQuesInfo.textbook&&(this.selectQuesInfo.textbook.code!=t.code||this.selectQuesInfo.grade.seq!=e.seq)&&(this.gradeSubTags.length=0),this.personalQBService.selectTextbook(t,e),this.closeModal()}},{key:"clickUnit",value:function(e,t){e.isOpened=!e.isOpened,e.isOpened&&(e.retFlag=!1,$(t.target).find("span").toggleClass("ion-chevron-down").toggleClass("ion-chevron-right"))}},{key:"selectLesson",value:function(e,t){this.personalQBService.selectChapterUnit(e,t),this.closeModalUnit()}},{key:"openModalUnit",value:function(){if(!this.selectQuesInfo.textbook||!this.selectQuesInfo.grade)return void this.commonService.alertDialog("请先选择教材和年级");this.ModalUnit.show(),(!this.gradeSubTags||this.gradeSubTags&&0==this.gradeSubTags.length)&&this.getUnitsInfo()}},{key:"openModalKnowledge",value:function(){return this.selectQuesInfo.textbook&&this.selectQuesInfo.grade?this.selectQuesInfo.unit&&this.selectQuesInfo.chapter?(!this.selectBookInfo||this.selectBookInfo&&0==this.selectBookInfo.length?this.getUnitsInfo(this.getKnowledgeByChapter):this.getKnowledgeByChapter(),void this.ModalKnowledge.show()):void this.commonService.alertDialog("请先选择单元和课时"):void this.commonService.alertDialog("请先选择教材和年级")}},{key:"getUnitsInfo",value:function(e){var t=this;this.getGradeInfoFlage=!1,this.personalQBService.getUnitInfo(this.selectQuesInfo.textbook.code,this.selectQuesInfo.grade.seq+1).then(function(n){n?t.getUnitAndChapterBytextbook():t.getGradeInfoFlage=!0,e&&e.call(t,t.getGradeInfoFlage)})}},{key:"getUnitAndChapterBytextbook",value:function(){var e=this;angular.forEach(this.selectBookInfo,function(t,n){e.selectBookInfo[n].code==e.selectQuesInfo.textbook.code&&angular.forEach(e.selectBookInfo[n].subTags,function(t,i){e.selectBookInfo[n].subTags[i].seq==e.selectQuesInfo.grade.seq&&(e.gradeSubTags=e.selectBookInfo[n].subTags[i])})})}},{key:"getKnowledgeByChapter",value:function(e){var t=this;if(e)return void this.commonService.alertDialog("请先选择单元和课时");angular.forEach(this.selectBookInfo[0].subTags[0].subTags,function(e,n){e.id==t.selectQuesInfo.unit.id&&angular.forEach(t.selectBookInfo[0].subTags[0].subTags[n].subTags,function(e,i){e.id==t.selectQuesInfo.chapter.id&&(t.lessonInfo=t.selectBookInfo[0].subTags[0].subTags[n].subTags[i])})})}},{key:"selectKnowledgePoint",value:function(e,t){this.closeModalKnowledge(),this.personalQBService.selectKnowledgePoint(t)}},{key:"addChangeEvent",value:function(){var e=this;$("#"+this.CLASS_NAME.BROWSE_FILE).on("change",function(t){function n(e){var t="",n="";return e.replace(/image\/(.+?);/,function(e,n){t=n}),e.replace(/base64,(.+)/,function(e,t){n=t}),{type:t,content:n}}function i(e){var t=this,n=t.getBase64ImgLength(e.src),i=new Image;i.src=e.src,i.onload=function(){if(e.width=this.width,e.height=this.height,n<=t.maxImgLength)return t.imageList.push(e),t.displayImageList=t.commonService.getRowColArray(t.imageList,2),void t.$timeout(function(){},0);var r=e.width,o=e.height,a=document.getElementById("myCanvas"),s=a.getContext("2d");a.width=r,a.height=o,s.fillStyle="#fff",s.fillRect(0,0,a.width,a.height),s.drawImage(i,0,0,r,o);var l="";l=a.toDataURL("image/"+e.type,.2),a.width=0,a.height=0,e.src=l,e.data=l.split(",")[1],t.imageList.push(e),t.displayImageList=t.commonService.getRowColArray(t.imageList,2),t.$timeout(function(){},0)}}if(e.imageList.length>=2||e.imageList.length+this.files.length>2)return void e.commonService.showAlert("提示","最多只能上传2张图片！");var r=(t.currentTarget,[].slice.call(this.files)),o=["jpg","jpeg","png"],a=!0;if(r.forEach(function(e){var t=!1;o.forEach(function(n){-1!=e.type.indexOf(n)&&(t=!0)}),t||(a=!1)}),!a)return e.commonService.showAlert("提示","请选择正确的文件格式！.jpg或.jpeg或.png文件");r.forEach(function(t){if(t.size/1024>3072)return void e.commonService.alertDialog("图片过大，请传小于2M的图片");var r=new FileReader(t);r.onloadend=function(r){var o=r.currentTarget.result;I.default.getData(t,function(){I.default.getAllTags(this);var r={};r.id=e.uuid4.generate(),r.src=o,r.width=I.default.getTag(this,"ImageWidth"),r.height=I.default.getTag(this,"ImageHeight");var a=n(r.src);r.type=a.type,r.data=a.content,r.file=t,e.getScope().$apply(function(){i.call(e,r)})})},r.readAsDataURL(t)})})}},{key:"getBase64ImgLength",value:function(e){var t=e.substring(22),n=t.indexOf("=");return t.indexOf("=")>0&&(t=t.substring(0,n)),parseInt(3*t.length/4)}},{key:"deleteImg",value:function(e){var t=null;this.imageList.forEach(function(n,i){e==n.id&&(t=i)}),null!==t&&(this.imageList.splice(t,t+1),0==this.imageList.length?this.displayImageList.length=0:this.displayImageList=this.commonService.getRowColArray(this.imageList,2),this.personalQBService.saveQuesImgList(this.imageList))}},{key:"submitQues",value:function(){var e=this;this.checkQuesInfo()&&this.$ionicPopup.show({template:"<p>&nbsp;&nbsp;&nbsp;&nbsp;本题上传成功后，返回可布置给学生。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;一旦上传成功，该题不可修改，是否要上传？</p>",title:"组卷练习",buttons:[{text:"<b>确定</b>",type:"button-positive",onTap:function(e){return!0}},{text:"取消",type:"",onTap:function(e){return!1}}]}).then(function(t){t&&e.submitQuesData()})}},{key:"submitQuesData",value:function(){var e=this,t={difficulty:this.difficultyLevel,type:"options",typeName:this.quesType,tags:[this.selectQuesInfo.knowledge.id]},n=this.getQuesConfig(),i=this.compositeStandaloneQuesService.compositeQuesHtml(n),r=this.compositeStandaloneQuesService.getScorePoints(n),o={basic:JSON.stringify(t),question:i,scorePoints:JSON.stringify(r),userId:this.user.userId};n.img&&0!=n.img.length&&(o.img=JSON.stringify(n.img)),this.loading=!1,this.getRootScope().showSubmitLoading=!0,this.personalQBService.addQuestionForTeacherLib(o).then(function(t){t?(e.commonService.alertDialog("上传成功"),e.personalQBService.clearSelectQuesInfo(),e.personalQBService.clearEditQuesInfo(),e.go("my_question_bank"),e.loading=!0,e.$timeout(function(){e.getRootScope().showSubmitLoading=!1},1e3)):(e.commonService.alertDialog("上传失败"),e.getRootScope().showSubmitLoading=!1)})}},{key:"getQuesConfig",value:function(){var e={quesTitle:"",scorePointId:"",inputId:"",img:"",options:"",rightAns:""},t=this.getImgsConfig();t.length>0&&(e.img=t),e.quesTitle=this.quesTitle,e.scorePointId=this.compositeStandaloneQuesService.getScorePointId(),e.inputId=this.compositeStandaloneQuesService.getInputId();var n=[];return angular.forEach(this.quesOptionsAns,function(e,t){""!=e&&void 0!=e&&n.push(e)}),e.options=n,e.rightAns=this.quesRightAns,e}},{key:"getImgsConfig",value:function(){var e=[];return angular.forEach(this.imageList,function(t,n){e.push({uuid:t.id,base64:t.src,type:t.type})}),e}},{key:"checkQuesInfo",value:function(){var e=this;if(!this.quesTitle)return this.commonService.alertDialog("请输入题目"),!1;if(!this.quesRightAns)return this.commonService.alertDialog("请输入正确答案的选项"),!1;this.allOptions=[];var t=[];return angular.forEach(this.quesOptionsAns,function(n,i){""!=n&&void 0!=n&&(e.allOptions.push(n),t.push(i))}),0==this.quesOptionsAns.length?(this.commonService.alertDialog("请输入选项"),!1):(3!=t.length||A.default.every(t,function(e){return 0==e||1==e||2==e}))&&(2!=t.length||A.default.every(t,function(e){return 0==e||1==e}))&&(1!=t.length||A.default.every(t,function(e){return 0==e}))?this.quesRightAns>String.fromCharCode(64+parseInt(t.length))?(this.commonService.alertDialog("您输入的正确答案不在选项内，请重新设置"),!1):this.selectQuesInfo.textbook&&this.selectQuesInfo.grade?this.selectQuesInfo.unit&&this.selectQuesInfo.chapter?this.selectQuesInfo.knowledge?!!this.difficultyLevel||(this.commonService.alertDialog("请选择难度"),!1):(this.commonService.alertDialog("请选择知识点"),!1):(this.commonService.alertDialog("请选择单元和课时"),!1):(this.commonService.alertDialog("请选择教材版本"),!1):(this.commonService.alertDialog("请按顺序将选项补充完整"),!1)}},{key:"valueCheck",value:function(){this.quesTitle&&(this.quesTitle=this.quesTitle.replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,""))}},{key:"rightAnsValueCheck",value:function(){if(this.quesRightAns){this.quesRightAns=this.quesRightAns.slice(0,1);var e=this.quesRightAns.match(/[a-dA-D]/);this.quesRightAns=e?e[0].toUpperCase():""}}},{key:"showAppKeyBoradForSelect",value:function(){var e=$("#"+this.htmlInputId);this.getRootScope().$broadcast("keyboard.show",{ele:e,selectItemList:["A","B","C","D"]})}},{key:"showSelectBorad",value:function(e){"object"===("undefined"==typeof $event?"undefined":q($event))&&$event.stopPropagation?$event.stopPropagation():e&&e.stopPropagation&&e.stopPropagation(),this.isShowSelectBorad=!0}},{key:"rotateSelectImg",value:function(e,t){var n=this,i=this.displayImageList[0][e];i.file||(i.file=t.currentTarget),I.default.getData(i.file,function(){var t=I.default.getTag(this,"Orientation");console.log(t),i.src=n.rotateImg(i.src,"left"),n.displayImageList[0][e]=i,n.imageList[e]=i})}},{key:"rotateImg",value:function(e,t){var n=document.getElementById("myCanvas");if(null!=e){var i=new Image;i.src=e;var r=i.height,o=i.width,a=2;null==a&&(a=0),"right"==t?++a>3&&(a=0):--a<0&&(a=3);var s=90*a*Math.PI/180,l=n.getContext("2d");switch(a){case 0:n.width=o,n.height=r,l.drawImage(i,0,0);break;case 1:n.width=r,n.height=o,l.rotate(s),l.drawImage(i,0,-r);break;case 2:n.width=o,n.height=r,l.rotate(s),l.drawImage(i,-o,-r);break;case 3:n.width=r,n.height=o,l.rotate(s),l.drawImage(i,-o,0)}var c=n.toDataURL("image/jpeg",.8);return n.width=0,n.height=0,c}}}]),e}(),v=a(b.prototype,"currentClazz",[l],{enumerable:!0,initializer:null}),_=a(b.prototype,"selectQuesInfo",[c],{enumerable:!0,initializer:null}),y=a(b.prototype,"selectBookInfo",[u],{enumerable:!0,initializer:null}),x=a(b.prototype,"user",[p],{enumerable:!0,initializer:null}),w=a(b.prototype,"quesTitle",[d],{enumerable:!0,initializer:null}),k=a(b.prototype,"imageList",[f],{enumerable:!0,initializer:null}),S=a(b.prototype,"quesRightAns",[g],{enumerable:!0,initializer:null}),C=a(b.prototype,"quesOptionsAns",[h],{enumerable:!0,initializer:null}),m=b))||m);t.default=L},5489:function(e,t,i){var r,o;(function(){function i(e){return!!e.exifdata}function a(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),i=n.length,r=new ArrayBuffer(i),o=new Uint8Array(r),a=0;a<i;a++)o[a]=n.charCodeAt(a);return r}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function l(e,t){function n(n){var i=c(n),r=u(n),o=v(n);e.exifdata=i||{},e.iptcdata=r||{},e.xmpdata=o||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var i=a(e.src);n(i)}else if(/^blob\:/i.test(e.src)){var r=new FileReader;r.onload=function(e){n(e.target.result)},s(e.src,function(e){r.readAsArrayBuffer(e)})}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(o.response),o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var r=new FileReader;r.onload=function(e){y&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},r.readAsArrayBuffer(e)}}function c(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var n,i=2,r=e.byteLength;i<r;){if(255!=t.getUint8(i))return y&&console.log("Not a valid marker at offset "+i+", found: "+t.getUint8(i)),!1;if(n=t.getUint8(i+1),y&&console.log(n),225==n)return y&&console.log("Found 0xFFE1 marker"),b(t,i+4,t.getUint16(i+2));i+=2+t.getUint16(i+2)}}function u(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var n=2,i=e.byteLength;n<i;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,n)){var r=t.getUint8(n+7);r%2!=0&&(r+=1),0===r&&(r=4);return p(e,n+8+r,t.getUint16(n+6+r))}n++}}function p(e,t,n){for(var i,r,o,a,s=new DataView(e),l={},c=t;c<t+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in E&&(o=s.getInt16(c+3),o+5,r=E[a],i=m(s,c+5,o),l.hasOwnProperty(r)?l[r]instanceof Array?l[r].push(i):l[r]=[l[r],i]:l[r]=i),c++;return l}function d(e,t,n,i,r){var o,a,s,l=e.getUint16(n,!r),c={};for(s=0;s<l;s++)o=n+12*s+2,a=i[e.getUint16(o,!r)],!a&&y&&console.log("Unknown tag: "+e.getUint16(o,!r)),c[a]=f(e,o,t,n,r);return c}function f(e,t,n,i,r){var o,a,s,l,c,u,p=e.getUint16(t+2,!r),d=e.getUint32(t+4,!r),f=e.getUint32(t+8,!r)+n;switch(p){case 1:case 7:if(1==d)return e.getUint8(t+8,!r);for(o=d>4?f:t+8,a=[],l=0;l<d;l++)a[l]=e.getUint8(o+l);return a;case 2:return o=d>4?f:t+8,m(e,o,d-1);case 3:if(1==d)return e.getUint16(t+8,!r);for(o=d>2?f:t+8,a=[],l=0;l<d;l++)a[l]=e.getUint16(o+2*l,!r);return a;case 4:if(1==d)return e.getUint32(t+8,!r);for(a=[],l=0;l<d;l++)a[l]=e.getUint32(f+4*l,!r);return a;case 5:if(1==d)return c=e.getUint32(f,!r),u=e.getUint32(f+4,!r),s=new Number(c/u),s.numerator=c,s.denominator=u,s;for(a=[],l=0;l<d;l++)c=e.getUint32(f+8*l,!r),u=e.getUint32(f+4+8*l,!r),a[l]=new Number(c/u),a[l].numerator=c,a[l].denominator=u;return a;case 9:if(1==d)return e.getInt32(t+8,!r);for(a=[],l=0;l<d;l++)a[l]=e.getInt32(f+4*l,!r);return a;case 10:if(1==d)return e.getInt32(f,!r)/e.getInt32(f+4,!r);for(a=[],
l=0;l<d;l++)a[l]=e.getInt32(f+8*l,!r)/e.getInt32(f+4+8*l,!r);return a}}function g(e,t,n){var i=e.getUint16(t,!n);return e.getUint32(t+2+12*i,!n)}function h(e,t,n,i){var r=g(e,t+n,i);if(!r)return{};if(r>e.byteLength)return{};var o=d(e,t,t+r,C,i);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var a=t+o.JpegIFOffset,s=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(e.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}function m(e,t,i){var r="";for(n=t;n<t+i;n++)r+=String.fromCharCode(e.getUint8(n));return r}function b(e,t){if("Exif"!=m(e,t,4))return y&&console.log("Not valid EXIF data! "+m(e,t,4)),!1;var n,i,r,o,a,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return y&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return y&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(s+4,!n);if(l<8)return y&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(i=d(e,s,s+l,k,n),i.ExifIFDPointer){o=d(e,s,s+i.ExifIFDPointer,w,n);for(r in o){switch(r){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[r]=q[r][o[r]];break;case"ExifVersion":case"FlashpixVersion":o[r]=String.fromCharCode(o[r][0],o[r][1],o[r][2],o[r][3]);break;case"ComponentsConfiguration":o[r]=q.Components[o[r][0]]+q.Components[o[r][1]]+q.Components[o[r][2]]+q.Components[o[r][3]]}i[r]=o[r]}}if(i.GPSInfoIFDPointer){a=d(e,s,s+i.GPSInfoIFDPointer,S,n);for(r in a){switch(r){case"GPSVersionID":a[r]=a[r][0]+"."+a[r][1]+"."+a[r][2]+"."+a[r][3]}i[r]=a[r]}}return i.thumbnail=h(e,s,l,n),i}function v(e){if("DOMParser"in self){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var n=2,i=e.byteLength,r=new DOMParser;n<i-4;){if("http"==m(t,n,4)){var o=n-1,a=t.getUint16(n-2)-1,s=m(t,o,a),l=s.indexOf("xmpmeta>")+8;s=s.substring(s.indexOf("<x:xmpmeta"),l);var c=s.indexOf("x:xmpmeta")+10;s=s.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(c);return _(r.parseFromString(s,"text/xml"))}n++}}}function _(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var i=e.children.item(n),r=i.attributes;for(var o in r){var a=r[o],s=a.nodeName,l=a.nodeValue;void 0!==s&&(t[s]=l)}var c=i.nodeName;if(void 0===t[c])t[c]=xml2json(i);else{if(void 0===t[c].push){var u=t[c];t[c]=[],t[c].push(u)}t[c].push(xml2json(i))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}var y=!1,x=function(e){return e instanceof x?e:this instanceof x?void(this.EXIFwrapped=e):new x(e)};void 0!==e&&e.exports&&(t=e.exports=x),t.EXIF=x;var w=x.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},k=x.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},S=x.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},C=x.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},q=x.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},E={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};x.getData=function(e,t){return!(self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement&&!e.complete)&&(i(e)?t&&t.call(e):l(e,t),!0)},x.getTag=function(e,t){if(i(e))return e.exifdata[t]},x.getIptcTag=function(e,t){if(i(e))return e.iptcdata[t]},x.getAllTags=function(e){if(!i(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},x.getAllIptcTags=function(e){if(!i(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},x.pretty=function(e){if(!i(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},x.readFromBinaryFile=function(e){return c(e)},r=[],void 0!==(o=function(){return x}.apply(t,r))&&(e.exports=o)}).call(this)},5490:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="add_question" ng-click="addCtrl.isShowSelectBorad = false">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" style="padding-left: 10px" ng-click="addCtrl.back()">\r\n            <i class="icon ion-ios-arrow-back"> </i>&nbsp;&nbsp;返回\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\';color: #726c8c">我要出题</h1>\r\n    </ion-header-bar>\r\n    <submit-loading loading="addCtrl.loading" cancel-submit="addCtrl.cancelSubmitQues"></submit-loading>\r\n    <div class="keyboard" style="z-index: 5000"></div>\r\n    <select-borad ques-right-ans="addCtrl.quesRightAns" select-options="addCtrl.saveRightAnsOptions"\r\n                  is-show-borad="addCtrl.isShowSelectBorad"></select-borad>\r\n    <ion-content delegate-handle="questionBankScroll">\r\n        <div class="ques-content">\r\n            <div class="ques_type">\r\n\r\n                <span class="ques_type_left">\r\n                    选择出题类型:\r\n                </span>\r\n                <span class="ques_type_right">\r\n                    \x3c!--{{addCtrl.quesType}} <i class="ion-chevron-right"></i>--\x3e\r\n                     <form-select options="addCtrl.quesTypeOptions"\r\n                                  default-option="0" value="addCtrl.quesType"></form-select>\r\n                </span>\r\n                \x3c!-- <div lang="show" class="ques_type_options"\r\n                      ng-click="addCtrl.hideQuesTypeOption()">\r\n                     <p>选择题</p>\r\n                 </div>--\x3e\r\n            </div>\r\n            <div class="ques_stem">\r\n                <textarea class="ques-stem-content" ng-model="addCtrl.quesTitle" rows="8"\r\n                          ng-blur="addCtrl.saveQuesTitle()"\r\n                          ng-keyup="addCtrl.valueCheck()"\r\n                          placeholder="点击输入题干内容"> </textarea>\r\n            </div>\r\n            <div class="ques_pane">\r\n                <span>根据题目，应选择</span>\r\n                \x3c!--  <input class="ques_ans_box appTextarea input-area select-input-area square-select-input-area"\r\n                  id="{{addCtrl.htmlInputId}}" label="Q1" ng-click="addCtrl.showAppKeyBoradForSelect()">--\x3e\r\n                <span class="ques_ans_box" ng-click="addCtrl.showSelectBorad($event)">\r\n                    {{addCtrl.quesRightAns}}\r\n                    <cursor ng-show="addCtrl.isShowSelectBorad"></cursor>\r\n                </span>\r\n                \x3c!--<span ng-bind="addCtrl.quesRightAns" class="ques_ans_box" ng-click="addCtrl.showSelectBorad()">--\x3e\r\n                \x3c!--<cursor></cursor>--\x3e\r\n                \x3c!--</span>--\x3e\r\n                <span>。</span>\r\n            </div>\r\n            <div class="ques_imgs">\r\n                <div class="imgDiv add-btn-div">\r\n                    <div ng-class="addCtrl.imageList.length>0?\'img-list-container\':\'\'">\r\n                        <div class="display-flex" ng-repeat="row in addCtrl.displayImageList">\r\n                        <span class="img-container" ng-repeat="(idx,image) in row">\r\n                             <img ng-src="{{image.src}}" alt="" ng-click="addCtrl.rotateSelectImg(idx,$event)">\r\n                             <div class="deleteBtn" ng-click="addCtrl.deleteImg(image.id)">\r\n                                 <span class="button button-clear button-small icon ion-close"></span>\r\n                             </div>\r\n                        </span>\r\n                            <div class="place-holder" ng-if="row.length==1"></div>\r\n                        </div>\r\n                        <p ng-show="addCtrl.imageList.length>0" style="font-size:12px;margin: 0;color: #a9a9a9;">\r\n                            (点击图片可旋转图片)</p>\r\n                    </div>\r\n                    <div style="position: relative" ng-show="addCtrl.imageList.length<2">\r\n                        <canvas id="myCanvas" style="opacity: 0;position: absolute;width:0;height: 0;"></canvas>\r\n                        <button class="add-btn">+</button>\r\n                        <input style="position: absolute;width: 100%;height: 100%;top: 0;left: 0;bottom: 0;right: 0;margin: auto;"\r\n                               type="file" accept="image/x-png, image/jpeg, image/jpg" id="uploadImg1" multiple\r\n                               class="input-img">\r\n                    </div>\r\n                    <span ng-show="addCtrl.displayImageList.length==0" style="color: #726c8c">如有需要，点击加入图片</span>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="ques-ans">\r\n            \x3c!-- <div class="ques-ans-item ques-ans-item01">\r\n                 <i class="ion-checkmark-round"></i>\r\n                 <input type="text" ng-model="addCtrl.quesRightAns" placeholder="点击输入正确答案" ng-blur="addCtrl.saveAnsOptions()">\r\n             </div>--\x3e\r\n\r\n            <div class="ques-ans-item ques-ans-item01" ng-repeat="ans in addCtrl.quesOptionsAns track by $index">\r\n                \x3c!--<i class="ion-close-round"></i>--\x3e\r\n                <span style="color: #ffffff;font-size: 16px;font-weight: 600">{{\'选项\'+addCtrl.optionsIndexs[$index]+\'：\'}}</span>\r\n                <input type="text" ng-model="addCtrl.quesOptionsAns[$index]" placeholder="点击输入"\r\n                       ng-blur="addCtrl.saveAnsOptions()">\r\n            </div>\r\n            \x3c!--<div class="ques-ans-item">\r\n                <i class="ion-close-round"></i>\r\n                <input type="text" placeholder="点击输入干扰项">\r\n            </div>\r\n            <div class="ques-ans-item">\r\n                <i class="ion-close-round"></i>\r\n                <input type="text" placeholder="点击输入干扰项">\r\n            </div>--\x3e\r\n\r\n        </div>\r\n        <div class="ques-knowledge">\r\n            <p class="ques-knowledge-item">请选择您的题目所属知识点：</p>\r\n            <div class="ques-knowledge-item">\r\n                <span class="title">选择教材和年级：</span>\r\n                <span class="selectButn" ng-click="addCtrl.openModal()"\r\n                      ng-bind="addCtrl.selectQuesInfo.textbook?(addCtrl.selectQuesInfo.textbook.text+\'  \'+addCtrl.selectQuesInfo.grade.text):\'--请选择--\'">\r\n                </span>\r\n                <span class="mark-butn"><i class="ion-arrow-down-b"></i></span>\r\n\r\n            </div>\r\n            <div class="ques-knowledge-item">\r\n                <span class="title">选择单元和课时：</span>\r\n                <span ng-click="addCtrl.openModalUnit()" class="selectButn"\r\n                      ng-bind="addCtrl.selectQuesInfo.unit?(addCtrl.selectQuesInfo.unit.text+\'  \'+addCtrl.selectQuesInfo.chapter.text):\'--请选择--\'">\r\n                    </span>\r\n                <span class="mark-butn"><i class="ion-arrow-down-b"></i></span>\r\n            </div>\r\n            <div class="ques-knowledge-item">\r\n                <span class="title">选择知识点：</span>\r\n                <span class="selectButn" ng-click="addCtrl.openModalKnowledge()"\r\n                      ng-bind="addCtrl.selectQuesInfo.knowledge?addCtrl.selectQuesInfo.knowledge.text:\'--请选择--\'">\r\n                </span>\r\n                <span class="mark-butn"><i class="ion-arrow-down-b"></i></span>\r\n            </div>\r\n            <div class="ques-knowledge-item" ng-if="addCtrl.initCtrl">\r\n                <span class="title">选择难度：</span>\r\n                <span class="selectButn">\r\n                     \x3c!-- ng-bind="addCtrl.selectQuesInfo.difficulty?addCtrl.selectQuesInfo.difficulty.level:\'--请选择--\'"\r\n                      ng-click="addCtrl.showDifficultyLevelOptions()">--\x3e\r\n                    \x3c!--<form-select></form-select>--\x3e\r\n                    <form-select options="addCtrl.difficultyLevels" on-change="addCtrl.selectDifficultyLevel"\r\n                                 default-option="addCtrl.getDefaultDifficultyLevel()"\r\n                                 value="addCtrl.difficultyLevel"></form-select>\r\n\r\n                </span>\r\n                <span class="mark-butn"><i class="ion-arrow-down-b"></i></span>\r\n                \x3c!-- <div lang="show" class="difficulty_level_options">\r\n                     <p ng-repeat="level in addCtrl.difficultyLevels" ng-bind="level.level"\r\n                        ng-click="addCtrl.selectDifficultyLevel(level)">简单</p>\r\n                 </div>--\x3e\r\n            </div>\r\n        </div>\r\n        <div class="submit_ques" ng-click="addCtrl.submitQues()">\r\n            上传\r\n        </div>\r\n        <div style="width: 100%;height: 120px"></div>\r\n\r\n\r\n    </ion-content>\r\n\r\n    \x3c!-- 选择教材 begin --\x3e\r\n    <script id="textbookSelect.html" type="text/ng-template">\r\n        <ion-modal-view class="work_paper_bank">\r\n            <ion-header-bar class="bar-balanced" align-title="center">\r\n                <button class="button buttons  button-clear header-item" ng-click="addCtrl.closeModal()">\r\n                    <i class="icon ion-ios-arrow-back" style="padding-left: 10px"></i>\r\n                    &nbsp;&nbsp;\r\n                </button>\r\n                <h1 class="title" align-title="center">请选择教材</h1>\r\n            </ion-header-bar>\r\n            <ion-content class="bank_content" overflow-scroll="true">\r\n                <ul class="list">\r\n                    <div ng-repeat="version in addCtrl.textbooks">\r\n                        <li class="item unit_bg" ng-click="version.isOpened = !version.isOpened">\r\n                        <span class="icon"\r\n                              ng-class="version.isOpened?\'ion-chevron-down\':\'ion-chevron-right\'"\r\n                              style="font-weight: bold;margin-right: 5px">\r\n                        </span>{{version.text}}\r\n                        </li>\r\n\r\n                        <div class="list" style="margin-left: 10px;" ng-show="version.isOpened">\r\n                            <div ng-repeat="book in version.subTags | filter:search">\r\n                                <li ng-click="addCtrl.selectCurrentTextbook(book,version)"\r\n                                    class="item lesson_bg item-for-img">\r\n                                    <img ng-src="{{$root.loadImg(\'work/work_material.png\')}}">\r\n                                    <span class="first-text" style="font-weight: bold;margin-right: 5px"></span>\r\n                                    {{book.text}}\r\n                                </li>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n            </ion-content>\r\n            <loading-processing></loading-processing>\r\n        </ion-modal-view>\r\n    <\/script>\r\n    \x3c!-- 选择教材 end --\x3e\r\n\r\n\r\n    \x3c!-- 选择单元 begin --\x3e\r\n    <script id="unitSelect.html" type="text/ng-template">\r\n        <ion-modal-view class="work_paper_bank">\r\n            <ion-header-bar class="bar-balanced" align-title="center">\r\n                <button class="button buttons  button-clear header-item" ng-click="addCtrl.closeModalUnit()">\r\n                    <i class="icon ion-ios-arrow-back" style="padding-left: 10px"></i>\r\n                    &nbsp;&nbsp;\r\n                </button>\r\n                <h1 class="title" align-title="center">请选择单元和课时</h1>\r\n            </ion-header-bar>\r\n            <ion-content class="bank_content" overflow-scroll="true">\r\n                <span ng-if="addCtrl.getGradeInfoFlage" ng-click="addCtrl.getUnitsInfo()">再试一次吧</span>\r\n                <ul class="list" ng-if="addCtrl.gradeSubTags&&addCtrl.gradeSubTags.subTags.length>0">\r\n                    <div ng-repeat="chapterunit in addCtrl.gradeSubTags.subTags">\r\n                        <li class="item unit_bg " ng-click="addCtrl.clickUnit(chapterunit,$event,$index)">\r\n                        <span class="icon "\r\n                              ng-class="chapterunit.isOpened?\'ion-chevron-down\':\'ion-chevron-right\'"\r\n                              style="font-weight: bold;margin-right: 5px">\r\n                        </span>{{chapterunit.text}}\r\n\r\n                        </li>\r\n                        <div class="list">\r\n                            <div class="list list_content_layout" style="margin-left: 10px;"\r\n                                 ng-show="chapterunit.isOpened">\r\n                                <li class="item lesson_bg" ng-show="!chapterunit.subTags.length">本单元课时即将开放！</li>\r\n                                <div ng-repeat="chapter in chapterunit.subTags"\r\n                                     ng-click="addCtrl.selectLesson(chapterunit,chapter)">\r\n                                    <li class="item lesson_bg">\r\n                                        <span>{{chapter.text}}</span>\r\n                                    </li>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n            </ion-content>\r\n            <loading-processing></loading-processing>\r\n        </ion-modal-view>\r\n    <\/script>\r\n    \x3c!-- 选择单元 end --\x3e\r\n\r\n\r\n    \x3c!-- 选择知识点 begin --\x3e\r\n    <script id="knowledgeSelect.html" type="text/ng-template">\r\n        <ion-modal-view class="work_paper_bank">\r\n            <ion-header-bar class="bar-balanced" align-title="center">\r\n                <button class="button buttons  button-clear header-item" ng-click="addCtrl.closeModalKnowledge()">\r\n                    <i class="icon ion-ios-arrow-back" style="padding-left: 10px"></i>\r\n                    &nbsp;&nbsp;\r\n                </button>\r\n                <h1 class="title" align-title="center">请选择知识点</h1>\r\n            </ion-header-bar>\r\n            <ion-content class="bank_content" overflow-scroll="true">\r\n                <ul class="list">\r\n                    <div ng-repeat="knowledges in addCtrl.lessonInfo.subTags">\r\n                        <li class="item unit_bg " ng-click="knowledges.isOpened = !knowledges.isOpened">\r\n                        <span class="icon "\r\n                              ng-class="knowledges.isOpened?\'ion-chevron-down\':\'ion-chevron-right\'"\r\n                              style="font-weight: bold;margin-right: 5px">\r\n                        </span>{{knowledges.text}}\r\n\r\n                        </li>\r\n                        <div class="list" ng-show="knowledges.isOpened">\r\n                            <div class="list list_content_layout" style="margin-left: 10px;">\r\n                                <li class="item lesson_bg" ng-show="!knowledges.subTags.length">本单元课时即将开放！</li>\r\n                                <div ng-repeat="item in knowledges.subTags"\r\n                                     ng-click="addCtrl.selectKnowledgePoint(knowledges,item)">\r\n                                    <li class="item lesson_bg">\r\n                                        <span>{{item.text}}</span>\r\n                                    </li>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n            </ion-content>\r\n            <loading-processing></loading-processing>\r\n        </ion-modal-view>\r\n    <\/script>\r\n    \x3c!-- 选择知识点 end --\x3e\r\n</ion-view>'},5491:function(e,t,n){var i=n(5492);"string"==typeof i&&(i=[[e.id,i,""]]);n(147)(i,{});i.locals&&(e.exports=i.locals)},5492:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,".add_question .ques-content {\n  width: 100%;\n  background-color: #e8e8ee;\n  padding: 10px 5px;\n}\n.add_question .ques-content .ques_type {\n  width: 85%;\n  margin: 10px auto;\n  position: relative;\n  border-radius: 20px;\n  background-color: #ffffff;\n  height: 40px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.add_question .ques-content .ques_type .ques_type_left {\n  width: 40%;\n  max-width: 125px;\n  display: inline-block;\n  background-color: #43a7e2 !important;\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n  height: 40px;\n  line-height: 40px;\n  border: none !important;\n  background-image: none !important;\n  position: relative;\n  padding: 0 10px;\n  color: #ffffff;\n}\n.add_question .ques-content .ques_type .ques_type_left i {\n  font-size: 18px;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 5px;\n  z-index: 2;\n}\n.add_question .ques-content .ques_type .ques_type_right {\n  flex: 1;\n  -webkit-flex: 1;\n  background-color: #ffffff;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n  padding: 0 10px;\n  height: 100%;\n  line-height: 40px;\n  color: #726c8c;\n  position: relative;\n  /* i {\n           position: absolute;\n           right: 10px;\n         }*/\n}\n.add_question .ques-content .ques_type .ques_type_right .mFormSelect {\n  border: none !important;\n  max-width: 100% !important;\n  width: 100% !important;\n}\n.add_question .ques-content .ques_type .ques_type_right .mFormSelect .currentSelected {\n  padding: 0 !important;\n}\n.add_question .ques-content .ques_type .ques_type_right .mFormSelect.active .options-wrap {\n  top: 42px !important;\n}\n.add_question .ques-content .ques_type .ques_type_options {\n  width: 100px;\n  max-width: 120px;\n  height: 5px;\n  position: absolute;\n  top: 40px;\n  left: 15px;\n  display: none;\n  transition: height 1s;\n  -webkit-transition: height 1s;\n  /* Safari and Chrome */\n  background-color: #d3d3d3;\n  padding: 5px;\n  overflow-y: scroll;\n  z-index: 10;\n}\n.add_question .ques-content .ques_stem {\n  width: 85%;\n  margin: 10px auto;\n}\n.add_question .ques-content .ques_stem .ques-stem-content {\n  margin: 10px auto;\n  width: 100%;\n  padding: 5px;\n  border-radius: 8px;\n}\n.add_question .ques-content .ques_imgs {\n  width: 85%;\n  margin: 10px auto;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  align-items: center;\n  -webkit-align-items: center;\n  flex-wrap: wrap;\n  -webkit-flex-wrap: wrap;\n}\n.add_question .ques-content .ques_imgs .imgDiv {\n  position: relative;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  align-items: center;\n  -webkit-align-items: center;\n  width: 100%;\n}\n.add_question .ques-content .ques_imgs .imgDiv .img1 {\n  width: 120px;\n}\n.add_question .ques-content .ques_imgs .imgDiv .img2 {\n  height: 120px;\n}\n.add_question .ques-content .ques_imgs .imgDiv .deleteBtn {\n  position: absolute;\n  top: -10px;\n  right: -15px;\n}\n.add_question .ques-content .ques_imgs .imgDiv .img-container {\n  position: relative;\n  width: 85px;\n  margin: 5px;\n}\n.add_question .ques-content .ques_imgs .imgDiv .img-container img {\n  width: 100%;\n}\n.add_question .ques-content .ques_imgs .add-btn-div .add-btn {\n  padding: 5px;\n  text-align: center;\n  background: #fff;\n  border-style: solid;\n  width: 60px;\n  height: 60px;\n  margin-right: 7px;\n  font-size: 30px;\n  color: #9c9696;\n}\n.add_question .ques-content .ques_imgs .add-btn-div .input-img {\n  opacity: 0;\n  height: 100px;\n  background: red;\n  position: absolute;\n  top: 20px;\n  left: -50px;\n}\n.add_question .ques-content .ques_pane {\n  width: 85%;\n  margin: 10px auto;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: flex-start;\n  -webkit-justify-content: flex-start;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.add_question .ques-content .ques_pane .ques_ans_box {\n  width: 40px;\n  height: 30px;\n  line-height: 30px;\n  background-color: #f6fcd0;\n  border-radius: 5px;\n  border: solid 1px #908989;\n  margin: 0 5px;\n  text-align: center;\n}\n.add_question .ques-ans {\n  width: 100%;\n  background-color: #ffffff;\n}\n.add_question .ques-ans .ques-ans-item {\n  margin: 10px auto;\n  width: 85%;\n  padding: 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  background-color: #ff6600;\n  border-radius: 10px;\n}\n.add_question .ques-ans .ques-ans-item input {\n  flex: 1;\n  -webkit-flex: 1;\n  border: none !important;\n  background-color: rgba(255, 255, 255, 0);\n}\n.add_question .ques-ans .ques-ans-item input::-webkit-input-placeholder {\n  /* placeholder颜色  */\n  color: #24201e;\n  /* placeholder字体大小  */\n  font-size: 14px;\n  /* placeholder位置  */\n  text-align: center;\n}\n.add_question .ques-ans .ques-ans-item i {\n  width: 35px;\n  font-size: 24px;\n  color: #ffffff;\n}\n.add_question .ques-ans .ques-ans-item01 {\n  background-color: #92d14f !important;\n}\n.add_question .ques-knowledge {\n  width: 100%;\n  color: #666;\n  font-size: 16px;\n}\n.add_question .ques-knowledge .ques-knowledge-item {\n  position: relative;\n  width: 85%;\n  margin: 10px auto;\n  font-size: 14px;\n}\n.add_question .ques-knowledge .ques-knowledge-item .title {\n  width: 115px;\n  display: inline-block;\n  font-size: 14px;\n  white-space: nowrap;\n}\n.add_question .ques-knowledge .ques-knowledge-item .selectButn {\n  display: inline-block;\n  border: solid 1px #d6d6d6;\n  background-color: #ffffff;\n  border-radius: 20px;\n  width: 57%;\n  max-width: 350px;\n  padding: 10px 20px 10px 10px;\n  text-align: center;\n}\n.add_question .ques-knowledge .ques-knowledge-item .selectButn .mFormSelect {\n  border: none !important;\n  max-width: 100% !important;\n  width: 100% !important;\n}\n.add_question .ques-knowledge .ques-knowledge-item .selectButn .mFormSelect .currentSelected {\n  padding: 0 !important;\n  font-size: 14px !important;\n}\n.add_question .ques-knowledge .ques-knowledge-item .selectButn .mFormSelect .currentSelected span {\n  display: block !important;\n  width: 100% !important;\n  text-align: center !important;\n}\n.add_question .ques-knowledge .ques-knowledge-item .selectButn .mFormSelect .currentSelected i {\n  display: none !important;\n}\n.add_question .ques-knowledge .ques-knowledge-item .selectButn .mFormSelect.active .options-wrap {\n  top: 35px !important;\n}\n.add_question .ques-knowledge .ques-knowledge-item .mark-butn {\n  margin-left: -25px;\n  font-size: 18px;\n  position: relative;\n  z-index: 10;\n}\n.add_question .ques-knowledge .ques-knowledge-item .difficulty_level_options {\n  width: 50%;\n  max-width: 350px;\n  height: 5px;\n  position: absolute;\n  top: 45px;\n  left: 130px;\n  display: none;\n  transition: height 1s;\n  -webkit-transition: height 1s;\n  /* Safari and Chrome */\n  background-color: #fdfdfd;\n  padding: 5px;\n  overflow-y: scroll;\n  z-index: 10;\n  border: solid 1px #d3d4d4;\n  border-radius: 5px;\n  margin-bottom: 55px;\n}\n.add_question .ques-knowledge .ques-knowledge-item .difficulty_level_options p {\n  text-align: center;\n}\n.add_question .submit_ques {\n  width: 200px;\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  border-radius: 10px;\n  background-color: #97f569;\n  font-size: 20px;\n  font-weight: 800;\n  margin: 15px auto 85px auto;\n  color: #4e8f68;\n  box-shadow: 1px 1px 1px 1px #d1d6dc;\n}\n.add-ques-unit-select .bank_content .common_sty {\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.add-ques-unit-select .bank_content .list .unit_bg {\n  background: #B4D0ED;\n  margin-left: 13px;\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.add-ques-unit-select .bank_content .list .lesson_bg {\n  background: #BEE7F1;\n  margin-left: 18px;\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n}\n.add-ques-unit-select .bank_content .list .work_bg {\n  margin-top: 10px;\n  height: 44px;\n  padding: 10px;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  color: #2e3969;\n  margin-right: 10px;\n  margin-left: 23px;\n  background: #D2F7EF;\n  padding-left: 50px;\n}\n.add-ques-unit-select .bank_content .list .work_bg img {\n  width: 30px;\n  position: absolute;\n  top: 6px;\n  left: 12px;\n  vertical-align: middle;\n}\n.add-ques-unit-select .bank_content .list .list_content_layout {\n  position: relative;\n}\n.add-ques-unit-select .bank_content .list .list_content_layout .option-butn {\n  position: absolute;\n  right: 5%;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.add-ques-unit-select .bank_content .list .list_content_layout .option-butn i {\n  width: 24px;\n  font-size: 30px;\n  color: #367dda;\n}\n.add-ques-unit-select .bank_content .list .list_content_layout .option-butn p {\n  width: 22px;\n  text-align: center;\n  overflow: visible;\n}\n.add-ques-unit-select .bank_content .ion-chevron-down:before {\n  width: 18px;\n}\n.add-ques-unit-select .bank_content .ion-chevron-right:before {\n  width: 18px;\n}\n",""])},5493:function(e,t,n){"use strict";function i(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o,a,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=n(5479),d=(o=(0,p.View)("my_question_bank",{url:"/my_question_bank",cache:!1,template:n(5494),styles:n(5495),inject:["$scope","$state","$ionicScrollDelegate","$rootScope","$ngRedux","personalQBService"]}),a=(0,p.select)(function(e){return e.profile_user_auth.user}),o((l=function(){function e(){r(this,e),this.addQuesCount="",this.initCtrl=!1,i(this,"user",c,this)}return u(e,[{key:"initData",value:function(){this.initCtrl=!1}},{key:"onAfterEnterView",value:function(){this.initData()}},{key:"back",value:function(){this.go("pub_work_type")}},{key:"gotoAddQues",value:function(){this.go("add_question")}},{key:"gotoPubQues",value:function(){this.go("pub_to_stu_preview")}},{key:"onReceiveProps",value:function(){this.ensurePageData()}},{key:"ensurePageData",value:function(){var e=this;this.initCtrl||(this.initCtrl=!0,this.personalQBService.getTeacherQbQuestionCount(this.user.userId).then(function(t){e.addQuesCount=t||"0"===t||0===t?t:"**"}))}}]),e}(),c=function(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"user",[a],{enumerable:!0,initializer:null}),s=l))||s);t.default=d},5494:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="my_question_bank">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" style="padding-left: 10px" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"> </i>&nbsp;&nbsp;返回\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\'">我的题库</h1>\r\n    </ion-header-bar>\r\n    <ion-content class="question_bank" delegate-handle="questionBankScroll">\r\n        <div class="module_type add_question_module" ng-click="ctrl.gotoAddQues()">\r\n            <div class="left-part">\r\n                <img ng-src="{{$root.loadPersonalQBImg(\'qb_img01.png\')}}">\r\n            </div>\r\n\r\n            <div class="center-part">\r\n                <p class="title">我要出题</p>\r\n                <p>好题加进来，建设我的题库</p>\r\n            </div>\r\n            <i class="ion-chevron-right right-part"></i>\r\n        </div>\r\n        <div class="module_type pub_question_module" ng-click="ctrl.gotoPubQues()">\r\n            <div class="left-part">\r\n                <img style="margin-left: 0 !important;" ng-src="{{$root.loadPersonalQBImg(\'qb_img02.png\')}}">\r\n            </div>\r\n\r\n            <div class="center-part">\r\n                <p class="title">发给学生</p>\r\n                <p class="add-count" ng-bind="\'已出题：\'+ctrl.addQuesCount+\'道\'"></p>\r\n                <p>把上传成功的题目布置给学生</p>\r\n            </div>\r\n            <i class="ion-chevron-right right-part"></i>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>'},5495:function(e,t,n){var i=n(5496);"string"==typeof i&&(i=[[e.id,i,""]]);n(147)(i,{});i.locals&&(e.exports=i.locals)},5496:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,".my_question_bank .question_bank {\n  width: 100%;\n}\n.my_question_bank .question_bank .module_type {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n  margin: 20px auto;\n  height: 115px;\n  width: 85%;\n  max-width: 450px;\n  border-radius: 10px;\n  overflow: hidden;\n}\n.my_question_bank .question_bank .module_type .left-part {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.my_question_bank .question_bank .module_type .left-part img {\n  width: 100%;\n  margin-left: -20px;\n  margin-bottom: -20px;\n  max-width: 234px;\n}\n.my_question_bank .question_bank .module_type .center-part {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.my_question_bank .question_bank .module_type .center-part .title {\n  font-size: 18px;\n  font-weight: 600;\n}\n.my_question_bank .question_bank .module_type .center-part .add-count {\n  color: #fdfe00;\n}\n.my_question_bank .question_bank .module_type .center-part p {\n  text-align: left;\n  margin: 0;\n  color: #ffffff;\n}\n.my_question_bank .question_bank .module_type .right-part {\n  flex: 1;\n  -webkit-flex: 1;\n  color: #ffffff;\n}\n.my_question_bank .question_bank .add_question_module {\n  background: -webkit-linear-gradient(#f0673a, #f4b468);\n  /* Safari 5.1 - 6.0 */\n  background: -o-linear-gradient(#f0673a, #f4b468);\n  /* Opera 11.1 - 12.0 */\n  background: -moz-linear-gradient(#f0673a, #f4b468);\n  /* Firefox 3.6 - 15 */\n  background: linear-gradient(#f0673a, #f4b468);\n  /* 标准的语法 */\n}\n.my_question_bank .question_bank .pub_question_module {\n  background: -webkit-linear-gradient(#31c565, #a6e661);\n  /* Safari 5.1 - 6.0 */\n  background: -o-linear-gradient(#31c565, #a6e661);\n  /* Opera 11.1 - 12.0 */\n  background: -moz-linear-gradient(#31c565, #a6e661);\n  /* Firefox 3.6 - 15 */\n  background: linear-gradient(#31c565, #a6e661);\n  /* 标准的语法 */\n}\n",""])},5497:function(e,t,n){"use strict";function i(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,p,d,f,g,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=n(5479),b=(a=(0,m.View)("pub_to_stu_preview",{url:"/pub_to_stu_preview",cache:!1,template:n(5498),styles:n(5499),inject:["$scope","$state","$ionicScrollDelegate","$rootScope","$ngRedux","personalQBService","workChapterPaperService","commonService","$ionicPopup"]}),s=(0,m.select)(function(e){return e.profile_user_auth.user}),l=(0,m.select)(function(e){return e.temp_make_paper.paperName}),c=(0,m.select)(function(e){return e.temp_make_paper.paper}),a((p=function(){function e(){r(this,e),i(this,"user",d,this),i(this,"paperName",f,this),i(this,"paper",g,this),this.initCtrl=!1,this.loadingFailFlag=!1,this.selectQuesCount=0,this.selectQuesIndexs=[],this.gotoPubButnFlag=!0,this.fetchListDone=!1,this.isEditFlag=!1,this.initData()}return h(e,[{key:"initData",value:function(){this.initCtrl=!1}},{key:"initFlag",value:function(){this.selectQuesIndexs.length=0,this.gotoPubButnFlag=!0,this.fetchListDone=!1}},{key:"onAfterEnterView",value:function(){this.initFlag()}},{key:"onReceiveProps",value:function(){this.ensurePageData()}},{key:"ensurePageData",value:function(){this.initCtrl||(this.initCtrl=!0,this.personalQBService.getQbQuestionList(this.user.userId,this.getQbQuestionListCallBack.bind(this)))}},{key:"getQbQuestionListCallBack",value:function(e){var t=this;e?(this.fetchListDone=!0,this.tempqslist=e,angular.forEach(this.tempqslist,function(e,n){var i=t.showKnowledgeAndDifficulty(t.tempqslist[n]);t.tempqslist[n].knowledgeName=i,t.tempqslist[n].referAnswer&&(t.tempqslist[n].referAnswer=JSON.parse(t.tempqslist[n].referAnswer))})):this.loadingFailFlag=!0}},{key:"reLoadQuesList",value:function(){this.initCtrl=!1}},{key:"selectQbQues",value:function(e,t){-1==this.selectQuesIndexs.indexOf(t)?(this.selectQuesIndexs.push(t),e.selected&&!this.isEditFlag&&(this.selectQuesCount+=1)):(e.selected&&!this.isEditFlag&&(this.selectQuesCount+=1),e.selected||this.isEditFlag||(this.selectQuesCount-=1)),!this.isEditFlag&&this.selectQuesCount<0&&(this.selectQuesCount=0)}},{key:"showKnowledgeAndDifficulty",value:function(e){return e.qCapabilityMap.knowledge[0].content.replace(/^[a-z]\d+\./i,"")+" - "+(e.integrateQuestionItem.difficulty<40?"基础":e.integrateQuestionItem.difficulty>70?"拓展":"变式")}},{key:"scrollTop",value:function(){this.$ionicScrollDelegate.scrollTop(!0)}},{key:"back",value:function(){this.go("my_question_bank")}},{key:"getScrollPosition",value:function(){this.$ionicScrollDelegate.getScrollPosition().top>=250?$(".scrollToTop").fadeIn():$(".scrollToTop").fadeOut()}},{key:"gotoPublishWorkPaper",value:function(){var e=this;if(this.gotoPubButnFlag){if(this.selectQuesCount<=0)return void this.commonService.showAlert("温馨提示","请选择题目再布置");this.gotoPubButnFlag=!1,this.workChapterPaperService.checkClassStudentCount(!1).then(function(t){t&&200==t.code?t.normalPaperView?(e.gotoPubButnFlag=!0,e.commonService.showAlert("温馨提示",t.normalPaperView||"老师所带的班级中，没有一个班级的人数是大于等于5，则不能够布置作业")):e.changePaperName():e.commonService.alertDialog(t.msg||"班级校验失败")})}}},{key:"changePaperName",value:function(){var e=this,t=this;if(!this.paperName){var n=new Date;this.paperName="教师题库出题试卷"+n.getFullYear()+"-"+(Number(n.getMonth())+1)+"-"+n.getDate()+"-"+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()}this.$ionicPopup.show({template:'<input ng-model="ctrl.paperName" />',title:"组卷练习",scope:this.getScope(),buttons:[{text:"<b>确定</b>",type:"button-positive",onTap:function(n){if(e.paperName)return t.personalQBService.changePaperName(e.paperName),!0;n.preventDefault(),e.commonService.alertDialog("作业名不能为空！")}},{text:"取消",type:"",onTap:function(e){return t.gotoPubButnFlag=!0,!1}}]}).then(function(t){t&&e.workPub()})}},{key:"workPub",value:function(){var e=this,t={};t.paperName=this.paperName;var n=[];angular.forEach(this.tempqslist,function(t,i){e.tempqslist[i].selected&&n.push(e.tempqslist[i].integrateQuestionItem.id)}),t.qIds=JSON.stringify(n),this.personalQBService.composePaper(t).then(function(t,n){e.gotoPubButnFlag=!0,t?(e.selectQuesIndexs.length=0,e.goToPub()):e.commonService.showAlert("警告",n||"组卷失败")})}},{key:"goToPub",value:function(){this.go("pub_paper_to_stu",{from:"pub_to_stu_preview"})}},{key:"gotoAddQues",value:function(){this.go("my_question_bank")}},{key:"getChapterName",value:function(e){var t=e.qCapabilityMap.knowledge[0].code.split(/\.|\，/),n="",i="";return t&&t.length>1&&(n=t.slice(1).join(","),i=t[0].split("-").pop()),n=n.replace(/\-[a-zA-Z]\d+/g,""),n=n.replace(/\-[a-zA-Z]/g,""),n=i+"."+n}},{key:"paperEdit",value:function(e){var t=this;this.selectQuesIndexs.length>0&&(angular.forEach(this.selectQuesIndexs,function(e,n){t.tempqslist[e].selected=!1}),this.selectQuesIndexs.length=0),this.isEditFlag="edit"==e,this.selectQuesCount=0}},{key:"deleteSelectQues",value:function(){var e=this,t=[],n=[];if(angular.forEach(this.tempqslist,function(i,r){e.tempqslist[r].selected&&(t.push(e.tempqslist[r].integrateQuestionItem.id),n.push(r))}),t.length<=0)return void this.commonService.alertDialog("请选择需要删除的题目");this.commonService.showPopup({title:"提示",template:'<p style="text-align: center">确定要删除吗？</p>',buttons:[{text:"确定",type:"button-positive",onTap:function(i){e.personalQBService.deleteQuesFromTeacherQb(t).then(function(t){if(t&&200==t.code){angular.forEach(e.selectQuesIndexs,function(t,n){e.tempqslist[t].selected=!1}),e.selectQuesIndexs.length=0,e.commonService.alertDialog("删除成功！");var i=n[0]-1;i<0&&(i=0);var r=$(".smallQContainer").eq(i).height();e.$ionicScrollDelegate.scrollBy(0,-r),e.hideDeletedQues(n)}})}},{text:"取消",type:"button-default",onTap:function(e){}}]})}},{key:"hideDeletedQues",value:function(e){var t=$(".bigQContainer .smallQContainer");angular.forEach(e,function(e,n){t.eq(e).hide()})}}]),e}(),d=o(p.prototype,"user",[s],{enumerable:!0,initializer:null}),f=o(p.prototype,"paperName",[l],{enumerable:!0,initializer:null}),g=o(p.prototype,"paper",[c],{enumerable:!0,initializer:null}),u=p))||u);t.default=b},5498:function(e,t){e.exports='<ion-view hide-nav-bar="true" class="pub_to_stu_preview">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()" style="padding-left: 10px">\r\n            <i class="icon ion-ios-arrow-back"> </i>&nbsp;&nbsp;返回\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\';"> 发送给学生</h1>\r\n        <div class="buttons">\r\n            <img style="height: 30px;" ng-src="{{$root.loadImg(\'pub_work_type/pub_type_butn01.png\')}}"\r\n                 ng-if="!ctrl.isEditFlag"\r\n                 ng-click="ctrl.paperEdit(\'edit\')">\r\n            <img style="height: 30px;" ng-src="{{$root.loadImg(\'pub_work_type/pub_type_butn02.png\')}}"\r\n                 ng-if="ctrl.isEditFlag"\r\n                 ng-click="ctrl.paperEdit(\'done\')">\r\n        </div>\r\n    </ion-header-bar>\r\n    <ion-content overflow-scroll="false" class="has-header has-footer ques-list" on-scroll="ctrl.getScrollPosition()">\r\n        <div style="width: 95%;margin: 10px auto"\r\n             ng-if="ctrl.fetchListDone&&(!ctrl.tempqslist||ctrl.tempqslist&&ctrl.tempqslist.length==0)">\r\n            <p>您的题库中还没有题，请点击返回。</p>\r\n            <p>到“我要出题”新增题目吧~</p>\r\n        </div>\r\n        <div class="bigQContainer" ng-if="ctrl.tempqslist&&ctrl.tempqslist.length>0">\r\n            \x3c!-- <div class="big-q-setting">\r\n                 <div class="big-q-title">\r\n                     <span ng-bind="\'本卷总分：\'+qt.score+\'分\'"></span>\r\n                 </div>\r\n             </div>--\x3e\r\n            \x3c!--<div ng-repeat="record in qt.qsList track by $index" class="smallQContainer">--\x3e\r\n            <div ng-click="ctrl.reLoadQuesList()" style="color: #0c60ee" ng-if="ctrl.loadingFailFlag">点击重新加载数据</div>\r\n            <div ng-repeat="record in ctrl.tempqslist" class="smallQContainer">\r\n                <div class="unit-clazz-title">\r\n                    <p class="unit-title" ng-bind="record.qCapabilityMap.unit[0].content"></p>\r\n                    <p style="padding: 0 15px 0 !important;" class="unit-title"\r\n                       ng-bind="ctrl.getChapterName(record)"></p>\r\n                </div>\r\n                <div class="image-type-question">\r\n                    <div class="question-content card card-better small_q_bg" style="margin: 15px 10px">\r\n                        <div class="smallq-title smallq-title-first" style="overflow: hidden">\r\n                            <div class="text-div-adapt" ng-click="ctrl.selectQbQues(record,$index)">\r\n                                <ion-checkbox class="text-div-adapt-ion-checkbox"\r\n                                              ng-model="record.selected">{{\'加入组卷\'}}\r\n                                </ion-checkbox>\r\n                                \x3c!--<div class="text-adapt">\r\n                                    <span ng-bind="\'第\'+($index+1)+\'题,加入组卷\'">\r\n                                    </span>\r\n                                </div>--\x3e\r\n                            </div>\r\n                        </div>\r\n                        <div class="question_content_knowledge_text"\r\n                             ng-bind="record.knowledgeName"\r\n                             style="background-color: #B8E4FC;color:#565555">\r\n                        </div>\r\n                        \x3c!-- <div ng-if="!record.reload&&record.type.indexOf(\'vertical\')==-1" compile-html="record.qContext"\r\n                              class="q-context ques-content-input" style="pointer-events: none">\r\n                         </div>--\x3e\r\n                        <div compile-html="record.integrateQuestionItem.questionBody"\r\n                             refer-answers="record.referAnswer"\r\n                             class="q-context ques-content-input personal-ques-content-html"\r\n                             style="pointer-events: none">\r\n                        </div>\r\n                        \x3c!--<div ng-if="!record.reload&&record.type.indexOf(\'vertical\')>-1"--\x3e\r\n                        \x3c!--compile-html="record.qContext"--\x3e\r\n                        \x3c!--current-q-input="record.inputList"--\x3e\r\n                        \x3c!--class="q-context" style="pointer-events: none">--\x3e\r\n                        \x3c!--</div>--\x3e\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n    <div class="scrollToTop" ng-click="ctrl.scrollTop()"></div>\r\n    <div class="bar bar-footer bg-balanced footer_box_main">\r\n        <div class="footer_box_main_down">\r\n            <div ng-click="ctrl.deleteSelectQues()" class="footer_click_btn" ng-show="ctrl.isEditFlag">\r\n                <img ng-src="{{$root.loadImg(\'pub_work_type/pub_edit_butn01.png\')}}">\r\n                <span>删除</span>\r\n            </div>\r\n            <div ng-click="ctrl.gotoPublishWorkPaper()" class="footer_click_btn" ng-hide="ctrl.isEditFlag">\r\n                <span style="font-size: 20px">已选{{ctrl.selectQuesCount}}道，去布置 ></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ion-view>'},5499:function(e,t,n){var i=n(5500);"string"==typeof i&&(i=[[e.id,i,""]]);n(147)(i,{});i.locals&&(e.exports=i.locals)},5500:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,".pub_to_stu_preview .bigQContainer .unit-clazz-title {\n  background-color: #bbe0e3;\n}\n.pub_to_stu_preview .bigQContainer .unit-clazz-title .unit-title {\n  margin: 0;\n  padding: 0 5px;\n}\n.pub_to_stu_preview .bigQContainer .unit-clazz-title .clazz-title {\n  padding: 0 15px;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .personal-ques-content-html span unit {\n  color: #ff1111;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title {\n  color: #293d69;\n  width: 100%;\n  position: relative;\n  text-align: left;\n  background-color: #accbf9;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  align-items: center;\n  -webkit-display: flex;\n  -webkit-justify-content: space-between;\n  -webkit-align-items: center;\n}\n@media screen and (max-width: 320px) {\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title {\n    line-height: 22px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .text-adapt {\n    max-width: 74%;\n    font-size: 16px;\n    vertical-align: middle;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .corrected-score {\n    color: #fe5345;\n    font-size: 16px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .actual-score {\n    font-size: 19px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .deserve-score {\n    font-size: 16px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .correct-icons img {\n    width: 16px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right {\n    padding-top: 1px;\n    min-width: 80px;\n    margin-right: 10px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right span {\n    margin-right: 10px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right img {\n    width: 17px;\n    height: 17px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right .savant-ans {\n    background-color: bisque;\n    border-radius: 8px;\n    padding: 2px 5px;\n    text-align: center;\n  }\n}\n@media screen and (min-width: 321px) and (max-width: 767px) {\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title {\n    line-height: 30px;\n    height: 30px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .corrected-score {\n    color: #fe5345;\n    font-size: 17px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .text-adapt {\n    font-size: 17px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .actual-score {\n    font-size: 17px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .deserve-score {\n    font-size: 17px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .correct-icons img {\n    width: 18px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right {\n    min-width: 120px;\n    margin-top: -2px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right span {\n    margin-right: 15px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right img {\n    width: 20px;\n    height: 20px;\n  }\n}\n@media screen and (min-width: 768px) {\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title {\n    line-height: 45px;\n    height: 45px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .text-adapt {\n    font-size: 20px;\n    vertical-align: middle;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .actual-score {\n    font-size: 22px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .deserve-score {\n    font-size: 22px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .correct-icons img {\n    width: 20px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right {\n    min-width: 200px;\n    margin-top: -2px;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right span {\n    margin-right: 10%;\n  }\n  .pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title .img-align-right img {\n    width: 42px;\n    height: 42px;\n  }\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title-first {\n  background: #accbf9;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: space-between;\n  align-items: center;\n  -webkit-justify-content: space-between;\n  -webkit-align-items: center;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .smallq-title-more {\n  margin-top: 2px;\n  background: #AEE3f8;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .actual-score {\n  color: darkred;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content label {\n  font-size: 15px;\n  width: 100%;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .title-for-add-q {\n  height: auto;\n  line-height: normal;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .title-for-add-q .item {\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .title-for-add-q .text-for-add-q {\n  color: #293d69;\n  margin-left: 0px;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .title-for-add-q .img-for-add-q {\n  z-index: 100;\n  top: 20%;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .title-for-add-q .img-for-add-q img {\n  width: 26px;\n  height: 26px;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .text-div-adapt {\n  max-width: 100%;\n  height: 40px;\n  /* .item-checkbox .checkbox {\n             position: absolute;\n             top: 0px !important;\n             right: 8px;\n             z-index: 3;\n             margin-top: 0px !important;\n           }*/\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .text-div-adapt label {\n  color: white;\n  padding: 0;\n  line-height: 40px;\n  background-color: #accbf9;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .text-div-adapt label .item-content {\n  margin-left: 48px;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .text-div-adapt label span {\n  font-size: 17px;\n  color: #293d69;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .text-div-adapt .checkbox {\n  left: 0px;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .img-align-right {\n  text-align: right;\n  z-index: 100;\n  top: 0;\n}\n.pub_to_stu_preview .bigQContainer .image-type-question .question-content .img-align-right img {\n  border-radius: 50%;\n}\n.pub_to_stu_preview .footer_box_main_down .footer_click_btn {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  flex: 1;\n  -webkit-flex: 1;\n  height: 100%;\n}\n.pub_to_stu_preview .footer_box_main_down .footer_click_btn img {\n  width: 22px;\n}\n.pub_to_stu_preview .footer_box_main_down .footer_click_btn span {\n  margin: auto;\n  font-size: 12px;\n}\n",""])},5501:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var s,l,c,u,p,d,f,g,h,m,b,v,_,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),x=n(4487),w=i(x),k=n(4485),S=i(k),C=n(5479),q=n(414),E=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(q),s=(0,C.View)("pub_paper_to_stu",{url:"/pub_paper_to_stu",template:n(5502),styles:n(5503),inject:["$scope","$ngRedux","$state","$log","$ionicHistory","$ionicPopup","$ionicModal","finalData","commonService","workManageService","$ionicActionSheet","$rootScope","personalQBService"]}),l=(0,C.select)(function(e){return e.profile_user_auth.user.name}),c=(0,C.select)(function(e){return e.temp_make_paper.paperName}),u=(0,C.select)(function(e){return e.wl_selected_clazz.gradeName}),p=(0,C.select)(function(e){return e.temp_make_paper.paperId}),d=(0,C.select)(function(e){return e.profile_user_auth.user.userId}),s((g=function(){function e(){o(this,e),r(this,"teacherName",h,this),r(this,"paperName",m,this),r(this,"selectedClazzGradeName",b,this),r(this,"bookMarkId",v,this),r(this,"userId",_,this),this.isPubWorkSuccess=!1,this.formData={},this.clazzList=[],this.assignee=[],this.startDateTime={},this.pubPaperSucceedFlag=!1,this.pubBtnDisabled=!1,this.isWin=3===this.commonService.judgeSYS(),this.isIos=2===this.commonService.judgeSYS(),this.isAndroid=1===this.commonService.judgeSYS(),this.initCtrl=!1}return y(e,[{key:"initData",value:function(){this.thisPaperName=this.paperName}},{key:"onAfterEnterView",value:function(){this.initData()}},{key:"onBeforeLeaveView",value:function(){this.initCtrl=!1}},{key:"configDataPipe",value:function(){var e=this;this.dataPipe.when(function(){return!e.initCtrl}).then(function(){return e.initCtrl=!0}).then(function(){e.workManageService.getPubClazzList().then(function(t){t&&t.length&&angular.forEach(t,function(t){t.className.indexOf(e.selectedClazzGradeName)>-1&&100==t.type&&e.clazzList.push(t)})})})}},{key:"checkSetTimeAndCurrentTime",value:function(e){return Number(new Date(e.year+"-"+e.mouth+"-"+e.date+" "+e.hour+":"+e.minutes).getTime())>=Number((new Date).getTime())+60}},{key:"minTimeSet",value:function(){if(!this.isWin){var e=$scope.formData.startTime;e&&new Date(e).getTime()<=(new Date).getTime()&&this.commonService.alertDialog("不符合预发布时间，已默认为“立即布置”",2e3)}}},{key:"showDateTime",value:function(){var e=(new Date).getTime();if(this.isWin){var t=this.getDateTime();t&&(e=new Date(t).getTime())}else{var n=this.formData.startTime;e=new Date(n).getTime()}var i="";return(!this.formData.startTime||this.formData.startTime&&e<=(new Date).getTime())&&(i="立即布置"),i}},{key:"getCurrentDateTimeStr",value:function(){var e=new Date,t="-";return this.isIos&&(t="/"),e.getFullYear()+t+(e.getMonth()+1)>9?e.getMonth()+1:"0"+(e.getMonth()+1)+t+e.getDate()>9?e.getDate():"0"+e.getDate()+" "+e.getHours()>9?e.getHours():"0"+e.getHours()+":"+e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes()}},{key:"getDateTime",value:function(){return!this.startDateTime||this.startDateTime&&!this.startDateTime.year?"":this.startDateTime.year+"-"+this.startDateTime.mouth+"-"+this.startDateTime.date+" "+this.startDateTime.hour+":"+this.startDateTime.minutes}},{key:"showShareMenu",value:function(){var e=this,t=this.teacherName,n=this.thisPaperName,i=t+'老师在智算365已布置了作业"'+n+'"，抓紧去完成吧！';this.$ionicActionSheet.show({buttons:[{text:'<img class="weChat-share-img" src="'+S.default+'">通知到微信'},{text:'<img class="qq-share-img" src="'+w.default+'">通知到QQ'}],titleText:'<div>\n                    <div class="share-title">通知内容：</div>\n                        <div class="share-content">'+i+"</div>\n                    </div>",cancelText:"取消",buttonClicked:function(t){if(1==t&&(QQ.setOptions({appId:"1105576253",appName:"XiaoGou",appKey:"IaDN9O8abL0FJ6gT"}),QQ.share(i,"智算365通知","http://xuexiv.com/img/icon.png",e.finalData.GONG_ZHONG_HAO_QRIMG_URL,function(){e.commonService.showAlert("提示","通知成功！")},function(t){e.commonService.showAlert("提示",t)})),0==t){if(!e.getRootScope().weChatInstalled)return void e.commonService.showAlert("提示","没有安装微信！");Wechat.share({scene:Wechat.Scene.SESSION,message:{title:"智算365",description:i,thumb:"http://xuexiv.com/img/icon.png",mediaTagName:"TEST-TAG-001",messageExt:"这个字段没有用",messageAction:"<action>dotalist</action>",media:{type:Wechat.Type.WEBPAGE,webpageUrl:e.finalData.GONG_ZHONG_HAO_QRIMG_URL}}},function(){e.commonService.showAlert("提示","通知成功！")},function(t){e.commonService.showAlert("提示",t)})}return!0}})}},{key:"selectAll",value:function(e){if(e.isClicked){if(!e.studentCount)return this.commonService.alertDialog("该班还没有学生.",1500),void(e.isClicked=!1);for(var t in e.levelClick)e.levelClick[t].isClicked=!1}}},{key:"selectLevel",value:function(e){this.clazzList[e].isClicked=!1}},{key:"handleClazzPubStatus",value:function(e,t){var n=this;angular.forEach(e,function(e){for(var i=0;i<n.clazzList.length;i++){if("break"===function(i){if(n.clazzList[i].id===e.groupId)return t.CODE===n.finalData.PUB_CLAZZ_STATUS.SUCCESS.CODE?(n.clazzList[i].isClicked&&(n.clazzList[i].hasPubed=!0,n.clazzList[i].isClicked=!1,n.clazzList[i].hasPubedSuccess=!0,n.clazzList[i].code=t.CODE,n.clazzList[i].msg=t.MSG),angular.forEach(n.clazzList[i].levels,function(e,r){n.clazzList[i].levelClick[r].isClicked&&(n.clazzList[i].levelClick[r].isClicked=!1,n.clazzList[i].levelClick[r].hasPubedSuccess=!0,n.clazzList[i].levelClick[r].hasPubed=!0,n.clazzList[i].levelClick[r].code=t.CODE,n.clazzList[i].levelClick[r].msg=t.MSG)})):(n.clazzList[i].isClicked&&(n.clazzList[i].hasPubed=!0),n.clazzList[i].hasPubedSuccess||(n.clazzList[i].code=t.CODE,n.clazzList[i].msg=t.MSG),angular.forEach(n.clazzList[i].levels,function(e,r){n.clazzList[i].levelClick[r].isClicked&&(n.clazzList[i].levelClick[r].hasPubed=!0,n.clazzList[i].levelClick[r].code=t.CODE,n.clazzList[i].levelClick[r].msg=t.MSG)})),"break"}(i))break}})}},{key:"handlePubWork",value:function(e){var t=this,n=this.assignee[this.groupIndex],i=[];i.push(n);var r=angular.copy(e),o=function(){t.groupIndex===t.assignee.length-1?t.pubBtnDisabled=!1:(t.groupIndex++,t.handlePubWork(e))};r.assignee=JSON.stringify(i),this.workManageService.pubWork(r).then(function(e){if(200===e.code){t.isPubWorkSuccess=!0,t.pubPaperSucceedFlag=!0,t.personalQBService.clearTempMackPaper();var n=e[i[0].groupId],r=200===n?t.finalData.PUB_CLAZZ_STATUS.SUCCESS:t.finalData.PUB_CLAZZ_STATUS.FAIL;t.handleClazzPubStatus(i,r)}else t.handleClazzPubStatus(i,t.finalData.PUB_CLAZZ_STATUS.FAIL),t.commonService.alertDialog(e.msg,2e3);o()},function(e){t.handleClazzPubStatus(i,t.finalData.PUB_CLAZZ_STATUS.FAIL),o()})}},{key:"pubStartTime",value:function(){if(this.validateForm()){var e=this.formData.startTime||new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes();if(3===this.commonService.judgeSYS()){var n=this.getDateTime();n&&(t=n,this.handleConfirmBtnClick(t))}else this.handleConfirmBtnClick(t)}}},{key:"handleConfirmBtnClick",value:function(e){var t=this,n={bookMarkId:this.bookMarkId,publishType:this.finalData.WORK_TYPE.TEACHER_PERSONAL_QB,paperName:this.paperName,startTime:e+":00",endTime:this.formData.endTime+":00"};n.bookMarkId=this.bookMarkId,n.paperName=this.paperName,(!this.formData.startTime&&!this.startDateTime||!this.formData.startTime&&this.startDateTime&&!this.startDateTime.year)&&delete n.startTime;var i=n.startTime.replace(/\-/g,"/");n.startTime&&new Date(i).getTime()<=(new Date).getTime()&&delete n.startTime,this.formData.endTime||delete n.endTime;this.commonService.showConfirm("信息提示","是否要布置？").then(function(e){e&&(t.groupIndex=0,t.pubBtnDisabled=!0,t.handleClazzPubStatus(t.assignee,t.finalData.PUB_CLAZZ_STATUS.PROCESSING),t.handlePubWork(n))})}},{key:"validateForm",value:function(){var e=this;return this.assignee.length=0,this.clazzList.forEach(function(t){var n=[],i={};if(t.isClicked)i.groupId=t.id,e.assignee.push(i);else{for(var r in t.levelClick)t.levelClick[r].isClicked&&n.push(r);n.length&&(i.groupId=t.id,i.levels=n.join(","),e.assignee.push(i))}}),!!this.assignee.length||(this.commonService.alertDialog("至少选择一个布置对象!",1500),!1)}},{key:"back",value:function(){this.pubPaperSucceedFlag?this.go("pub_work_type"):this.go("pub_to_stu_preview")}},{key:"isShowIosShare",value:function(){return this.commonService.judgeAppVersion()}},{key:"showSelectDateTimeDiagnose",value:function(){3===this.commonService.judgeSYS()&&(this.getRootScope().selectDateTimeFlag=!0)}}]),e}(),h=a(g.prototype,"teacherName",[l],{enumerable:!0,initializer:null}),m=a(g.prototype,"paperName",[c],{enumerable:!0,initializer:null}),b=a(g.prototype,"selectedClazzGradeName",[u],{enumerable:!0,initializer:null}),v=a(g.prototype,"bookMarkId",[p],{enumerable:!0,initializer:null}),_=a(g.prototype,"userId",[d],{enumerable:!0,initializer:null}),f=g))||f);t.default=E},5502:function(e,t){e.exports='<ion-view title="布置作业" hide-nav-bar="true" class="pub_paper_to_stu">\r\n    <ion-header-bar class="bar-balanced" align-title="center">\r\n        <div class="button button-clear" ng-click="ctrl.back()">\r\n            <i class="icon ion-ios-arrow-back"> </i>&nbsp;&nbsp;\r\n        </div>\r\n        <h1 class="title" style="font-family: \'Microsoft YaHei\'">布置作业</h1>\r\n    </ion-header-bar>\r\n    <ion-content padding="true">\r\n        <ng-form name="pubWorkForm" novalidate class="pub-content">\r\n            <div class="paper-title-wrap">\r\n                <span class="paper-name padding-better">作业名称:</span>\r\n                <span class="paper-title" ng-bind="ctrl.thisPaperName"></span>\r\n            </div>\r\n            <div class="pub-conctroll-wrap">\r\n                <span class="pub-controll-name padding-better">发布时间：</span>\r\n                <div style="position: relative;min-width: 45%;">\r\n                    <input ng-if="!ctrl.isWin" type="datetime-local" name="subject"\r\n                           min="{{ctrl.getCurrentDateTimeStr()}}"\r\n                           ng-model="ctrl.formData.startTime"\r\n                           placeholder="立即布置"\r\n                           ng-change="ctrl.minTimeSet()"\r\n                           style="pointer-events:auto;background-color: rgba(220, 224, 255, 0.9);border: solid 1px #566093;border-radius: 0 !important;width: 100%;height:35px;line-height:35px"/>\r\n                    \x3c!--TODO 设置浮动在上面也可点击--\x3e\r\n                    <span ng-if="!!ctrl.showDateTime()&&!ctrl.isWin" style="pointer-events: none;"\r\n                          class="pub-right-now pub-right-now-win">\r\n                        立即布置\r\n                        <i class="ion-arrow-down-b"></i>\r\n                    </span>\r\n                    <p ng-if="ctrl.isWin" style="margin: 0;pointer-events:auto;"\r\n                       ng-bind="ctrl.checkSetTimeAndCurrentTime(ctrl.startDateTime)?ctrl.startDateTime.year+ \'-\' + ctrl.startDateTime.mouth+ \'-\' + ctrl.startDateTime.date+ \' \' + ctrl.startDateTime.hour+ \':\' + ctrl.startDateTime.minutes:\'立即布置\'"\r\n                       ng-click="ctrl.showSelectDateTimeDiagnose()"></p>\r\n                    <alr-select-date-time date-time="ctrl.startDateTime"></alr-select-date-time>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class="pub-list-wrap" style="margin-bottom: 60px">\r\n                <div class="item has-no-clazz" ng-show="!ctrl.clazzList || ctrl.clazzList.length<=0">布置作业前请先创建班级哦！</div>\r\n                <div class="pub-clazz-name-wrap padding-better">\r\n                    <span>选择布置对象：</span>\r\n                </div>\r\n                <div class="card card-better" ng-class="{\'clazz_margin_bottom_last\':$last}"\r\n                     ng-repeat="clazz in ctrl.clazzList track by $index" ng-init="idx=$index">\r\n                    <div class="clazz-name-wrap">\r\n                        <span class="clazz-name" ng-bind="clazz.name"></span>\r\n                    </div>\r\n                    <ion-checkbox ng-model="clazz.isClicked"\r\n                                  ng-click="clazz.hasPubedSuccess?\'\':ctrl.selectAll(clazz)"\r\n                                  ng-disabled="clazz.hasPubedSuccess?true:false">\r\n                        全班（{{clazz.studentCount}}人）- 包含所有层\r\n                        <span style="float: right;color: red"\r\n                              ng-if="clazz.hasPubed&&clazz.msg&&clazz.code!=2"\r\n                              ng-bind="clazz.msg">\r\n                        </span>\r\n                        <img ng-src="{{$root.loadImg(\'work/work_pub_succuss.png\')}}"\r\n                             ng-if="clazz.code===2"\r\n                             style="width: 70px;float: right;">\r\n                    </ion-checkbox>\r\n                    <ion-checkbox ng-repeat="(name,level) in clazz.levels"\r\n                                  ng-class="$even?\'clazz-even\':\'\'"\r\n                                  ng-model="clazz.levelClick[name].isClicked"\r\n                                  ng-click="clazz.levelClick[name].hasPubedSuccess?\'\':ctrl.selectLevel(idx)"\r\n                                  ng-disabled="clazz.levelClick[name].hasPubedSuccess?true:false"\r\n                                  ng-if="clazz.studentCount != level">\r\n                        {{name}}层（{{level}}人）\r\n                        <span style="float: right"\r\n                              ng-if="clazz.levelClick[name].hasPubed&&clazz.levelClick[name].msg&&clazz.levelClick[name].code!=2"\r\n                              ng-bind="clazz.levelClick[name].msg"\r\n                              style="color: red">\r\n                        </span>\r\n                        <img ng-src="{{$root.loadImg(\'work/work_pub_succuss.png\')}}"\r\n                             ng-if="clazz.levelClick[name].code===2"\r\n                             style="width: 70px;float: right;">\r\n                    </ion-checkbox>\r\n                </div>\r\n                <div class="pub-text-tip"\r\n                     ng-if="$root.platform.isMobile()&&$root.platform.IS_ANDROID&&$root.weChatPluginInstalled">\r\n                    作业布置成功后，可点击“通知”告诉学生和家长\r\n                </div>\r\n            </div>\r\n        </ng-form>\r\n    </ion-content>\r\n    <loading-processing></loading-processing>\r\n    <div class="bar bar-footer bar-balanced" ng-show="ctrl.clazzList && ctrl.clazzList.length>0">\r\n        <button class="button-clear bg-calm  bar-item"\r\n                ng-click="ctrl.pubStartTime()"\r\n                ng-disabled="ctrl.pubBtnDisabled"\r\n                ng-class="ctrl.pubBtnDisabled?\'btn-disabled-color\':\'\'">\r\n            <i class="icon ion-ios-paperplane">\r\n            </i>\r\n            布置\r\n        </button>\r\n        <button class="button-clear bg-calm  bar-item"\r\n                ng-click="ctrl.showShareMenu()"\r\n                ng-if="$root.platform.isMobile()&&$root.weChatPluginInstalled && ctrl.isShowIosShare()&&ctrl.isPubWorkSuccess">\r\n            <i class="icon ion-aperture">\r\n            </i>\r\n            通知\r\n        </button>\r\n    </div>\r\n</ion-view>\r\n\r\n'},5503:function(e,t,n){var i=n(5504);"string"==typeof i&&(i=[[e.id,i,""]]);n(147)(i,{});i.locals&&(e.exports=i.locals)},5504:function(e,t,n){t=e.exports=n(146)(),
t.push([e.id,"@charset \"UTF-8\";\n.display-flex {\n  display: flex;\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-justify-content: center;\n  -webkit-align-items: center;\n}\n.display-flex-pure {\n  display: flex;\n  display: -webkit-flex;\n}\n.overflow-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.flex_1 {\n  flex: 1;\n  -webkit-flex: 1;\n}\n.flex_2 {\n  flex: 2;\n  -webkit-flex: 2;\n}\n.flex_3 {\n  flex: 3;\n  -webkit-flex: 3;\n}\n.flex_4 {\n  flex: 4;\n  -webkit-flex: 4;\n}\n.flex_5 {\n  flex: 5;\n  -webkit-flex: 5;\n}\n.flex_6 {\n  flex: 6;\n  -webkit-flex: 6;\n}\n.flex_7 {\n  flex: 7;\n  -webkit-flex: 7;\n}\n.flex_8 {\n  flex: 8;\n  -webkit-flex: 8;\n}\n.flex_9 {\n  flex: 9;\n  -webkit-flex: 9;\n}\n.com_align_item {\n  align-items: center;\n  -webkit-align-items: center;\n}\n.com_justify-content {\n  justify-content: center;\n  -webkit-justify-content: center;\n}\n.com_align_item_end {\n  align-items: flex-end;\n  -webkit-align-items: flex-end;\n}\n.com_justify_content_space {\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n}\n.com_flex-direction_column {\n  flex-direction: column;\n  -webkit-flex-direction: column;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nbutton,\nbody {\n  font-family: 'microsoft yahei';\n}\nbody {\n  line-height: 1.42857143;\n}\n/*==============统一强制覆盖ionic样式Start==============*/\n.input-area {\n  display: inline-block !important;\n}\n.tab-item-active {\n  /*  color:#89B64B !important; */\n  color: #6B94D6 !important;\n}\n.bar-header {\n  background: #fff !important;\n  /*color: #fff !important;\n  background: #89B64B !important;*/\n}\n.bar .title {\n  color: #4A6B9D!important;\n}\n.bar-footer {\n  background: #5c6761 !important;\n  color: #fff!important;\n}\n.defined_bg {\n  background: #6B94D6 !important;\n  color: #fff !important;\n}\n.defined_bg_tint {\n  background: #A3B6DA !important;\n  color: #fff !important;\n}\n.item-divider {\n  /*background-color:#B8CFE4!important;*/\n  background-color: #fff !important;\n  font-size: 17px;\n  font-color: #6B94D6;\n  color: #6B94D6!important;\n  /*color:#233152!important;*/\n  /*margin: 10px auto;*/\n}\n.item-divider span {\n  margin-left: 5px;\n}\n/*==============强制覆盖ionic样式End==============*/\n/*==============公用样式Start==============*/\n.text-font-color {\n  color: #553333!important;\n}\n.text-align-left {\n  text-align: center;\n}\n.text-align-center {\n  text-align: center;\n}\n.text-align-right {\n  text-align: center;\n}\n.border-solid {\n  border: 1px solid;\n}\n.border-bottom-solid {\n  border-bottom: 1px solid;\n}\n.border-color {\n  border-color: #D7AD97;\n}\n.table-header-color {\n  background: #d2f7ef;\n}\n.table-tr-color,\n.row-color {\n  background: #fbf7db;\n}\n.ion-item-even {\n  background: #FFF;\n}\n.ion-item-odd {\n  background: #F3F3F3;\n}\n.work-correct-font {\n  font-weight: bold;\n  font-size: 19px;\n  color: #003366;\n}\n.button-color {\n  background: #5c6761 !important;\n  color: #fff!important;\n}\n.item-input-height {\n  height: 40px;\n}\n.item-input-height input {\n  font-size: 18px;\n  color: #553333!important;\n}\n.content-font-color h2,\n.content-font-color p {\n  color: #553333!important;\n}\n.theme-color {\n  color: #6B94D6;\n}\n.pull-icon {\n  color: #6B94D6;\n  font-size: 30px;\n  position: absolute;\n  right: 0;\n  bottom: 0px;\n}\n.card-better {\n  border-radius: 10px;\n  box-shadow: 0px 0px 18px #D0C4C4;\n  padding-bottom: 0px;\n  padding-top: 0px;\n}\n.card-better .card-title {\n  color: #273A43;\n  background: #D2F7EF;\n}\n.card-better .card-body {\n  color: #4a3c37;\n}\n.list-even {\n  background: #FDF8EE;\n}\n.small_q_bg {\n  background: #daf5fe;\n}\n.small_q_bg .q-context {\n  color: #17233e;\n  margin-top: 20px;\n}\n/*===========弹出框样式====================*/\n.popup-container .popup {\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n}\n.popup-container .popup .popup-head {\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  -webkit-border-top-left-radius: 10px;\n  -webkit-border-top-right-image: 10px;\n  background: #6B94D6 !important;\n}\n.popup-container .popup .popup-head .popup-title {\n  color: #fff;\n  font-size: 16px;\n}\n.popup-container .popup .popup-buttons .button {\n  background: #58D152 !important;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  border-color: #58D152 !important;\n  color: #fff;\n}\n/*==============统一强制覆盖ionic样式End==============*/\n.scrollToTop {\n  height: 48px;\n  width: 48px;\n  position: fixed;\n  bottom: 15%;\n  right: 5%;\n  z-index: 1000;\n  display: none;\n  opacity: 0.6;\n  background: url("+n(4666)+') no-repeat;\n}\n/*==================公共图标样式=======================*/\n.common-help {\n  width: 30px;\n  border-radius: 15px;\n}\n.common-help-tip {\n  width: 24px;\n  border-radius: 15px;\n  /* margin-top: 0px; */\n  position: absolute;\n  top: 22px;\n  left: 36px;\n}\n.btn-disabled-color {\n  color: #C7B7B7!important;\n}\nh1.title {\n  overflow: hidden;\n}\n.circle-input-area {\n  border-radius: 50%!important;\n}\n.pane[hide-nav-bar="true"] .has-tabs-top {\n  top: 0px;\n}\nion-header-bar .button i,\nion-header-bar .title {\n  color: #4a6b9d;\n}\n.common-back-btn {\n  width: 50px;\n  text-align: left;\n}\n.common-help-tip-wrap {\n  border-radius: 8px;\n  margin: 20px 10px 0px 10px;\n  background-color: #ffffff;\n}\n.common-help-tip-wrap .common-help-bar {\n  color: #838E92;\n  font-size: 15px;\n  text-align: left;\n  margin: 0;\n  padding: 5px 10px;\n}\n.common-help-tip-wrap .common-help-bar .common-help-bar-icon {\n  margin-right: 10px;\n  color: #F26691;\n  font-size: 25px;\n  vertical-align: sub;\n}\n.pub_paper_to_stu .clazz_margin_bottom {\n  margin-bottom: 15px;\n}\n.pub_paper_to_stu .clazz_margin_bottom_last {\n  margin-bottom: 20px;\n}\n.pub_paper_to_stu .padding-better {\n  padding-left: 10px;\n}\n.pub_paper_to_stu .pub-content {\n  padding-top: 20px;\n  font-size: 17px;\n  color: #293d69;\n  background-color: #E9EDF3;\n}\n.pub_paper_to_stu .pub-content .paper-title-wrap {\n  height: 55px;\n  line-height: 55px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.pub_paper_to_stu .pub-content .paper-title-wrap .paper-name {\n  float: left;\n}\n.pub_paper_to_stu .pub-content .paper-title-wrap .paper-title {\n  text-align: center;\n}\n.pub_paper_to_stu .pub-content .pub-conctroll-wrap {\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  box-shadow: 2px 2px 0px #aaaaaa;\n  height: 55px;\n  line-height: 55px;\n  padding-right: 10px;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n  margin: 10px 0;\n}\n.pub_paper_to_stu .pub-content .pub-conctroll-wrap select {\n  height: 50px;\n  float: right;\n  border: none;\n  width: 100%;\n  font-size: 16px;\n  color: #293d69;\n  background-color: #ffffff;\n}\n.pub_paper_to_stu .pub-content .pub-conctroll-wrap .pub-right-now {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  pointer-events: none;\n  width: 100%;\n  height: 35px;\n  line-height: 35px;\n  background-color: #fff;\n  border: solid 1px #566093;\n  border-left: solid 2px #566093;\n  border-right: solid 2px #566093;\n}\n.pub_paper_to_stu .pub-content .pub-conctroll-wrap .pub-right-now-win {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  -webkit-flex-direction: row;\n  justify-content: space-between;\n  -webkit-justify-content: space-between;\n  align-items: center;\n  -webkit-align-items: center;\n}\n.pub_paper_to_stu .pub-content .pub-list-wrap .has-no-clazz {\n  margin-top: 20px;\n}\n.pub_paper_to_stu .pub-content .pub-list-wrap .item {\n  border: none;\n}\n.pub_paper_to_stu .pub-content .pub-list-wrap .clazz-even {\n  background-color: #FEFAF1;\n}\n.pub_paper_to_stu .pub-content .pub-list-wrap .pub-clazz-name-wrap {\n  height: 40px;\n  line-height: 40px;\n  margin-top: 20px;\n}\n.pub_paper_to_stu .pub-content .pub-list-wrap .clazz-name-wrap {\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  background-color: #aff1e1;\n}\n',""])},5505:function(e,t,n){"use strict";n(5506),n(5507)},5506:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,o,a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5479);r=(0,l.Service)("compositeStandaloneQuesService"),o=(0,l.Inject)("$q","commonService","uuid4"),r(a=o(a=function(){function e(){i(this,e)}return s(e,[{key:"getScorePointId",value:function(){return this.uuid4.generate()}},{key:"getInputId",value:function(){return this.uuid4.generate()}},{key:"compositeQuesHtml",value:function(e){var t="",n="<p>"+e.quesTitle+'  根据题目，应选择 <input class="appTextarea input-area select-input-area square-select-input-area"style="width: 40px; height: 30px;" id="'+e.inputId+'"label="Q1">。</p>';0!=e.img.length&&(t="",angular.forEach(e.img,function(n,i){var r=e.img[i].uuid,o=e.img[i].type;t+='<p><span class="absolute-edit-area"style="display: block;text-align: center; min-width: 15px; min-height: 15px;padding: 10px 0 10px 0;position: relative;"contenteditable="false"><img class="img_big" style="max-width: 100%" src="'+r+"."+o+'"></p>'}));var i="<p>&nbsp;</p>";return angular.forEach(e.options,function(t,n){i+="<p>"+String.fromCharCode(64+parseInt(n+1))+".&nbsp;&nbsp;"+e.options[n]}),i+="<p>&nbsp;</p>",'<div class="layout-box"><div style="padding: 0 5px;">'+n+t+i+"</div></div>"}},{key:"getScorePoints",value:function(e){var t=[];e.options.forEach(function(e,n){t.push({expr:String.fromCharCode(64+parseInt(n+1))})});var n={};return n.type="standalone",n.scorePoints=[{}],n.scorePoints[0].label="得分点1",n.scorePoints[0].uuid=e.scorePointId,n.scorePoints[0].openStyle=0,n.scorePoints[0].referInputBoxes=[{label:"Q1",uuid:e.inputId,info:{type:{name:"blank",val:"无边框"},selectItem:t}}],n.scorePoints[0].answerList=[{expr:e.rightAns,uuid:e.scorePointId}],[n]}}]),e}())||a)},5507:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,a,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5479),p=n(5483),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p);o=(0,u.Service)("personalQBService"),a=(0,u.Inject)("$q","commonService","teacherPersonalQbInterface","$ngRedux"),o(s=a((l=function(){function e(){i(this,e),this.cancelSubmitQuesRequest=[]}return c(e,[{key:"getTextbooksList",value:function(e){e=e||angular.noop;var t={depth:2,onlyGrade:!0};this.commonService.commonPost(this.teacherPersonalQbInterface.getTextbooks,t).then(function(t){e(200==t.code?t.detail:!1)})}},{key:"getUnitInfo",value:function(e,t){var n=this;return function(i,r){var o=n.$q.defer(),a={depth:7,grade:t,book:e,onlyGrade:!0};return i({type:d.BOOK_TYPE.FETCH_SELECT_BOOK_INFO_START}),n.commonService.commonPost(n.teacherPersonalQbInterface.getTextbooks,a).then(function(e){if(200==e.code){var t=e.detail;i({type:d.BOOK_TYPE.FETCH_SELECT_BOOK_INFO_SUCCESS,playLoad:t}),o.resolve(t)}else i({type:d.BOOK_TYPE.FETCH_SELECT_BOOK_INFO_FAIL}),o.resolve(!1)}),o.promise}}},{key:"selectTextbook",value:function(e,t){var n={};return n.text=e.text,n.code=e.code,function(e,i){e({type:d.EDITING_QUES.SELECT_BOOK_TYPE,playLoad:{textbook:n,grade:t}})}}},{key:"selectChapterUnit",value:function(e,t){var n={};return n.code=e.code,n.id=e.id,n.seq=e.seq,n.text=e.text,function(n,i){n({type:d.EDITING_QUES.SELECT_CHAPTER_UNIT,playLoad:{unit:e,chapter:t}})}}},{key:"selectKnowledgePoint",value:function(e){return function(t,n){t({type:d.EDITING_QUES.SELECT_KNOWLEDGE_POINT,playLoad:{knowledge:e}})}}},{key:"selectDifficultyLevel",value:function(e){return function(t,n){t({type:d.EDITING_QUES.SELECT_DIFFICULTY_LEVEL,playLoad:{difficulty:e}})}}},{key:"addQuestionForTeacherLib",value:function(e){var t=this.$q.defer();this.commonService.commonPost(this.teacherPersonalQbInterface.createQuestionForTeacher,e).then(function(e){200==e.code?t.resolve(!0):t.resolve(!1)});return t.promise}},{key:"saveQuesTitle",value:function(e){return function(t,n){t({type:d.QUES_CONTENT.SAVE_QUES_TITLE,playLoad:{quesTitle:e}})}}},{key:"saveQuesImgList",value:function(e){return function(t,n){t({type:d.QUES_CONTENT.SAVE_QUES_IMG_LIST,playLoad:{imageList:e}})}}},{key:"saveQuesOptions",value:function(e,t){return function(n,i){n({type:d.QUES_CONTENT.SAVE_QUES_ANS_OPTIONS,playLoad:{quesRightAns:e,quesOptionsAns:t}})}}},{key:"clearSelectQuesInfo",value:function(){return function(e,t){e({type:d.EDITING_QUES.CLEAR_EDITING_QUES})}}},{key:"clearEditQuesInfo",value:function(){return function(e,t){e({type:d.QUES_CONTENT.CLEAR_QUES_CONTENT})}}},{key:"getTeacherQbQuestionCount",value:function(e){var t=this.$q.defer();return this.commonService.commonPost(this.teacherPersonalQbInterface.getTeacherQbQuestionCount,{userId:e}).then(function(e){200==e.code?t.resolve(e.teacherQbQuestionCount):t.resolve(!1)}),t.promise}},{key:"getQbQuestionList",value:function(e,t){var n=this;t=t||angular.noop,this.commonService.commonPost(this.teacherPersonalQbInterface.getTeacherQbQuestionList,{userId:e}).then(function(e){200==e.code?t.call(n,e.teacherQbQuestionList):t.call(n,!1)})}},{key:"composePaper",value:function(e){var t=this;return function(n,i){var r=t.$q.defer();return n({type:d.MAKE_PAPER.MAKE_PAPER_FROM_TEACHER_QB_START}),t.commonService.commonPost(t.teacherPersonalQbInterface.makePaperFromTeacherQb,e).then(function(t){if(200==t.code){var i={paperName:e.paperName,paperId:t.paperId};n({type:d.MAKE_PAPER.MAKE_PAPER_FROM_TEACHER_QB_SUCCESS,playLoad:i}),r.resolve(t)}else n({type:d.MAKE_PAPER.MAKE_PAPER_FROM_TEACHER_QB_FAIL}),r.resolve(t)}),r.promise}}},{key:"changePaperName",value:function(e){return function(t,n){t({type:d.MAKE_PAPER.CHANGE_NAME_MAKE_PAPER_FROM_TEACHER,playLoad:{paperName:e}})}}},{key:"clearTempMackPaper",value:function(){return function(e,t){e({type:d.MAKE_PAPER.CLEAR_TEMP_MAKE_PAPER})}}},{key:"deleteQuesFromTeacherQb",value:function(e){var t={questionIds:JSON.stringify(e)},n=this.$q.defer();return this.commonService.commonPost(this.teacherPersonalQbInterface.deleteQuesFromTeacherQb,t).then(function(e){e.code,n.resolve(e)}),n.promise}}]),e}(),r(l.prototype,"getUnitInfo",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"getUnitInfo"),l.prototype),r(l.prototype,"selectTextbook",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"selectTextbook"),l.prototype),r(l.prototype,"selectChapterUnit",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"selectChapterUnit"),l.prototype),r(l.prototype,"selectKnowledgePoint",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"selectKnowledgePoint"),l.prototype),r(l.prototype,"selectDifficultyLevel",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"selectDifficultyLevel"),l.prototype),r(l.prototype,"saveQuesTitle",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"saveQuesTitle"),l.prototype),r(l.prototype,"saveQuesImgList",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"saveQuesImgList"),l.prototype),r(l.prototype,"saveQuesOptions",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"saveQuesOptions"),l.prototype),r(l.prototype,"clearSelectQuesInfo",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"clearSelectQuesInfo"),l.prototype),r(l.prototype,"clearEditQuesInfo",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"clearEditQuesInfo"),l.prototype),r(l.prototype,"composePaper",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"composePaper"),l.prototype),r(l.prototype,"changePaperName",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"changePaperName"),l.prototype),r(l.prototype,"clearTempMackPaper",[u.actionCreator],Object.getOwnPropertyDescriptor(l.prototype,"clearTempMackPaper"),l.prototype),s=l))||s)},5508:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,o,a=n(5479);(r=(0,a.Constant)("teacherPersonalQbInterface",{createQuestionForTeacher:"/rqb/question/createQuestionForTeacher",getTeacherQbQuestionCount:"/rqb/question/getTeacherQbQuestionCount",getTeacherQbQuestionList:"/rqb/question/getTeacherQbQuestionList",makePaperFromTeacherQb:"/pqb/api/paper/makePaperFromTeacherQb",getTextbooks:"/rqb/tag/getTextbooks_v2",paperReport:"/qbu/api/simpleStatics/paperReport",deleteQuesFromTeacherQb:"/rqb/question/removeTeacherDbQuestion"}))(o=function e(){i(this,e)})},5509:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(5510),o=i(r),a=n(5514),s=i(a),l=angular.module("t_personal_qb.directive",[]);l.directive("submitLoading",o.default),l.directive("selectBorad",s.default)},5510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{restrict:"AE",scope:{loading:"=",cancelSubmit:"="},replace:!1,template:n(5511),controller:["$scope","$rootScope","$ionicLoading","$ngRedux",function(e,t,n,i){e.hideSubmitLoading=function(){t.showSubmitLoading=!1,e.cancelSubmit()}}],link:function(e,t,n,i){}}},n(5512)},5511:function(e,t){e.exports='<div class="submit-loading" ng-if="$root.showSubmitLoading">\r\n    <div class="submit-loading-header">\r\n        <span ng-click="hideSubmitLoading()" style="color: #ffffff;font-size: 18px">\r\n            <i class="icon ion-ios-arrow-back" style="font-size: 20px"> </i>\r\n            <span>返回</span>\r\n        </span>\r\n    </div>\r\n    <div class="submit-loading-content" ng-if="!loading">\r\n        <div class="loading-mark">\r\n            <img class="loading-bg" ng-src="{{$root.loadPersonalQBImg(\'loading/loading_03.png\')}}">\r\n            <img class="loading-status-mark loading-status-animation"\r\n                 ng-src="{{$root.loadPersonalQBImg(\'loading/loading_01.png\')}}">\r\n        </div>\r\n        <img class="loading-status" ng-src="{{$root.loadPersonalQBImg(\'loading/loading_04.png\')}}">\r\n    </div>\r\n    <div class="submit-loading-content" ng-if="loading">\r\n        <div class="loading-mark">\r\n            <img ng-src="{{$root.loadPersonalQBImg(\'loading/loading_03.png\')}}">\r\n            <img class="loading-status-mark" ng-src="{{$root.loadPersonalQBImg(\'loading/loading_02.png\')}}">\r\n        </div>\r\n        <img class="loading-status" ng-src="{{$root.loadPersonalQBImg(\'loading/loading_05.png\')}}">\r\n    </div>\r\n</div>'},5512:function(e,t,n){var i=n(5513);"string"==typeof i&&(i=[[e.id,i,""]]);n(147)(i,{});i.locals&&(e.exports=i.locals)},5513:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,".submit-loading {\n  background-color: #999999;\n  z-index: 1000;\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.submit-loading .submit-loading-header {\n  position: fixed;\n  top: 10px;\n  width: 100%;\n  z-index: 1010;\n  padding: 0 20px;\n}\n.submit-loading .submit-loading-content {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  width: 225px;\n  height: 250px;\n}\n.submit-loading .loading-mark {\n  position: relative;\n}\n.submit-loading .loading-mark .loading-status-mark {\n  position: absolute;\n  left: 25px;\n  top: 30px;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n}\n.submit-loading .loading-mark .loading-status-animation {\n  animation: arrow-animation 1s infinite normal;\n  -webkit-animation: arrow-animation 1s infinite normal;\n}\n.submit-loading .loading-status {\n  margin: 5px auto;\n  display: block;\n}\n@keyframes arrow-animation {\n  0% {\n    transform: translate3d(0, 0, 0);\n    -webkit-transform: translate3d(0, 0, 0);\n  }\n  50% {\n    transform: translate3d(0, -10px, 0);\n    -webkit-transform: translate3d(0, -10px, 0);\n  }\n  100% {\n    transform: translate3d(0, 0, 0);\n    -webkit-transform: translate3d(0, 0, 0);\n  }\n}\n@-webkit-keyframes arrow-animation {\n  0% {\n    transform: translate3d(0, 0, 0);\n    -webkit-transform: translate3d(0, 0, 0);\n  }\n  50% {\n    transform: translate3d(0, -10px, 0);\n    -webkit-transform: translate3d(0, -10px, 0);\n  }\n  100% {\n    transform: translate3d(0, 0, 0);\n    -webkit-transform: translate3d(0, 0, 0);\n  }\n}\n",""])},5514:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){return{restrict:"AE",scope:{quesRightAns:"=",isShowBorad:"=",selectOptions:"="},replace:!1,template:n(5515),controller:["$scope","$rootScope","$ionicLoading","$ngRedux",function(e,t,n,r){e.selectClick=function(t){"object"===("undefined"==typeof $event?"undefined":i($event))&&$event.stopPropagation?$event.stopPropagation():event&&event.stopPropagation&&event.stopPropagation(),"del"==t?(e.quesRightAns="",e.selectOptions(e.quesRightAns)):"cancel"==t?e.hideSelectBorad():(e.quesRightAns=t,e.selectOptions(e.quesRightAns),e.hideSelectBorad())},e.hideSelectBorad=function(){e.isShowBorad=!1}}],link:function(e,t,n,i){}}},n(5516)},5515:function(e,t){e.exports='<div class="add_ques_select_board" ng-if="isShowBorad">\r\n    <div class="m-select-borad">\r\n        <div class="select-option-row">\r\n            <span class="select-option-item" ng-click="selectClick(\'A\',$event)">A</span>\r\n            <span class="select-option-item" ng-click="selectClick(\'B\',$event)">B</span>\r\n            <span class="select-option-item select-option-item-butn" ng-click="selectClick(\'del\',$event)">删除</span>\r\n        </div>\r\n        <div class="select-option-row">\r\n            <span class="select-option-item" ng-click="selectClick(\'C\',$event)">C</span>\r\n            <span class="select-option-item" ng-click="selectClick(\'D\',$event)">D</span>\r\n            <span class="select-option-item select-option-item-butn" ng-click="selectClick(\'cancel\',$event)">取消</span>\r\n        </div>\r\n    </a>\r\n</div>'},5516:function(e,t,n){var i=n(5517);"string"==typeof i&&(i=[[e.id,i,""]]);n(147)(i,{});i.locals&&(e.exports=i.locals)},5517:function(e,t,n){t=e.exports=n(146)(),t.push([e.id,".add_ques_select_board {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: 100%;\n  height: 135px;\n  background-color: #f0f1f5;\n  z-index: 10;\n  box-shadow: 0px 1px 2px 2px #ded5d5;\n  border-radius: 2px;\n}\n.add_ques_select_board .m-select-borad {\n  width: 95%;\n  height: 96%;\n  margin: 2% auto;\n  background-color: #e1e2e7;\n  box-shadow: 0px 2px 3px 4px #d3d4d6;\n  border-radius: 2px;\n}\n.add_ques_select_board .m-select-borad .select-option-row {\n  width: 95%;\n  margin: 0 auto;\n  padding: 2px 0;\n}\n.add_ques_select_board .m-select-borad .select-option-row .select-option-item {\n  padding: 10px 5px;\n  text-align: center;\n  margin: 5px;\n  display: inline-block;\n  width: 35%;\n  background-color: #FFFFFF;\n  border-radius: 6px;\n  color: #111111;\n  font-size: 18px;\n  font-weight: 600;\n}\n.add_ques_select_board .m-select-borad .select-option-row .select-option-item-butn {\n  width: 50px;\n  background-color: #57b7dd;\n  color: #ffffff;\n  font-size: 16px;\n  font-weight: normal;\n}\n",""])}});