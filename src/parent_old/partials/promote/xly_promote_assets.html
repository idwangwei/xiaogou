<ion-view hide-nav-bar="true" class="xly_promote_assets">
    <ion-header-bar align-title="center" class="bar-balanced">
        <div class="button buttons  button-clear header-item" ng-click="back()" style="padding: 0 10px">
            <i class="icon ion-ios-arrow-back"></i>
            &nbsp;&nbsp;</div>
        <h1 class="title">VIP客户详情</h1>

    </ion-header-bar>
    <ion-content padding="false" class="has-header">
        <ion-refresher
                pulling-text="下拉刷新..."
                on-refresh="doRefresh()">
        </ion-refresher>
        <div class="promote_assets_head">
            <div class="time-filter-box">
                <div ng-click="openDatePicker(0)" ng-class="{'show-start-time-default':!queryParam.startTime}">
                    {{queryParam.startTime.split(" ")[0]}}
                </div>
                <div ng-click="openDatePicker(1)" ng-class="{'show-end-time-default':!queryParam.endTime}">
                    {{queryParam.endTime.split(" ")[0]}}
                </div>
                <div class="query-btn" ng-click="doRefresh()">查询</div>
            </div>
            <div class="invite-info-box">
                <div>VIP客户总数：{{vipsInfo.count}}人</div>
                <div>总金额：￥{{vipsInfo.totalMoney}}</div>
            </div>
        </div>
        <div class="promote_assets_details">
            <div class="details_table">
                <div class="row vip-list-title">
                    <div class="col details_col">姓名&用户名</div>
                    <div class="col details_col" ng-click="setSortType('school')">
                        <span>地区&学校</span>
                        <i class="icon"
                           ng-if="queryParam.sortColumn == 'school'"
                           ng-class="{'ion-arrow-down-c':queryParam.sortType == 'desc','ion-arrow-up-c':queryParam.sortType == 'asc'}"></i>
                    </div>
                    <div class="col details_col" ng-click="setSortType('grade')">
                        <span>年级</span>
                        <i class="icon"
                           ng-if="queryParam.sortColumn == 'grade'"
                           ng-class="{'ion-arrow-down-c':queryParam.sortType == 'desc','ion-arrow-up-c':queryParam.sortType == 'asc'}"></i>
                    </div>
                    <div class="col details_col" ng-click="setSortType('time')">
                        <span>开VIP时间</span>
                        <i class="icon"
                           ng-if="queryParam.sortColumn == 'time'"
                           ng-class="{'ion-arrow-down-c':queryParam.sortType == 'desc','ion-arrow-up-c':queryParam.sortType == 'asc'}"></i>
                    </div>
                </div>
                <div class="row vip-list-item" ng-repeat="vip in vipsInfo.orders">
                    <div class="col details_col">
                        <span>{{vip.realName}}</span>
                        <span>{{vip.userName}}</span>
                    </div>
                    <div class="col details_col">{{vip.school}}</div>
                    <div class="col details_col">{{vip.grade}}</div>
                    <div class="col details_col">{{vip.orderTime}}</div>
                </div>

            </div>
        </div>
        <ion-infinite-scroll
                ng-if="showLoadMore"
                icon="ion-loading-c"
                on-infinite="loadMoreData()">
        </ion-infinite-scroll>
    </ion-content>
</ion-view>